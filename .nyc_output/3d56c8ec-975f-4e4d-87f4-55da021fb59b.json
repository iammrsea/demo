{"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\japaFile.ts":{"path":"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\japaFile.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":8,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":4},"end":{"line":4,"column":89}},"4":{"start":{"line":4,"column":71},"end":{"line":4,"column":83}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},"6":{"start":{"line":6,"column":26},"end":{"line":6,"column":33}},"7":{"start":{"line":7,"column":4},"end":{"line":7,"column":17}},"8":{"start":{"line":9,"column":25},"end":{"line":13,"column":2}},"9":{"start":{"line":10,"column":4},"end":{"line":10,"column":72}},"10":{"start":{"line":12,"column":4},"end":{"line":12,"column":21}},"11":{"start":{"line":14,"column":19},"end":{"line":20,"column":1}},"12":{"start":{"line":15,"column":4},"end":{"line":15,"column":42}},"13":{"start":{"line":15,"column":31},"end":{"line":15,"column":42}},"14":{"start":{"line":16,"column":17},"end":{"line":16,"column":19}},"15":{"start":{"line":17,"column":4},"end":{"line":17,"column":141}},"16":{"start":{"line":17,"column":21},"end":{"line":17,"column":141}},"17":{"start":{"line":17,"column":40},"end":{"line":17,"column":141}},"18":{"start":{"line":17,"column":109},"end":{"line":17,"column":141}},"19":{"start":{"line":18,"column":4},"end":{"line":18,"column":36}},"20":{"start":{"line":19,"column":4},"end":{"line":19,"column":18}},"21":{"start":{"line":21,"column":22},"end":{"line":23,"column":1}},"22":{"start":{"line":22,"column":4},"end":{"line":22,"column":62}},"23":{"start":{"line":24,"column":0},"end":{"line":24,"column":62}},"24":{"start":{"line":25,"column":0},"end":{"line":25,"column":28}},"25":{"start":{"line":26,"column":15},"end":{"line":26,"column":30}},"26":{"start":{"line":27,"column":19},"end":{"line":27,"column":55}},"27":{"start":{"line":28,"column":15},"end":{"line":28,"column":30}},"28":{"start":{"line":29,"column":29},"end":{"line":29,"column":75}},"29":{"start":{"line":30,"column":0},"end":{"line":30,"column":33}},"30":{"start":{"line":31,"column":0},"end":{"line":31,"column":52}},"31":{"start":{"line":32,"column":0},"end":{"line":32,"column":74}},"32":{"start":{"line":34,"column":24},"end":{"line":34,"column":117}},"33":{"start":{"line":34,"column":59},"end":{"line":34,"column":116}},"34":{"start":{"line":35,"column":4},"end":{"line":35,"column":58}},"35":{"start":{"line":36,"column":4},"end":{"line":36,"column":54}},"36":{"start":{"line":39,"column":22},"end":{"line":39,"column":46}},"37":{"start":{"line":40,"column":4},"end":{"line":42,"column":5}},"38":{"start":{"line":41,"column":8},"end":{"line":41,"column":36}},"39":{"start":{"line":43,"column":4},"end":{"line":43,"column":58}},"40":{"start":{"line":45,"column":0},"end":{"line":49,"column":3}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":5,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":4,"column":58},"end":{"line":4,"column":59}},"loc":{"start":{"line":4,"column":69},"end":{"line":4,"column":85}},"line":4},"2":{"name":"(anonymous_2)","decl":{"start":{"line":5,"column":6},"end":{"line":5,"column":7}},"loc":{"start":{"line":5,"column":28},"end":{"line":8,"column":1}},"line":5},"3":{"name":"(anonymous_3)","decl":{"start":{"line":9,"column":80},"end":{"line":9,"column":81}},"loc":{"start":{"line":9,"column":95},"end":{"line":11,"column":1}},"line":9},"4":{"name":"(anonymous_4)","decl":{"start":{"line":11,"column":5},"end":{"line":11,"column":6}},"loc":{"start":{"line":11,"column":20},"end":{"line":13,"column":1}},"line":11},"5":{"name":"(anonymous_5)","decl":{"start":{"line":14,"column":50},"end":{"line":14,"column":51}},"loc":{"start":{"line":14,"column":65},"end":{"line":20,"column":1}},"line":14},"6":{"name":"(anonymous_6)","decl":{"start":{"line":21,"column":56},"end":{"line":21,"column":57}},"loc":{"start":{"line":21,"column":71},"end":{"line":23,"column":1}},"line":21},"7":{"name":"startHttpServer","decl":{"start":{"line":33,"column":15},"end":{"line":33,"column":30}},"loc":{"start":{"line":33,"column":33},"end":{"line":37,"column":1}},"line":33},"8":{"name":"(anonymous_8)","decl":{"start":{"line":34,"column":53},"end":{"line":34,"column":54}},"loc":{"start":{"line":34,"column":59},"end":{"line":34,"column":116}},"line":34},"9":{"name":"getTestFiles","decl":{"start":{"line":38,"column":9},"end":{"line":38,"column":21}},"loc":{"start":{"line":38,"column":24},"end":{"line":44,"column":1}},"line":38}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":8,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":8,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":8,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":5,"column":1}},{"start":{"line":5,"column":6},"end":{"line":8,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},"type":"if","locations":[{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},{"start":{"line":6,"column":4},"end":{"line":6,"column":33}}],"line":6},"4":{"loc":{"start":{"line":9,"column":25},"end":{"line":13,"column":2}},"type":"binary-expr","locations":[{"start":{"line":9,"column":26},"end":{"line":9,"column":30}},{"start":{"line":9,"column":34},"end":{"line":9,"column":57}},{"start":{"line":9,"column":63},"end":{"line":13,"column":1}}],"line":9},"5":{"loc":{"start":{"line":9,"column":63},"end":{"line":13,"column":1}},"type":"cond-expr","locations":[{"start":{"line":9,"column":80},"end":{"line":11,"column":1}},{"start":{"line":11,"column":5},"end":{"line":13,"column":1}}],"line":9},"6":{"loc":{"start":{"line":14,"column":19},"end":{"line":20,"column":1}},"type":"binary-expr","locations":[{"start":{"line":14,"column":20},"end":{"line":14,"column":24}},{"start":{"line":14,"column":28},"end":{"line":14,"column":45}},{"start":{"line":14,"column":50},"end":{"line":20,"column":1}}],"line":14},"7":{"loc":{"start":{"line":15,"column":4},"end":{"line":15,"column":42}},"type":"if","locations":[{"start":{"line":15,"column":4},"end":{"line":15,"column":42}},{"start":{"line":15,"column":4},"end":{"line":15,"column":42}}],"line":15},"8":{"loc":{"start":{"line":15,"column":8},"end":{"line":15,"column":29}},"type":"binary-expr","locations":[{"start":{"line":15,"column":8},"end":{"line":15,"column":11}},{"start":{"line":15,"column":15},"end":{"line":15,"column":29}}],"line":15},"9":{"loc":{"start":{"line":17,"column":4},"end":{"line":17,"column":141}},"type":"if","locations":[{"start":{"line":17,"column":4},"end":{"line":17,"column":141}},{"start":{"line":17,"column":4},"end":{"line":17,"column":141}}],"line":17},"10":{"loc":{"start":{"line":17,"column":40},"end":{"line":17,"column":141}},"type":"if","locations":[{"start":{"line":17,"column":40},"end":{"line":17,"column":141}},{"start":{"line":17,"column":40},"end":{"line":17,"column":141}}],"line":17},"11":{"loc":{"start":{"line":17,"column":44},"end":{"line":17,"column":107}},"type":"binary-expr","locations":[{"start":{"line":17,"column":44},"end":{"line":17,"column":59}},{"start":{"line":17,"column":63},"end":{"line":17,"column":107}}],"line":17},"12":{"loc":{"start":{"line":21,"column":22},"end":{"line":23,"column":1}},"type":"binary-expr","locations":[{"start":{"line":21,"column":23},"end":{"line":21,"column":27}},{"start":{"line":21,"column":31},"end":{"line":21,"column":51}},{"start":{"line":21,"column":56},"end":{"line":23,"column":1}}],"line":21},"13":{"loc":{"start":{"line":22,"column":11},"end":{"line":22,"column":61}},"type":"cond-expr","locations":[{"start":{"line":22,"column":37},"end":{"line":22,"column":40}},{"start":{"line":22,"column":43},"end":{"line":22,"column":61}}],"line":22},"14":{"loc":{"start":{"line":22,"column":12},"end":{"line":22,"column":33}},"type":"binary-expr","locations":[{"start":{"line":22,"column":12},"end":{"line":22,"column":15}},{"start":{"line":22,"column":19},"end":{"line":22,"column":33}}],"line":22},"15":{"loc":{"start":{"line":40,"column":4},"end":{"line":42,"column":5}},"type":"if","locations":[{"start":{"line":40,"column":4},"end":{"line":42,"column":5}},{"start":{"line":40,"column":4},"end":{"line":42,"column":5}}],"line":40}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":1,"9":0,"10":0,"11":1,"12":1,"13":1,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":2,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":0,"40":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":1,"6":2,"7":1,"8":1,"9":1},"b":{"0":[1,1,1],"1":[1,0],"2":[0,0],"3":[0,0],"4":[1,1,1],"5":[1,0],"6":[1,1,1],"7":[1,0],"8":[1,1],"9":[0,0],"10":[0,0],"11":[0,0],"12":[1,1,1],"13":[0,2],"14":[2,2],"15":[1,0]},"inputSourceMap":{"version":3,"file":"japaFile.js","sourceRoot":"","sources":["japaFile.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA,4BAAyB;AACzB,+BAA2B;AAC3B,wDAA8B;AAC9B,+BAAgC;AAChC,4EAAiD;AAEjD,OAAO,CAAC,GAAG,CAAC,QAAQ,GAAG,SAAS,CAAA;AAChC,OAAO,CAAC,GAAG,CAAC,cAAc,GAAG,WAAI,CAAC,SAAS,CAAC,CAAA;AAC5C,4BAAgB,CAAC,OAAO,CAAC,EAAE,wBAAwB,EAAE,KAAK,EAAE,CAAC,CAAA;AAE7D,KAAK,UAAU,eAAe;IAC1B,MAAM,EAAE,OAAO,EAAE,GAAG,wDAAa,kCAAkC,GAAC,CAAA;IACpE,OAAO,CAAC,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC,MAAM,kBAAO,EAAE,CAAC,CAAA;IAC1C,MAAM,IAAI,OAAO,CAAC,SAAS,CAAC,CAAC,UAAU,EAAE,CAAC,KAAK,EAAE,CAAA;AACrD,CAAC;AAED,SAAS,YAAY;IACjB,IAAI,WAAW,GAAG,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;IAC1C,IAAI,CAAC,WAAW,EAAE;QACd,OAAO,oBAAoB,CAAA;KAC9B;IACD,OAAO,GAAG,WAAW,CAAC,OAAO,CAAC,aAAa,EAAE,EAAE,CAAC,KAAK,CAAA;AACzD,CAAC;AAED,gBAAS,CAAC;IACN,KAAK,EAAE,YAAY,EAAE;IACrB,MAAM,EAAE,CAAC,eAAe,CAAC;IACzB,OAAO,EAAE,IAAI;CAChB,CAAC,CAAA","sourcesContent":["import 'reflect-metadata'\r\nimport { join } from 'path'\r\nimport getPort from 'get-port'\r\nimport { configure } from 'japa'\r\nimport sourceMapSupport from 'source-map-support'\r\n\r\nprocess.env.NODE_ENV = 'testing'\r\nprocess.env.ADONIS_ACE_CWD = join(__dirname)\r\nsourceMapSupport.install({ handleUncaughtExceptions: false })\r\n\r\nasync function startHttpServer() {\r\n    const { Ignitor } = await import('@adonisjs/core/build/src/Ignitor')\r\n    process.env.PORT = String(await getPort())\r\n    await new Ignitor(__dirname).httpServer().start()\r\n}\r\n\r\nfunction getTestFiles() {\r\n    let userDefined = process.argv.slice(2)[0]\r\n    if (!userDefined) {\r\n        return 'tests/**/*.spec.ts'\r\n    }\r\n    return `${userDefined.replace(/\\.ts$|\\.js$/, '')}.ts`\r\n}\r\n\r\nconfigure({\r\n    files: getTestFiles(),\r\n    before: [startHttpServer],\r\n    timeout: 5000\r\n})"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8ff1c161056742702a3a3c8a9cac85dd09ad169b","contentHash":"3411855806312bb073bda6dc1b3d4057ca4e362af7965839a111638241dabe2b"},"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\env.ts":{"path":"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\env.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":14},"end":{"line":6,"column":79}},"4":{"start":{"line":7,"column":0},"end":{"line":19,"column":3}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{"0":1},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"env.js","sourceRoot":"","sources":["env.ts"],"names":[],"mappings":";;;;;AAcA,gFAAsC;AAEtC,kBAAe,aAAG,CAAC,KAAK,CAAC;IACxB,IAAI,EAAE,aAAG,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC;IAC3C,IAAI,EAAE,aAAG,CAAC,MAAM,CAAC,MAAM,EAAE;IACzB,OAAO,EAAE,aAAG,CAAC,MAAM,CAAC,MAAM,EAAE;IAC5B,QAAQ,EAAE,aAAG,CAAC,MAAM,CAAC,MAAM,EAAE;IAC7B,QAAQ,EAAE,aAAG,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,aAAa,EAAE,YAAY,EAAE,SAAS,CAAU,CAAC;IAE5E,OAAO,EAAE,aAAG,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC;IAC9C,OAAO,EAAE,aAAG,CAAC,MAAM,CAAC,MAAM,EAAE;IAC5B,OAAO,EAAE,aAAG,CAAC,MAAM,CAAC,MAAM,EAAE;IAC5B,WAAW,EAAE,aAAG,CAAC,MAAM,CAAC,MAAM,CAAC,QAAQ,EAAE;IACzC,UAAU,EAAE,aAAG,CAAC,MAAM,CAAC,MAAM,EAAE;IAE/B,WAAW,EAAE,aAAG,CAAC,MAAM,CAAC,OAAO,EAAE;CACjC,CAAC,CAAA","sourcesContent":["/*\r\n|--------------------------------------------------------------------------\r\n| Validating Environment Variables\r\n|--------------------------------------------------------------------------\r\n|\r\n| In this file we define the rules for validating environment variables.\r\n| By performing validation we ensure that your application is running in\r\n| a stable environment with correct configuration values.\r\n|\r\n| This file is read automatically by the framework during the boot lifecycle\r\n| and hence do not rename or move this file to a different location.\r\n|\r\n*/\r\n\r\nimport Env from '@ioc:Adonis/Core/Env'\r\n\r\nexport default Env.rules({\r\n\tHOST: Env.schema.string({ format: 'host' }),\r\n\tPORT: Env.schema.number(),\r\n\tAPP_KEY: Env.schema.string(),\r\n\tAPP_NAME: Env.schema.string(),\r\n\tNODE_ENV: Env.schema.enum(['development', 'production', 'testing'] as const),\r\n\r\n\tPG_HOST: Env.schema.string({ format: 'host' }),\r\n\tPG_PORT: Env.schema.number(),\r\n\tPG_USER: Env.schema.string(),\r\n\tPG_PASSWORD: Env.schema.string.optional(),\r\n\tPG_DB_NAME: Env.schema.string(),\r\n\r\n\tCACHE_VIEWS: Env.schema.boolean()\r\n})\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"edca5a0125ece7863e9eac0aaa6d1d98881816d4","contentHash":"11f764414f983be1a046335f4b2d2a072ddd929eb69265aac234473891a40e8e"},"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\config\\app.ts":{"path":"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\config\\app.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":95}},"4":{"start":{"line":7,"column":21},"end":{"line":7,"column":59}},"5":{"start":{"line":8,"column":14},"end":{"line":8,"column":79}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":46}},"7":{"start":{"line":10,"column":0},"end":{"line":26,"column":2}},"8":{"start":{"line":27,"column":0},"end":{"line":32,"column":2}},"9":{"start":{"line":33,"column":0},"end":{"line":37,"column":2}},"10":{"start":{"line":38,"column":0},"end":{"line":38,"column":23}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1},"f":{"0":2},"b":{"0":[1,1,1],"1":[0,2],"2":[2,2]},"inputSourceMap":{"version":3,"file":"app.js","sourceRoot":"","sources":["app.ts"],"names":[],"mappings":";;;;;;AAOA,4DAAkC;AAClC,gFAAsC;AAmBzB,QAAA,MAAM,GAAW,aAAG,CAAC,GAAG,CAAC,SAAS,CAAC,CAAA;AAWnC,QAAA,IAAI,GAAiB;IAYhC,mBAAmB,EAAE,KAAK;IAO1B,eAAe,EAAE,CAAC;IAWlB,iBAAiB,EAAE,KAAK;IAWxB,UAAU,EAAE,oBAAS,CAAC,OAAO,CAAC,UAAU,CAAC;IAUzC,IAAI,EAAE,KAAK;IAOX,iBAAiB,EAAE,UAAU;IAO7B,MAAM,EAAE;QACN,MAAM,EAAE,EAAE;QACV,IAAI,EAAE,GAAG;QACT,MAAM,EAAE,IAAI;QACZ,QAAQ,EAAE,IAAI;QACd,MAAM,EAAE,KAAK;QACb,QAAQ,EAAE,KAAK;KAChB;IAkBD,6BAA6B,EAAE,IAAI;CACpC,CAAA;AAOY,QAAA,MAAM,GAAiB;IAalC,IAAI,EAAE,aAAG,CAAC,GAAG,CAAC,UAAU,CAAC;IAUzB,OAAO,EAAE,IAAI;IAYb,KAAK,EAAE,aAAG,CAAC,GAAG,CAAC,WAAW,EAAE,MAAM,CAAC;IAWnC,WAAW,EAAE,aAAG,CAAC,GAAG,CAAC,UAAU,CAAC,KAAK,aAAa;CACnD,CAAA;AAOY,QAAA,QAAQ,GAAmB;IAStC,OAAO,EAAE,IAAI;IAWb,SAAS,EAAE,EAAE;IAWb,SAAS,EAAE,EAAE;CACd,CAAA;AAWY,QAAA,SAAS,GAAoB,EACzC,CAAA","sourcesContent":["/**\n * Config source: https://git.io/JfefZ\n *\n * Feel free to let us know via PR, if you find something broken in this config\n * file.\n */\n\nimport proxyAddr from 'proxy-addr'\nimport Env from '@ioc:Adonis/Core/Env'\nimport { ServerConfig } from '@ioc:Adonis/Core/Server'\nimport { LoggerConfig } from '@ioc:Adonis/Core/Logger'\nimport { ProfilerConfig } from '@ioc:Adonis/Core/Profiler'\nimport { ValidatorConfig } from '@ioc:Adonis/Core/Validator'\n\n/*\n|--------------------------------------------------------------------------\n| Application secret key\n|--------------------------------------------------------------------------\n|\n| The secret to encrypt and sign different values in your application.\n| Make sure to keep the `APP_KEY` as an environment variable and secure.\n|\n| Note: Changing the application key for an existing app will make all\n| the cookies invalid and also the existing encrypted data will not\n| be decrypted.\n|\n*/\nexport const appKey: string = Env.get('APP_KEY')\n\n/*\n|--------------------------------------------------------------------------\n| Http server configuration\n|--------------------------------------------------------------------------\n|\n| The configuration for the HTTP(s) server. Make sure to go through all\n| the config properties to make keep server secure.\n|\n*/\nexport const http: ServerConfig = {\n  /*\n  |--------------------------------------------------------------------------\n  | Allow method spoofing\n  |--------------------------------------------------------------------------\n  |\n  | Method spoofing enables defining custom HTTP methods using a query string\n  | `_method`. This is usually required when you are making traditional\n  | form requests and wants to use HTTP verbs like `PUT`, `DELETE` and\n  | so on.\n  |\n  */\n  allowMethodSpoofing: false,\n\n  /*\n  |--------------------------------------------------------------------------\n  | Subdomain offset\n  |--------------------------------------------------------------------------\n  */\n  subdomainOffset: 2,\n\n  /*\n  |--------------------------------------------------------------------------\n  | Request Ids\n  |--------------------------------------------------------------------------\n  |\n  | Setting this value to `true` will generate a unique request id for each\n  | HTTP request and set it as `x-request-id` header.\n  |\n  */\n  generateRequestId: false,\n\n  /*\n  |--------------------------------------------------------------------------\n  | Trusting proxy servers\n  |--------------------------------------------------------------------------\n  |\n  | Define the proxy servers that AdonisJs must trust for reading `X-Forwarded`\n  | headers.\n  |\n  */\n  trustProxy: proxyAddr.compile('loopback'),\n\n  /*\n  |--------------------------------------------------------------------------\n  | Generating Etag\n  |--------------------------------------------------------------------------\n  |\n  | Whether or not to generate an etag for every response.\n  |\n  */\n  etag: false,\n\n  /*\n  |--------------------------------------------------------------------------\n  | JSONP Callback\n  |--------------------------------------------------------------------------\n  */\n  jsonpCallbackName: 'callback',\n\n  /*\n  |--------------------------------------------------------------------------\n  | Cookie settings\n  |--------------------------------------------------------------------------\n  */\n  cookie: {\n    domain: '',\n    path: '/',\n    maxAge: '2h',\n    httpOnly: true,\n    secure: false,\n    sameSite: false,\n  },\n\n  /*\n  |--------------------------------------------------------------------------\n  | Force content negotiation to JSON\n  |--------------------------------------------------------------------------\n  |\n  | The internals of the framework relies on the content negotiation to\n  | detect the best possible response type for a given HTTP request.\n  |\n  | However, it is a very common these days that API servers always wants to\n  | make response in JSON regardless of the existence of the `Accept` header.\n  |\n  | By setting `forceContentNegotiationToJSON = true`, you negotiate with the\n  | server in advance to always return JSON without relying on the client\n  | to set the header explicitly.\n  |\n  */\n  forceContentNegotiationToJSON: true,\n}\n\n/*\n|--------------------------------------------------------------------------\n| Logger\n|--------------------------------------------------------------------------\n*/\nexport const logger: LoggerConfig = {\n  /*\n  |--------------------------------------------------------------------------\n  | Application name\n  |--------------------------------------------------------------------------\n  |\n  | The name of the application you want to add to the log. It is recommended\n  | to always have app name in every log line.\n  |\n  | The `APP_NAME` environment variable is automatically set by AdonisJS by\n  | reading the `name` property from the `package.json` file.\n  |\n  */\n  name: Env.get('APP_NAME'),\n\n  /*\n  |--------------------------------------------------------------------------\n  | Toggle logger\n  |--------------------------------------------------------------------------\n  |\n  | Enable or disable logger application wide\n  |\n  */\n  enabled: true,\n\n  /*\n  |--------------------------------------------------------------------------\n  | Logging level\n  |--------------------------------------------------------------------------\n  |\n  | The level from which you want the logger to flush logs. It is recommended\n  | to make use of the environment variable, so that you can define log levels\n  | at deployment level and not code level.\n  |\n  */\n  level: Env.get('LOG_LEVEL', 'info'),\n\n  /*\n  |--------------------------------------------------------------------------\n  | Pretty print\n  |--------------------------------------------------------------------------\n  |\n  | It is highly advised NOT to use `prettyPrint` in production, since it\n  | can have huge impact on performance.\n  |\n  */\n  prettyPrint: Env.get('NODE_ENV') === 'development',\n}\n\n/*\n|--------------------------------------------------------------------------\n| Profiler\n|--------------------------------------------------------------------------\n*/\nexport const profiler: ProfilerConfig = {\n  /*\n  |--------------------------------------------------------------------------\n  | Toggle profiler\n  |--------------------------------------------------------------------------\n  |\n  | Enable or disable profiler\n  |\n  */\n  enabled: true,\n\n  /*\n  |--------------------------------------------------------------------------\n  | Blacklist actions/row labels\n  |--------------------------------------------------------------------------\n  |\n  | Define an array of actions or row labels that you want to disable from\n  | getting profiled.\n  |\n  */\n  blacklist: [],\n\n  /*\n  |--------------------------------------------------------------------------\n  | Whitelist actions/row labels\n  |--------------------------------------------------------------------------\n  |\n  | Define an array of actions or row labels that you want to whitelist for\n  | the profiler. When whitelist is defined, then `blacklist` is ignored.\n  |\n  */\n  whitelist: [],\n}\n\n/*\n|--------------------------------------------------------------------------\n| Validator\n|--------------------------------------------------------------------------\n|\n| Configure the global configuration for the validator. Here's the reference\n| to the default config https://git.io/JT0WE\n|\n*/\nexport const validator: ValidatorConfig = {\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"01e7cdd6db0e981e44c18a051bc5d6b34fbcbc04","contentHash":"dcab2d487fd7df00d17dedf5e43aba695c84b7e4f65c33d9cd8c9c9db6d75f4c"},"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\config\\auth.ts":{"path":"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\config\\auth.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":8,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":4},"end":{"line":4,"column":89}},"4":{"start":{"line":4,"column":71},"end":{"line":4,"column":83}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},"6":{"start":{"line":6,"column":26},"end":{"line":6,"column":33}},"7":{"start":{"line":7,"column":4},"end":{"line":7,"column":17}},"8":{"start":{"line":9,"column":25},"end":{"line":13,"column":2}},"9":{"start":{"line":10,"column":4},"end":{"line":10,"column":72}},"10":{"start":{"line":12,"column":4},"end":{"line":12,"column":21}},"11":{"start":{"line":14,"column":19},"end":{"line":20,"column":1}},"12":{"start":{"line":15,"column":4},"end":{"line":15,"column":42}},"13":{"start":{"line":15,"column":31},"end":{"line":15,"column":42}},"14":{"start":{"line":16,"column":17},"end":{"line":16,"column":19}},"15":{"start":{"line":17,"column":4},"end":{"line":17,"column":141}},"16":{"start":{"line":17,"column":21},"end":{"line":17,"column":141}},"17":{"start":{"line":17,"column":40},"end":{"line":17,"column":141}},"18":{"start":{"line":17,"column":109},"end":{"line":17,"column":141}},"19":{"start":{"line":18,"column":4},"end":{"line":18,"column":36}},"20":{"start":{"line":19,"column":4},"end":{"line":19,"column":18}},"21":{"start":{"line":21,"column":0},"end":{"line":21,"column":62}},"22":{"start":{"line":22,"column":19},"end":{"line":40,"column":1}},"23":{"start":{"line":36,"column":29},"end":{"line":36,"column":121}},"24":{"start":{"line":36,"column":58},"end":{"line":36,"column":120}},"25":{"start":{"line":41,"column":0},"end":{"line":41,"column":29}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":5,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":4,"column":58},"end":{"line":4,"column":59}},"loc":{"start":{"line":4,"column":69},"end":{"line":4,"column":85}},"line":4},"2":{"name":"(anonymous_2)","decl":{"start":{"line":5,"column":6},"end":{"line":5,"column":7}},"loc":{"start":{"line":5,"column":28},"end":{"line":8,"column":1}},"line":5},"3":{"name":"(anonymous_3)","decl":{"start":{"line":9,"column":80},"end":{"line":9,"column":81}},"loc":{"start":{"line":9,"column":95},"end":{"line":11,"column":1}},"line":9},"4":{"name":"(anonymous_4)","decl":{"start":{"line":11,"column":5},"end":{"line":11,"column":6}},"loc":{"start":{"line":11,"column":20},"end":{"line":13,"column":1}},"line":11},"5":{"name":"(anonymous_5)","decl":{"start":{"line":14,"column":50},"end":{"line":14,"column":51}},"loc":{"start":{"line":14,"column":65},"end":{"line":20,"column":1}},"line":14},"6":{"name":"(anonymous_6)","decl":{"start":{"line":36,"column":23},"end":{"line":36,"column":24}},"loc":{"start":{"line":36,"column":29},"end":{"line":36,"column":121}},"line":36},"7":{"name":"(anonymous_7)","decl":{"start":{"line":36,"column":52},"end":{"line":36,"column":53}},"loc":{"start":{"line":36,"column":58},"end":{"line":36,"column":120}},"line":36}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":8,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":8,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":8,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":5,"column":1}},{"start":{"line":5,"column":6},"end":{"line":8,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},"type":"if","locations":[{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},{"start":{"line":6,"column":4},"end":{"line":6,"column":33}}],"line":6},"4":{"loc":{"start":{"line":9,"column":25},"end":{"line":13,"column":2}},"type":"binary-expr","locations":[{"start":{"line":9,"column":26},"end":{"line":9,"column":30}},{"start":{"line":9,"column":34},"end":{"line":9,"column":57}},{"start":{"line":9,"column":63},"end":{"line":13,"column":1}}],"line":9},"5":{"loc":{"start":{"line":9,"column":63},"end":{"line":13,"column":1}},"type":"cond-expr","locations":[{"start":{"line":9,"column":80},"end":{"line":11,"column":1}},{"start":{"line":11,"column":5},"end":{"line":13,"column":1}}],"line":9},"6":{"loc":{"start":{"line":14,"column":19},"end":{"line":20,"column":1}},"type":"binary-expr","locations":[{"start":{"line":14,"column":20},"end":{"line":14,"column":24}},{"start":{"line":14,"column":28},"end":{"line":14,"column":45}},{"start":{"line":14,"column":50},"end":{"line":20,"column":1}}],"line":14},"7":{"loc":{"start":{"line":15,"column":4},"end":{"line":15,"column":42}},"type":"if","locations":[{"start":{"line":15,"column":4},"end":{"line":15,"column":42}},{"start":{"line":15,"column":4},"end":{"line":15,"column":42}}],"line":15},"8":{"loc":{"start":{"line":15,"column":8},"end":{"line":15,"column":29}},"type":"binary-expr","locations":[{"start":{"line":15,"column":8},"end":{"line":15,"column":11}},{"start":{"line":15,"column":15},"end":{"line":15,"column":29}}],"line":15},"9":{"loc":{"start":{"line":17,"column":4},"end":{"line":17,"column":141}},"type":"if","locations":[{"start":{"line":17,"column":4},"end":{"line":17,"column":141}},{"start":{"line":17,"column":4},"end":{"line":17,"column":141}}],"line":17},"10":{"loc":{"start":{"line":17,"column":40},"end":{"line":17,"column":141}},"type":"if","locations":[{"start":{"line":17,"column":40},"end":{"line":17,"column":141}},{"start":{"line":17,"column":40},"end":{"line":17,"column":141}}],"line":17},"11":{"loc":{"start":{"line":17,"column":44},"end":{"line":17,"column":107}},"type":"binary-expr","locations":[{"start":{"line":17,"column":44},"end":{"line":17,"column":59}},{"start":{"line":17,"column":63},"end":{"line":17,"column":107}}],"line":17}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":1,"9":0,"10":0,"11":1,"12":3,"13":3,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":1,"23":3,"24":3,"25":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":3,"6":3,"7":3},"b":{"0":[1,1,1],"1":[1,0],"2":[0,0],"3":[0,0],"4":[1,1,1],"5":[1,0],"6":[1,1,1],"7":[3,0],"8":[3,3],"9":[0,0],"10":[0,0],"11":[0,0]},"inputSourceMap":{"version":3,"file":"auth.js","sourceRoot":"","sources":["auth.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAkBA,MAAM,UAAU,GAAe;IAC7B,KAAK,EAAE,KAAK;IACZ,IAAI,EAAE;QAcJ,GAAG,EAAE;YACH,MAAM,EAAE,KAAK;YAYb,aAAa,EAAE;gBACb,MAAM,EAAE,UAAU;gBAClB,KAAK,EAAE,YAAY;gBACnB,UAAU,EAAE,SAAS;aACtB;YAED,QAAQ,EAAE;gBASR,MAAM,EAAE,OAAO;gBAWf,aAAa,EAAE,IAAI;gBAYnB,IAAI,EAAE,CAAC,OAAO,EAAC,aAAa,CAAC;gBAa7B,KAAK,EAAE,GAAG,EAAE,6FAA0B;aACvC;SACF;KACF;CACF,CAAA;AAED,kBAAe,UAAU,CAAA","sourcesContent":["/**\n * Config source: https://git.io/JvyKy\n *\n * Feel free to let us know via PR, if you find something broken in this config\n * file.\n */\n\nimport { AuthConfig } from '@ioc:Adonis/Addons/Auth'\n\n/*\n|--------------------------------------------------------------------------\n| Authentication Mapping\n|--------------------------------------------------------------------------\n|\n| List of available authentication mapping. You must first define them\n| inside the `contracts/auth.ts` file before mentioning them here.\n|\n*/\nconst authConfig: AuthConfig = {\n  guard: 'api',\n  list: {\n    /*\n    |--------------------------------------------------------------------------\n    | OAT Guard\n    |--------------------------------------------------------------------------\n    |\n    | OAT (Opaque access tokens) guard uses database backed tokens to authenticate\n    | HTTP request. This guard DOES NOT rely on sessions or cookies and uses\n    | Authorization header value for authentication.\n    |\n    | Use this guard to authenticate mobile apps or web clients that cannot rely\n    | on cookies/sessions.\n    |\n    */\n    api: {\n      driver: 'oat',\n\n      /*\n      |--------------------------------------------------------------------------\n      | Tokens provider\n      |--------------------------------------------------------------------------\n      |\n      | Uses SQL database config for managing tokens. The foreignKey column is used\n      | to make the relationship between the user and the token. You are free to\n      | use any column name here.\n      |\n      */\n      tokenProvider: {\n        driver: 'database',\n        table: 'api_tokens',\n        foreignKey: 'user_id',\n      },\n\n      provider: {\n        /*\n        |--------------------------------------------------------------------------\n        | Driver\n        |--------------------------------------------------------------------------\n        |\n        | Name of the driver\n        |\n        */\n        driver: 'lucid',\n\n        /*\n        |--------------------------------------------------------------------------\n        | Identifier key\n        |--------------------------------------------------------------------------\n        |\n        | The identifier key is the unique key on the model. In most cases specifying\n        | the primary key is the right choice.\n        |\n        */\n        identifierKey: 'id',\n\n        /*\n        |--------------------------------------------------------------------------\n        | Uids\n        |--------------------------------------------------------------------------\n        |\n        | Uids are used to search a user against one of the mentioned columns. During\n        | login, the auth module will search the user mentioned value against one\n        | of the mentioned columns to find their user record.\n        |\n        */\n        uids: ['email','phoneNumber'],\n\n        /*\n        |--------------------------------------------------------------------------\n        | Model\n        |--------------------------------------------------------------------------\n        |\n        | The model to use for fetching or finding users. The model is imported\n        | lazily since the config files are read way earlier in the lifecycle\n        | of booting the app and the models may not be in a usable state at\n        | that time.\n        |\n        */\n        model: () => import('App/Models/User'),\n      },\n    },\n  },\n}\n\nexport default authConfig\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"3ee365682c0869e9d59077a0cf7ef48c4c0c5fdb","contentHash":"b6da0b25a6a35ce13513f8116a0a73a797bdedf469ecffaab8a95f2055830dc7"},"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\config\\bodyparser.ts":{"path":"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\config\\bodyparser.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":25},"end":{"line":42,"column":1}},"2":{"start":{"line":43,"column":0},"end":{"line":43,"column":35}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"bodyparser.js","sourceRoot":"","sources":["bodyparser.ts"],"names":[],"mappings":";;AASA,MAAM,gBAAgB,GAAqB;IAUzC,kBAAkB,EAAE,CAAC,MAAM,EAAE,KAAK,EAAE,OAAO,EAAE,QAAQ,CAAC;IAWtD,IAAI,EAAE;QACJ,QAAQ,EAAE,OAAO;QACjB,KAAK,EAAE,KAAK;QACZ,MAAM,EAAE,IAAI;QACZ,KAAK,EAAE;YACL,kBAAkB;YAClB,6BAA6B;YAC7B,0BAA0B;YAC1B,wBAAwB;SACzB;KACF;IAWD,IAAI,EAAE;QACJ,QAAQ,EAAE,OAAO;QACjB,KAAK,EAAE,KAAK;QACZ,WAAW,EAAE,EAAE;QACf,KAAK,EAAE;YACL,mCAAmC;SACpC;KACF;IAYD,GAAG,EAAE;QACH,QAAQ,EAAE,OAAO;QACjB,KAAK,EAAE,KAAK;QACZ,WAAW,EAAE,EAAE;QACf,KAAK,EAAE;YACL,QAAQ;SACT;KACF;IAWD,SAAS,EAAE;QAcT,WAAW,EAAE,IAAI;QAsBjB,eAAe,EAAE,EAAE;QAuBnB,QAAQ,EAAE,OAAO;QAWjB,SAAS,EAAE,IAAI;QAWf,KAAK,EAAE,MAAM;QAUb,KAAK,EAAE;YACL,qBAAqB;SACtB;KACF;CACF,CAAA;AAED,kBAAe,gBAAgB,CAAA","sourcesContent":["/**\n * Config source: https://git.io/Jfefn\n *\n * Feel free to let us know via PR, if you find something broken in this config\n * file.\n */\n\nimport { BodyParserConfig } from '@ioc:Adonis/Core/BodyParser'\n\nconst bodyParserConfig: BodyParserConfig = {\n  /*\n  |--------------------------------------------------------------------------\n  | White listed methods\n  |--------------------------------------------------------------------------\n  |\n  | HTTP methods for which body parsing must be performed. It is a good practice\n  | to avoid body parsing for `GET` requests.\n  |\n  */\n  whitelistedMethods: ['POST', 'PUT', 'PATCH', 'DELETE'],\n\n  /*\n  |--------------------------------------------------------------------------\n  | JSON parser settings\n  |--------------------------------------------------------------------------\n  |\n  | The settings for the JSON parser. The types defines the request content\n  | types which gets processed by the JSON parser.\n  |\n  */\n  json: {\n    encoding: 'utf-8',\n    limit: '1mb',\n    strict: true,\n    types: [\n      'application/json',\n      'application/json-patch+json',\n      'application/vnd.api+json',\n      'application/csp-report',\n    ],\n  },\n\n  /*\n  |--------------------------------------------------------------------------\n  | Form parser settings\n  |--------------------------------------------------------------------------\n  |\n  | The settings for the `application/x-www-form-urlencoded` parser. The types\n  | defines the request content types which gets processed by the form parser.\n  |\n  */\n  form: {\n    encoding: 'utf-8',\n    limit: '1mb',\n    queryString: {},\n    types: [\n      'application/x-www-form-urlencoded',\n    ],\n  },\n\n  /*\n  |--------------------------------------------------------------------------\n  | Raw body parser settings\n  |--------------------------------------------------------------------------\n  |\n  | Raw body just reads the request body stream as a plain text, which you\n  | can process by hand. This must be used when request body type is not\n  | supported by the body parser.\n  |\n  */\n  raw: {\n    encoding: 'utf-8',\n    limit: '1mb',\n    queryString: {},\n    types: [\n      'text/*',\n    ],\n  },\n\n  /*\n  |--------------------------------------------------------------------------\n  | Multipart parser settings\n  |--------------------------------------------------------------------------\n  |\n  | The settings for the `multipart/form-data` parser. The types defines the\n  | request content types which gets processed by the form parser.\n  |\n  */\n  multipart: {\n    /*\n    |--------------------------------------------------------------------------\n    | Auto process\n    |--------------------------------------------------------------------------\n    |\n    | The auto process option will process uploaded files and writes them to\n    | the `tmp` folder. You can turn it off and then manually use the stream\n    | to pipe stream to a different destination.\n    |\n    | It is recommended to keep `autoProcess=true`. Unless you are processing bigger\n    | file sizes.\n    |\n    */\n    autoProcess: true,\n\n    /*\n    |--------------------------------------------------------------------------\n    | Files to be processed manually\n    |--------------------------------------------------------------------------\n    |\n    | You can turn off `autoProcess` for certain routes by defining\n    | routes inside the following array.\n    |\n    | NOTE: Make sure the route pattern starts with a leading slash.\n    |\n    | Correct\n    | ```js\n    | /projects/:id/file\n    | ```\n    |\n    | Incorrect\n    | ```js\n    | projects/:id/file\n    | ```\n    */\n    processManually: [],\n\n    /*\n    |--------------------------------------------------------------------------\n    | Temporary file name\n    |--------------------------------------------------------------------------\n    |\n    | When auto processing is on. We will use this method to compute the temporary\n    | file name. AdonisJs will compute a unique `tmpPath` for you automatically,\n    | However, you can also define your own custom method.\n    |\n    */\n    // tmpFileName () {\n    // },\n\n    /*\n    |--------------------------------------------------------------------------\n    | Encoding\n    |--------------------------------------------------------------------------\n    |\n    | Request body encoding\n    |\n    */\n    encoding: 'utf-8',\n\n    /*\n    |--------------------------------------------------------------------------\n    | Max Fields\n    |--------------------------------------------------------------------------\n    |\n    | The maximum number of fields allowed in the request body. The field includes\n    | text inputs and files both.\n    |\n    */\n    maxFields: 1000,\n\n    /*\n    |--------------------------------------------------------------------------\n    | Request body limit\n    |--------------------------------------------------------------------------\n    |\n    | The total limit to the multipart body. This includes all request files\n    | and fields data.\n    |\n    */\n    limit: '20mb',\n\n    /*\n    |--------------------------------------------------------------------------\n    | Types\n    |--------------------------------------------------------------------------\n    |\n    | The types that will be considered and parsed as multipart body.\n    |\n    */\n    types: [\n      'multipart/form-data',\n    ],\n  },\n}\n\nexport default bodyParserConfig\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"edfcc2d224e5af92ff97b21237965e80bc1a3220","contentHash":"d2bfe3b9838e4766fd19df10b05f2677e458f7be4ad881022f1f6db5b24ba7c8"},"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\config\\cors.ts":{"path":"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\config\\cors.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":19},"end":{"line":18,"column":1}},"2":{"start":{"line":19,"column":0},"end":{"line":19,"column":29}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"cors.js","sourceRoot":"","sources":["cors.ts"],"names":[],"mappings":";;AASA,MAAM,UAAU,GAAe;IAa7B,OAAO,EAAE,IAAI;IAwBb,MAAM,EAAE,IAAI;IAYZ,OAAO,EAAE,CAAC,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,QAAQ,CAAC;IAmBjD,OAAO,EAAE,IAAI;IAsBb,aAAa,EAAE;QACb,eAAe;QACf,kBAAkB;QAClB,cAAc;QACd,SAAS;QACT,eAAe;QACf,QAAQ;KACT;IAaD,WAAW,EAAE,IAAI;IAWjB,MAAM,EAAE,EAAE;CACX,CAAA;AAED,kBAAe,UAAU,CAAA","sourcesContent":["/**\n * Config source: https://git.io/JfefC\n *\n * Feel free to let us know via PR, if you find something broken in this config\n * file.\n */\n\nimport { CorsConfig } from '@ioc:Adonis/Core/Cors'\n\nconst corsConfig: CorsConfig = {\n  /*\n  |--------------------------------------------------------------------------\n  | Enabled\n  |--------------------------------------------------------------------------\n  |\n  | A boolean to enable or disable CORS integration from your AdonisJs\n  | application.\n  |\n  | Setting the value to `true` will enable the CORS for all HTTP request. However,\n  | you can define a function to enable/disable it on per request basis as well.\n  |\n  */\n  enabled: true,\n\n  // You can also use a function that return true or false.\n  // enabled: (request) => request.url().startsWith('/api')\n\n  /*\n  |--------------------------------------------------------------------------\n  | Origin\n  |--------------------------------------------------------------------------\n  |\n  | Set a list of origins to be allowed for `Access-Control-Allow-Origin`.\n  | The value can be one of the following:\n  |\n  | https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Origin\n  |\n  | Boolean (true)    - Allow current request origin.\n  | Boolean (false)   - Disallow all.\n  | String            - Comma separated list of allowed origins.\n  | Array             - An array of allowed origins.\n  | String (*)        - A wildcard (*) to allow all request origins.\n  | Function          - Receives the current origin string and should return\n  |                     one of the above values.\n  |\n  */\n  origin: true,\n\n  /*\n  |--------------------------------------------------------------------------\n  | Methods\n  |--------------------------------------------------------------------------\n  |\n  | An array of allowed HTTP methods for CORS. The `Access-Control-Request-Method`\n  | is checked against the following list.\n  |\n  | Following is the list of default methods. Feel free to add more.\n  */\n  methods: ['GET', 'HEAD', 'POST', 'PUT', 'DELETE'],\n\n  /*\n  |--------------------------------------------------------------------------\n  | Headers\n  |--------------------------------------------------------------------------\n  |\n  | List of headers to be allowed for `Access-Control-Allow-Headers` header.\n  | The value can be one of the following:\n  |\n  | https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Request-Headers\n  |\n  | Boolean(true)     - Allow all headers mentioned in `Access-Control-Request-Headers`.\n  | Boolean(false)    - Disallow all headers.\n  | String            - Comma separated list of allowed headers.\n  | Array             - An array of allowed headers.\n  | Function          - Receives the current header and should return one of the above values.\n  |\n  */\n  headers: true,\n\n  /*\n  |--------------------------------------------------------------------------\n  | Expose Headers\n  |--------------------------------------------------------------------------\n  |\n  | A list of headers to be exposed by setting `Access-Control-Expose-Headers`.\n  | header. By default following 6 simple response headers are exposed.\n  |\n  | Cache-Control\n  | Content-Language\n  | Content-Type\n  | Expires\n  | Last-Modified\n  | Pragma\n  |\n  | In order to add more headers, simply define them inside the following array.\n  |\n  | https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Expose-Headers\n  |\n  */\n  exposeHeaders: [\n    'cache-control',\n    'content-language',\n    'content-type',\n    'expires',\n    'last-modified',\n    'pragma',\n  ],\n\n  /*\n  |--------------------------------------------------------------------------\n  | Credentials\n  |--------------------------------------------------------------------------\n  |\n  | Toggle `Access-Control-Allow-Credentials` header. If value is set to `true`,\n  | then header will be set, otherwise not.\n  |\n  | https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Credentials\n  |\n  */\n  credentials: true,\n\n  /*\n  |--------------------------------------------------------------------------\n  | MaxAge\n  |--------------------------------------------------------------------------\n  |\n  | Define `Access-Control-Max-Age` header in seconds.\n  | https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Max-Age\n  |\n  */\n  maxAge: 90,\n}\n\nexport default corsConfig\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"bdcb4512a7625bc316adddbd4119b3bba1cd334e","contentHash":"a0fb3983f4b7f4c75a844ac9848db9d931e61dea5def98b864ddc582576f6a84"},"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\config\\database.ts":{"path":"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\config\\database.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":14},"end":{"line":6,"column":79}},"4":{"start":{"line":7,"column":22},"end":{"line":7,"column":95}},"5":{"start":{"line":8,"column":23},"end":{"line":39,"column":1}},"6":{"start":{"line":40,"column":0},"end":{"line":40,"column":33}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":13,"column":24},"end":{"line":21,"column":17}},"type":"cond-expr","locations":[{"start":{"line":14,"column":16},"end":{"line":14,"column":68}},{"start":{"line":15,"column":16},"end":{"line":21,"column":17}}],"line":13},"4":{"loc":{"start":{"line":13,"column":24},"end":{"line":13,"column":113}},"type":"binary-expr","locations":[{"start":{"line":13,"column":24},"end":{"line":13,"column":58}},{"start":{"line":13,"column":62},"end":{"line":13,"column":113}}],"line":13}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":1,"6":1},"f":{"0":2},"b":{"0":[1,1,1],"1":[0,2],"2":[2,2],"3":[1,0],"4":[1,1]},"inputSourceMap":{"version":3,"file":"database.js","sourceRoot":"","sources":["database.ts"],"names":[],"mappings":";;;;;AAOA,gFAAsC;AAGtC,gGAAuD;AAEvD,MAAM,cAAc,GAAiD;IAWnE,UAAU,EAAE,aAAG,CAAC,GAAG,CAAC,eAAe,CAAC;IAEpC,WAAW,EAAE;QAYX,EAAE,EAAE;YACF,MAAM,EAAE,IAAI;YAUZ,UAAU,EAAE,qBAAW,CAAC,YAAY,IAAI,qBAAW,CAAC,eAAe,KAAK,SAAS,CAAC,CAAC;gBACjF,aAAG,CAAC,GAAG,CAAC,cAAc,CAAC,GAAG,gBAAgB,CAAC,CAAC;gBAC5C;oBACE,IAAI,EAAE,aAAG,CAAC,GAAG,CAAC,SAAS,CAAC;oBACxB,IAAI,EAAE,aAAG,CAAC,GAAG,CAAC,SAAS,CAAC;oBACxB,IAAI,EAAE,aAAG,CAAC,GAAG,CAAC,SAAS,CAAC;oBACxB,QAAQ,EAAE,aAAG,CAAC,GAAG,CAAC,aAAa,EAAE,EAAE,CAAC;oBACpC,QAAQ,EAAE,aAAG,CAAC,GAAG,CAAC,YAAY,CAAC;iBAChC;YAEH,WAAW,EAAE,qBAAW,CAAC,KAAK;YAC9B,KAAK,EAAE,qBAAW,CAAC,KAAK;SACzB;QACD,MAAM,EAAE;YACN,MAAM,EAAE,IAAI;YACZ,UAAU,EAAE,aAAG,CAAC,GAAG,CAAC,cAAc,CAAC,GAAG,gBAAgB;SACvD;QACD,OAAO,EAAE;YACP,MAAM,EAAE,IAAI;YACZ,UAAU,EAAE,aAAG,CAAC,GAAG,CAAC,sBAAsB,CAAC,GAAG,gBAAgB;SAC/D;QACD,UAAU,EAAE;YACV,MAAM,EAAE,IAAI;YACZ,UAAU,EAAE,aAAG,CAAC,GAAG,CAAC,mBAAmB,CAAC,GAAG,gBAAgB;SAC5D;KAEF;IAcD,GAAG,EAAE,EACJ;CACF,CAAA;AAED,kBAAe,cAAc,CAAA","sourcesContent":["/**\n * Config source: https://git.io/JesV9\n *\n * Feel free to let us know via PR, if you find something broken in this config\n * file.\n */\n\nimport Env from '@ioc:Adonis/Core/Env'\nimport { OrmConfig } from '@ioc:Adonis/Lucid/Orm'\nimport { DatabaseConfig } from '@ioc:Adonis/Lucid/Database'\nimport Application from '@ioc:Adonis/Core/Application';\n\nconst databaseConfig: DatabaseConfig & { orm: Partial<OrmConfig> } = {\n  /*\n  |--------------------------------------------------------------------------\n  | Connection\n  |--------------------------------------------------------------------------\n  |\n  | The primary connection for making database queries across the application\n  | You can use any key from the `connections` object defined in this same\n  | file.\n  |\n  */\n  connection: Env.get('DB_CONNECTION'),\n\n  connections: {\n    /*\n    |--------------------------------------------------------------------------\n    | PostgreSQL config\n    |--------------------------------------------------------------------------\n    |\n    | Configuration for PostgreSQL database. Make sure to install the driver\n    | from npm when using this connection\n    |\n    | npm i pg\n    |\n    */\n    pg: {\n      client: 'pg',\n      //  connection: !Application.inProduction\n      //   ? Env.get(\"DATABASE_URL\") + \"?ssl=no-verify\"\n      //   : {\n      //       host: Env.get(\"DB_HOST\", \"127.0.0.1\") as string,\n      //       port: Number(Env.get(\"DB_PORT\", 5432)),\n      //       user: Env.get(\"DB_USER\", \"lucid\") as string,\n      //       password: Env.get(\"DB_PASSWORD\", \"lucid\") as string,\n      //       database: Env.get(\"DB_NAME\", \"lucid\") as string,\n      //     },\n      connection: Application.inProduction || Application.nodeEnvironment === 'testing' ?\n        Env.get('DATABASE_URL') + \"?ssl=no-verify\" :\n        {\n          host: Env.get('PG_HOST'),\n          port: Env.get('PG_PORT'),\n          user: Env.get('PG_USER'),\n          password: Env.get('PG_PASSWORD', ''),\n          database: Env.get('PG_DB_NAME'),\n        },\n\n      healthCheck: Application.inDev,\n      debug: Application.inDev,\n    },\n    custom: {\n      client: \"pg\",\n      connection: Env.get(\"DATABASE_URL\") + \"?ssl=no-verify\",\n    },\n    staging: {\n      client: \"pg\",\n      connection: Env.get(\"DATABASE_URL_STAGING\") + \"?ssl=no-verify\",\n    },\n    production: {\n      client: \"pg\",\n      connection: Env.get(\"DATABASE_URL_PROD\") + \"?ssl=no-verify\",\n    },\n\n  },\n\n  /*\n  |--------------------------------------------------------------------------\n  | ORM Configuration\n  |--------------------------------------------------------------------------\n  |\n  | Following are some of the configuration options to tweak the conventional\n  | settings of the ORM. For example:\n  |\n  | - Define a custom function to compute the default table name for a given model.\n  | - Or define a custom function to compute the primary key for a given model.\n  |\n  */\n  orm: {\n  },\n}\n\nexport default databaseConfig\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"3257167bb8d1a57feb9913f8f227e9fd693c9fa6","contentHash":"e1815b7266a4b5720d4bdf5f81bd003dd4ff607618371ddbd004188dc92fd0cc"},"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\config\\hash.ts":{"path":"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\config\\hash.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":14},"end":{"line":6,"column":79}},"4":{"start":{"line":7,"column":19},"end":{"line":23,"column":1}},"5":{"start":{"line":24,"column":0},"end":{"line":24,"column":29}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1},"f":{"0":1},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"hash.js","sourceRoot":"","sources":["hash.ts"],"names":[],"mappings":";;;;;AAOA,gFAAsC;AAYtC,MAAM,UAAU,GAAe;IAU7B,OAAO,EAAE,aAAG,CAAC,GAAG,CAAC,aAAa,EAAE,OAAO,CAAC;IAExC,IAAI,EAAE;QAcJ,KAAK,EAAE;YACL,MAAM,EAAE,QAAQ;YAChB,OAAO,EAAE,IAAI;YACb,UAAU,EAAE,CAAC;YACb,MAAM,EAAE,IAAI;YACZ,WAAW,EAAE,CAAC;YACd,QAAQ,EAAE,EAAE;SACb;QAeD,MAAM,EAAE;YACN,MAAM,EAAE,QAAQ;YAChB,MAAM,EAAE,EAAE;SACX;KACF;CACF,CAAA;AAED,kBAAe,UAAU,CAAA","sourcesContent":["/**\n * Config source: https://git.io/JfefW\n *\n * Feel free to let us know via PR, if you find something broken in this config\n * file.\n */\n\nimport Env from '@ioc:Adonis/Core/Env'\nimport { HashConfig } from '@ioc:Adonis/Core/Hash'\n\n/*\n|--------------------------------------------------------------------------\n| Hash Config\n|--------------------------------------------------------------------------\n|\n| The `HashConfig` relies on the `HashList` interface which is\n| defined inside `contracts` directory.\n|\n*/\nconst hashConfig: HashConfig = {\n  /*\n  |--------------------------------------------------------------------------\n  | Default hasher\n  |--------------------------------------------------------------------------\n  |\n  | By default we make use of the bcrypt hasher to hash values. However, feel\n  | free to change the default value\n  |\n  */\n  default: Env.get('HASH_DRIVER', 'argon'),\n\n  list: {\n    /*\n    |--------------------------------------------------------------------------\n    | Argon\n    |--------------------------------------------------------------------------\n    |\n    | Argon mapping uses the `argon2` driver to hash values.\n    |\n    | Make sure you install the underlying dependency for this driver to work.\n    | https://www.npmjs.com/package/phc-argon2.\n    |\n    | npm install phc-argon2\n    |\n    */\n    argon: {\n      driver: 'argon2',\n      variant: 'id',\n      iterations: 3,\n      memory: 4096,\n      parallelism: 1,\n      saltSize: 16,\n    },\n\n    /*\n    |--------------------------------------------------------------------------\n    | Bcrypt\n    |--------------------------------------------------------------------------\n    |\n    | Bcrypt mapping uses the `bcrypt` driver to hash values.\n    |\n    | Make sure you install the underlying dependency for this driver to work.\n    | https://www.npmjs.com/package/phc-bcrypt.\n    |\n    | npm install phc-bcrypt\n    |\n    */\n    bcrypt: {\n      driver: 'bcrypt',\n      rounds: 10,\n    },\n  },\n}\n\nexport default hashConfig\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"41da43ba72e17cfa158d0f3e2e07f9880d0f2b6d","contentHash":"ea6f873fbbf91682edf920a22534654d3bc27572ec86e93daababf1e3465c089"},"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\config\\imagekit.ts":{"path":"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\config\\imagekit.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":14},"end":{"line":6,"column":79}},"4":{"start":{"line":7,"column":27},"end":{"line":13,"column":1}},"5":{"start":{"line":14,"column":0},"end":{"line":14,"column":37}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1},"f":{"0":1},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"imagekit.js","sourceRoot":"","sources":["imagekit.ts"],"names":[],"mappings":";;;;;AAAA,gFAAuC;AAEvC,MAAM,kBAAkB,GAAG;IACzB,QAAQ,EAAE;QACR,EAAE,EAAE,aAAG,CAAC,GAAG,CAAC,aAAa,CAAC;QAC1B,SAAS,EAAE,aAAG,CAAC,GAAG,CAAC,qBAAqB,CAAC;QACzC,UAAU,EAAE,aAAG,CAAC,GAAG,CAAC,sBAAsB,CAAC;KAC5C;CACF,CAAC;AACF,kBAAe,kBAAkB,CAAC","sourcesContent":["import Env from \"@ioc:Adonis/Core/Env\";\r\n\r\nconst ImageServiceConfig = {\r\n  imageKit: {\r\n    id: Env.get(\"IMAGEKIT_ID\"),\r\n    publicKey: Env.get(\"IMAGEKIT_PUBLIC_KEY\"),\r\n    privateKey: Env.get(\"IMAGEKIT_PRIVATE_KEY\"),\r\n  },\r\n};\r\nexport default ImageServiceConfig;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6a7b976d3543928a0e760c61a9757d7eedc4d608","contentHash":"b0c901fe4e5479ca9a797baf4a4cd6336e890a56e8a837bdac7a967af10559ae"},"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\config\\paystack.ts":{"path":"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\config\\paystack.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":14},"end":{"line":6,"column":79}},"4":{"start":{"line":7,"column":0},"end":{"line":10,"column":2}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{"0":1},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"paystack.js","sourceRoot":"","sources":["paystack.ts"],"names":[],"mappings":";;;;;AAAA,gFAAuC;AAEvC,kBAAe;IACX,SAAS,EAAE,aAAG,CAAC,GAAG,CAAC,qBAAqB,CAAW;IACnD,UAAU,EAAE,aAAG,CAAC,GAAG,CAAC,qBAAqB,CAAW;CACvD,CAAC","sourcesContent":["import Env from \"@ioc:Adonis/Core/Env\";\r\n\r\nexport default {\r\n    publicKey: Env.get(\"PAYSTACK_PUBLIC_KEY\") as string,\r\n    privateKey: Env.get(\"PAYSTACK_SECRET_KEY\") as string,\r\n};\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"bc16c7623613dfed9f2f4bc6bf34d32266239100","contentHash":"231c125205c54c819dec260f60175ad006dbb52667801ae42ab5f52bbde51f6b"},"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\config\\static.ts":{"path":"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\config\\static.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":5,"column":2}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"static.js","sourceRoot":"","sources":["static.ts"],"names":[],"mappings":";;AAAA,kBAAe;IACb,OAAO,EAAE,IAAI;CACd,CAAA","sourcesContent":["export default {\r\n  enabled: true\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f6c4d34da0a0af02c370fd8050c6fa8f4da63589","contentHash":"e58a2d62eeaffa583c6fd7062152680d4cce5db773d6f09dc1cb42b02548487a"},"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\providers\\AppProvider.ts":{"path":"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\providers\\AppProvider.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":8,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":4},"end":{"line":4,"column":89}},"4":{"start":{"line":4,"column":71},"end":{"line":4,"column":83}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},"6":{"start":{"line":6,"column":26},"end":{"line":6,"column":33}},"7":{"start":{"line":7,"column":4},"end":{"line":7,"column":17}},"8":{"start":{"line":9,"column":25},"end":{"line":13,"column":2}},"9":{"start":{"line":10,"column":4},"end":{"line":10,"column":72}},"10":{"start":{"line":12,"column":4},"end":{"line":12,"column":21}},"11":{"start":{"line":14,"column":19},"end":{"line":20,"column":1}},"12":{"start":{"line":15,"column":4},"end":{"line":15,"column":42}},"13":{"start":{"line":15,"column":31},"end":{"line":15,"column":42}},"14":{"start":{"line":16,"column":17},"end":{"line":16,"column":19}},"15":{"start":{"line":17,"column":4},"end":{"line":17,"column":141}},"16":{"start":{"line":17,"column":21},"end":{"line":17,"column":141}},"17":{"start":{"line":17,"column":40},"end":{"line":17,"column":141}},"18":{"start":{"line":17,"column":109},"end":{"line":17,"column":141}},"19":{"start":{"line":18,"column":4},"end":{"line":18,"column":36}},"20":{"start":{"line":19,"column":4},"end":{"line":19,"column":18}},"21":{"start":{"line":21,"column":0},"end":{"line":21,"column":62}},"22":{"start":{"line":24,"column":8},"end":{"line":24,"column":23}},"23":{"start":{"line":31,"column":20},"end":{"line":31,"column":126}},"24":{"start":{"line":31,"column":55},"end":{"line":31,"column":125}},"25":{"start":{"line":32,"column":8},"end":{"line":34,"column":9}},"26":{"start":{"line":33,"column":12},"end":{"line":33,"column":89}},"27":{"start":{"line":33,"column":47},"end":{"line":33,"column":87}},"28":{"start":{"line":39,"column":0},"end":{"line":39,"column":30}},"29":{"start":{"line":40,"column":0},"end":{"line":40,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":5,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":4,"column":58},"end":{"line":4,"column":59}},"loc":{"start":{"line":4,"column":69},"end":{"line":4,"column":85}},"line":4},"2":{"name":"(anonymous_2)","decl":{"start":{"line":5,"column":6},"end":{"line":5,"column":7}},"loc":{"start":{"line":5,"column":28},"end":{"line":8,"column":1}},"line":5},"3":{"name":"(anonymous_3)","decl":{"start":{"line":9,"column":80},"end":{"line":9,"column":81}},"loc":{"start":{"line":9,"column":95},"end":{"line":11,"column":1}},"line":9},"4":{"name":"(anonymous_4)","decl":{"start":{"line":11,"column":5},"end":{"line":11,"column":6}},"loc":{"start":{"line":11,"column":20},"end":{"line":13,"column":1}},"line":11},"5":{"name":"(anonymous_5)","decl":{"start":{"line":14,"column":50},"end":{"line":14,"column":51}},"loc":{"start":{"line":14,"column":65},"end":{"line":20,"column":1}},"line":14},"6":{"name":"(anonymous_6)","decl":{"start":{"line":23,"column":4},"end":{"line":23,"column":5}},"loc":{"start":{"line":23,"column":21},"end":{"line":25,"column":5}},"line":23},"7":{"name":"(anonymous_7)","decl":{"start":{"line":26,"column":4},"end":{"line":26,"column":5}},"loc":{"start":{"line":26,"column":15},"end":{"line":27,"column":5}},"line":26},"8":{"name":"(anonymous_8)","decl":{"start":{"line":28,"column":4},"end":{"line":28,"column":5}},"loc":{"start":{"line":28,"column":17},"end":{"line":29,"column":5}},"line":28},"9":{"name":"(anonymous_9)","decl":{"start":{"line":30,"column":4},"end":{"line":30,"column":5}},"loc":{"start":{"line":30,"column":18},"end":{"line":35,"column":5}},"line":30},"10":{"name":"(anonymous_10)","decl":{"start":{"line":31,"column":49},"end":{"line":31,"column":50}},"loc":{"start":{"line":31,"column":55},"end":{"line":31,"column":125}},"line":31},"11":{"name":"(anonymous_11)","decl":{"start":{"line":33,"column":41},"end":{"line":33,"column":42}},"loc":{"start":{"line":33,"column":47},"end":{"line":33,"column":87}},"line":33},"12":{"name":"(anonymous_12)","decl":{"start":{"line":36,"column":4},"end":{"line":36,"column":5}},"loc":{"start":{"line":36,"column":21},"end":{"line":37,"column":5}},"line":36}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":8,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":8,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":8,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":5,"column":1}},{"start":{"line":5,"column":6},"end":{"line":8,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},"type":"if","locations":[{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},{"start":{"line":6,"column":4},"end":{"line":6,"column":33}}],"line":6},"4":{"loc":{"start":{"line":9,"column":25},"end":{"line":13,"column":2}},"type":"binary-expr","locations":[{"start":{"line":9,"column":26},"end":{"line":9,"column":30}},{"start":{"line":9,"column":34},"end":{"line":9,"column":57}},{"start":{"line":9,"column":63},"end":{"line":13,"column":1}}],"line":9},"5":{"loc":{"start":{"line":9,"column":63},"end":{"line":13,"column":1}},"type":"cond-expr","locations":[{"start":{"line":9,"column":80},"end":{"line":11,"column":1}},{"start":{"line":11,"column":5},"end":{"line":13,"column":1}}],"line":9},"6":{"loc":{"start":{"line":14,"column":19},"end":{"line":20,"column":1}},"type":"binary-expr","locations":[{"start":{"line":14,"column":20},"end":{"line":14,"column":24}},{"start":{"line":14,"column":28},"end":{"line":14,"column":45}},{"start":{"line":14,"column":50},"end":{"line":20,"column":1}}],"line":14},"7":{"loc":{"start":{"line":15,"column":4},"end":{"line":15,"column":42}},"type":"if","locations":[{"start":{"line":15,"column":4},"end":{"line":15,"column":42}},{"start":{"line":15,"column":4},"end":{"line":15,"column":42}}],"line":15},"8":{"loc":{"start":{"line":15,"column":8},"end":{"line":15,"column":29}},"type":"binary-expr","locations":[{"start":{"line":15,"column":8},"end":{"line":15,"column":11}},{"start":{"line":15,"column":15},"end":{"line":15,"column":29}}],"line":15},"9":{"loc":{"start":{"line":17,"column":4},"end":{"line":17,"column":141}},"type":"if","locations":[{"start":{"line":17,"column":4},"end":{"line":17,"column":141}},{"start":{"line":17,"column":4},"end":{"line":17,"column":141}}],"line":17},"10":{"loc":{"start":{"line":17,"column":40},"end":{"line":17,"column":141}},"type":"if","locations":[{"start":{"line":17,"column":40},"end":{"line":17,"column":141}},{"start":{"line":17,"column":40},"end":{"line":17,"column":141}}],"line":17},"11":{"loc":{"start":{"line":17,"column":44},"end":{"line":17,"column":107}},"type":"binary-expr","locations":[{"start":{"line":17,"column":44},"end":{"line":17,"column":59}},{"start":{"line":17,"column":63},"end":{"line":17,"column":107}}],"line":17},"12":{"loc":{"start":{"line":32,"column":8},"end":{"line":34,"column":9}},"type":"if","locations":[{"start":{"line":32,"column":8},"end":{"line":34,"column":9}},{"start":{"line":32,"column":8},"end":{"line":34,"column":9}}],"line":32}},"s":{"0":1,"1":24,"2":24,"3":24,"4":0,"5":0,"6":0,"7":0,"8":1,"9":1,"10":0,"11":1,"12":2,"13":1,"14":1,"15":1,"16":1,"17":24,"18":24,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1},"f":{"0":24,"1":0,"2":0,"3":1,"4":0,"5":2,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":0},"b":{"0":[1,1,1],"1":[1,0],"2":[24,0],"3":[0,0],"4":[1,1,1],"5":[1,0],"6":[1,1,1],"7":[1,1],"8":[2,2],"9":[1,0],"10":[24,0],"11":[24,24],"12":[1,0]},"inputSourceMap":{"version":3,"file":"AppProvider.js","sourceRoot":"","sources":["AppProvider.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAEA,MAAqB,WAAW;IAG9B,YAAsB,GAAwB;QAAxB,QAAG,GAAH,GAAG,CAAqB;IAC9C,CAAC;IAEM,QAAQ;IAEf,CAAC;IAEM,KAAK,CAAC,IAAI;IAEjB,CAAC;IAEM,KAAK,CAAC,KAAK;QAChB,MAAM,GAAG,GAAG,0GAA4C,CAAA;QAExD,IAAI,GAAG,CAAC,OAAO,CAAC,WAAW,KAAK,KAAK,EAAE;YACrC,wDAAa,iBAAiB,GAAC,CAAA;SAChC;IACH,CAAC;IAEM,KAAK,CAAC,QAAQ;IAErB,CAAC;;AAxBH,8BAyBC;AAxBe,4BAAgB,GAAG,IAAI,CAAA","sourcesContent":["import { ApplicationContract } from '@ioc:Adonis/Core/Application'\r\n\r\nexport default class AppProvider {\r\n  public static needsApplication = true\r\n\r\n  constructor(protected app: ApplicationContract) {\r\n  }\r\n\r\n  public register() {\r\n    // Register your own bindings\r\n  }\r\n\r\n  public async boot() {\r\n    // IoC container is ready\r\n  }\r\n\r\n  public async ready() {\r\n    const App = await import('@ioc:Adonis/Core/Application')\r\n\r\n    if (App.default.environment === 'web') {\r\n      await import('../start/socket')\r\n    }\r\n  }\r\n\r\n  public async shutdown() {\r\n    // Cleanup, since app is going down\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c30c2388830b6e6a2c5795fbab741e447347841e","contentHash":"f6b9863164ae92ca2ed091bbcd286727c35eaa7d8d3f3fe2c6da43871c026278"},"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\start\\routes.ts":{"path":"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\start\\routes.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":16},"end":{"line":6,"column":83}},"4":{"start":{"line":7,"column":22},"end":{"line":7,"column":95}},"5":{"start":{"line":8,"column":16},"end":{"line":8,"column":41}},"6":{"start":{"line":9,"column":0},"end":{"line":17,"column":3}},"7":{"start":{"line":10,"column":4},"end":{"line":16,"column":5}},"8":{"start":{"line":11,"column":23},"end":{"line":11,"column":62}},"9":{"start":{"line":12,"column":8},"end":{"line":12,"column":82}},"10":{"start":{"line":15,"column":8},"end":{"line":15,"column":20}},"11":{"start":{"line":18,"column":0},"end":{"line":20,"column":3}},"12":{"start":{"line":19,"column":4},"end":{"line":19,"column":41}},"13":{"start":{"line":21,"column":0},"end":{"line":32,"column":20}},"14":{"start":{"line":22,"column":4},"end":{"line":22,"column":25}},"15":{"start":{"line":23,"column":4},"end":{"line":23,"column":25}},"16":{"start":{"line":24,"column":4},"end":{"line":24,"column":26}},"17":{"start":{"line":25,"column":4},"end":{"line":25,"column":26}},"18":{"start":{"line":26,"column":4},"end":{"line":26,"column":25}},"19":{"start":{"line":27,"column":4},"end":{"line":27,"column":26}},"20":{"start":{"line":28,"column":4},"end":{"line":28,"column":27}},"21":{"start":{"line":29,"column":4},"end":{"line":29,"column":32}},"22":{"start":{"line":30,"column":4},"end":{"line":30,"column":28}},"23":{"start":{"line":31,"column":4},"end":{"line":31,"column":24}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":30},"end":{"line":9,"column":31}},"loc":{"start":{"line":9,"column":54},"end":{"line":17,"column":1}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":18,"column":25},"end":{"line":18,"column":26}},"loc":{"start":{"line":18,"column":49},"end":{"line":20,"column":1}},"line":18},"3":{"name":"(anonymous_3)","decl":{"start":{"line":21,"column":22},"end":{"line":21,"column":23}},"loc":{"start":{"line":21,"column":28},"end":{"line":32,"column":1}},"line":21}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":12,"column":15},"end":{"line":12,"column":81}},"type":"cond-expr","locations":[{"start":{"line":12,"column":32},"end":{"line":12,"column":51}},{"start":{"line":12,"column":54},"end":{"line":12,"column":81}}],"line":12}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":1,"12":0,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1},"f":{"0":2,"1":0,"2":0,"3":1},"b":{"0":[1,1,1],"1":[0,2],"2":[2,2],"3":[0,0]},"inputSourceMap":{"version":3,"file":"routes.js","sourceRoot":"","sources":["routes.ts"],"names":[],"mappings":";;;;;AACA,oFAA2C;AAC3C,gGAAuD;AAEvD,0CAWwB;AAGxB,eAAK,CAAC,GAAG,CAAC,QAAQ,EAAE,KAAK,EAAE,EAAE,QAAQ,EAAuB,EAAE,EAAE;IAC9D,IAAI;QACF,MAAM,MAAM,GAAG,MAAM,qBAAW,CAAC,SAAS,EAAE,CAAC;QAC7C,OAAO,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;KAC3E;IAAC,OAAO,KAAK,EAAE;QACd,MAAM,KAAK,CAAA;KACZ;AACH,CAAC,CAAC,CAAC;AAKH,eAAK,CAAC,GAAG,CAAC,GAAG,EAAE,KAAK,EAAE,EAAE,QAAQ,EAAuB,EAAE,EAAE;IACzD,OAAO,QAAQ,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;AACvC,CAAC,CAAC,CAAC;AACH,eAAK,CAAC,KAAK,CAAC,GAAG,EAAE;IACf,kBAAU,EAAE,CAAC;IACb,kBAAU,EAAE,CAAC;IACb,mBAAW,EAAE,CAAC;IACd,mBAAW,EAAE,CAAC;IACd,kBAAU,EAAE,CAAC;IACb,mBAAW,EAAE,CAAC;IACd,oBAAY,EAAE,CAAC;IACf,yBAAiB,EAAE,CAAA;IACnB,qBAAa,EAAE,CAAC;IAChB,iBAAS,EAAE,CAAC;AACd,CAAC,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC","sourcesContent":["import { HttpContextContract } from \"@ioc:Adonis/Core/HttpContext\";\r\nimport Route from \"@ioc:Adonis/Core/Route\";\r\nimport HealthCheck from \"@ioc:Adonis/Core/HealthCheck\";\r\n\r\nimport {\r\n  authRoutes,\r\n  userRoutes,\r\n  tokenRoutes,\r\n  docRoutes,\r\n  factoryRoutes,\r\n  imageRoutes,\r\n  tripRoutes,\r\n  riderRoutes,\r\n  driverRoutes,\r\n  transactionRoutes,\r\n} from \"./Routes/index\";\r\n\r\n//Health route\r\nRoute.get(\"health\", async ({ response }: HttpContextContract) => {\r\n  try {\r\n    const report = await HealthCheck.getReport();\r\n    return report.healthy ? response.ok(report) : response.badRequest(report);\r\n  } catch (error) {\r\n    throw error\r\n  }\r\n});\r\n// Route.get('/', async ({ view }) => {\r\n//   return view.render('welcome')\r\n// })\r\n//Home route\r\nRoute.get(\"/\", async ({ response }: HttpContextContract) => {\r\n  return response.redirect(\"api-docs\");\r\n});\r\nRoute.group(() => {\r\n  authRoutes();\r\n  userRoutes();\r\n  tokenRoutes();\r\n  imageRoutes();\r\n  tripRoutes();\r\n  riderRoutes();\r\n  driverRoutes();\r\n  transactionRoutes()\r\n  factoryRoutes();\r\n  docRoutes();\r\n}).prefix(\"api/v1\");\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6b79c80b745194c266c4f1044f6786e8ab9dc831","contentHash":"3cfdf56bf35ad20a91b47541755bcda9a3283ad41735932a58f9050a7a54b623"},"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\start\\Routes\\index.ts":{"path":"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\start\\Routes\\index.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":231}},"4":{"start":{"line":7,"column":14},"end":{"line":7,"column":32}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":130}},"6":{"start":{"line":8,"column":84},"end":{"line":8,"column":124}},"7":{"start":{"line":9,"column":13},"end":{"line":9,"column":30}},"8":{"start":{"line":10,"column":0},"end":{"line":10,"column":129}},"9":{"start":{"line":10,"column":84},"end":{"line":10,"column":123}},"10":{"start":{"line":11,"column":23},"end":{"line":11,"column":50}},"11":{"start":{"line":12,"column":0},"end":{"line":12,"column":138}},"12":{"start":{"line":12,"column":83},"end":{"line":12,"column":132}},"13":{"start":{"line":13,"column":18},"end":{"line":13,"column":40}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":137}},"15":{"start":{"line":14,"column":87},"end":{"line":14,"column":131}},"16":{"start":{"line":15,"column":15},"end":{"line":15,"column":34}},"17":{"start":{"line":16,"column":0},"end":{"line":16,"column":132}},"18":{"start":{"line":16,"column":85},"end":{"line":16,"column":126}},"19":{"start":{"line":17,"column":15},"end":{"line":17,"column":34}},"20":{"start":{"line":18,"column":0},"end":{"line":18,"column":132}},"21":{"start":{"line":18,"column":85},"end":{"line":18,"column":126}},"22":{"start":{"line":19,"column":14},"end":{"line":19,"column":32}},"23":{"start":{"line":20,"column":0},"end":{"line":20,"column":130}},"24":{"start":{"line":20,"column":84},"end":{"line":20,"column":124}},"25":{"start":{"line":21,"column":15},"end":{"line":21,"column":34}},"26":{"start":{"line":22,"column":0},"end":{"line":22,"column":132}},"27":{"start":{"line":22,"column":85},"end":{"line":22,"column":126}},"28":{"start":{"line":23,"column":16},"end":{"line":23,"column":36}},"29":{"start":{"line":24,"column":0},"end":{"line":24,"column":134}},"30":{"start":{"line":24,"column":86},"end":{"line":24,"column":128}},"31":{"start":{"line":25,"column":21},"end":{"line":25,"column":46}},"32":{"start":{"line":26,"column":0},"end":{"line":26,"column":144}},"33":{"start":{"line":26,"column":91},"end":{"line":26,"column":138}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":70},"end":{"line":8,"column":71}},"loc":{"start":{"line":8,"column":82},"end":{"line":8,"column":126}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":10,"column":70},"end":{"line":10,"column":71}},"loc":{"start":{"line":10,"column":82},"end":{"line":10,"column":125}},"line":10},"3":{"name":"(anonymous_3)","decl":{"start":{"line":12,"column":69},"end":{"line":12,"column":70}},"loc":{"start":{"line":12,"column":81},"end":{"line":12,"column":134}},"line":12},"4":{"name":"(anonymous_4)","decl":{"start":{"line":14,"column":73},"end":{"line":14,"column":74}},"loc":{"start":{"line":14,"column":85},"end":{"line":14,"column":133}},"line":14},"5":{"name":"(anonymous_5)","decl":{"start":{"line":16,"column":71},"end":{"line":16,"column":72}},"loc":{"start":{"line":16,"column":83},"end":{"line":16,"column":128}},"line":16},"6":{"name":"(anonymous_6)","decl":{"start":{"line":18,"column":71},"end":{"line":18,"column":72}},"loc":{"start":{"line":18,"column":83},"end":{"line":18,"column":128}},"line":18},"7":{"name":"(anonymous_7)","decl":{"start":{"line":20,"column":70},"end":{"line":20,"column":71}},"loc":{"start":{"line":20,"column":82},"end":{"line":20,"column":126}},"line":20},"8":{"name":"(anonymous_8)","decl":{"start":{"line":22,"column":71},"end":{"line":22,"column":72}},"loc":{"start":{"line":22,"column":83},"end":{"line":22,"column":128}},"line":22},"9":{"name":"(anonymous_9)","decl":{"start":{"line":24,"column":72},"end":{"line":24,"column":73}},"loc":{"start":{"line":24,"column":84},"end":{"line":24,"column":130}},"line":24},"10":{"name":"(anonymous_10)","decl":{"start":{"line":26,"column":77},"end":{"line":26,"column":78}},"loc":{"start":{"line":26,"column":89},"end":{"line":26,"column":140}},"line":26}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":10,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1},"f":{"0":10,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1},"b":{"0":[1,1,1],"1":[10,0],"2":[10,10]},"inputSourceMap":{"version":3,"file":"index.js","sourceRoot":"","sources":["index.ts"],"names":[],"mappings":";;;;;;AAAA,iCAAgD;AAAvC,oHAAA,OAAO,OAAc;AAC9B,+BAA+C;AAAtC,mHAAA,OAAO,OAAc;AAC9B,mDAAwD;AAA/C,4HAAA,OAAO,OAAa;AAC7B,yCAAuD;AAA9C,2HAAA,OAAO,OAAiB;AACjC,mCAAkD;AAAzC,sHAAA,OAAO,OAAe;AAC/B,mCAAkD;AAAzC,sHAAA,OAAO,OAAe;AAC/B,iCAAgD;AAAvC,oHAAA,OAAO,OAAc;AAC9B,mCAAkD;AAAzC,sHAAA,OAAO,OAAe;AAC/B,qCAAoD;AAA3C,wHAAA,OAAO,OAAgB;AAChC,+CAA8D;AAArD,kIAAA,OAAO,OAAqB","sourcesContent":["export { default as userRoutes } from \"./users\";\r\nexport { default as authRoutes } from \"./auth\";\r\nexport { default as docRoutes } from \"./documentations\";\r\nexport { default as factoryRoutes } from \"./factories\";\r\nexport { default as imageRoutes } from \"./images\";\r\nexport { default as tokenRoutes } from \"./tokens\";\r\nexport { default as tripRoutes } from './trips';\r\nexport { default as riderRoutes } from './riders';\r\nexport { default as driverRoutes } from './drivers';\r\nexport { default as transactionRoutes } from './transcations';\r\n\r\n\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"23374c7e8d4f7a49d5df723da45a2f85eb76a757","contentHash":"caa661c4e9cfd3af81bb3d8deee71e736d8f2a899e8ee27081ac45cfd034bdca"},"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\start\\Routes\\users.ts":{"path":"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\start\\Routes\\users.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":16},"end":{"line":6,"column":83}},"4":{"start":{"line":7,"column":0},"end":{"line":15,"column":2}},"5":{"start":{"line":8,"column":4},"end":{"line":14,"column":7}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":7,"column":18},"end":{"line":7,"column":19}},"loc":{"start":{"line":7,"column":24},"end":{"line":15,"column":1}},"line":7}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1},"f":{"0":1,"1":1},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"users.js","sourceRoot":"","sources":["users.ts"],"names":[],"mappings":";;;;;AAAA,oFAA2C;AAE3C,kBAAe,GAAG,EAAE;IAElB,eAAK,CAAC,QAAQ,CAAC,OAAO,EAAE,iBAAiB,CAAC;SACvC,OAAO,EAAE;SACT,IAAI,CAAC,CAAC,SAAS,EAAE,MAAM,EAAE,OAAO,EAAE,QAAQ,CAAC,CAAC;SAC5C,UAAU,CAAC;QACV,MAAM,EAAE,EAAE;QACV,OAAO,EAAE,EAAE;KACZ,CAAC,CAAC;AACP,CAAC,CAAC","sourcesContent":["import Route from \"@ioc:Adonis/Core/Route\";\r\n\r\nexport default () => {\r\n\r\n  Route.resource(\"users\", \"UsersController\")\r\n    .apiOnly()\r\n    .only(['destroy', 'show', 'index', 'update'])\r\n    .middleware({\r\n      update: [],\r\n      destroy: [],\r\n    });\r\n};\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"3e3e9c565646f3cfd173f5a51a32a8f11fd70683","contentHash":"77b6fb344d6591d99a59f190588de84d0a1696f73ac07a066b2fcaaa4e88a137"},"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\start\\Routes\\auth.ts":{"path":"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\start\\Routes\\auth.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":16},"end":{"line":6,"column":83}},"4":{"start":{"line":7,"column":0},"end":{"line":13,"column":2}},"5":{"start":{"line":8,"column":4},"end":{"line":12,"column":22}},"6":{"start":{"line":9,"column":8},"end":{"line":9,"column":62}},"7":{"start":{"line":10,"column":8},"end":{"line":10,"column":68}},"8":{"start":{"line":11,"column":8},"end":{"line":11,"column":87}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":7,"column":18},"end":{"line":7,"column":19}},"loc":{"start":{"line":7,"column":24},"end":{"line":13,"column":1}},"line":7},"2":{"name":"(anonymous_2)","decl":{"start":{"line":8,"column":26},"end":{"line":8,"column":27}},"loc":{"start":{"line":8,"column":32},"end":{"line":12,"column":5}},"line":8}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1},"f":{"0":1,"1":1,"2":1},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"auth.js","sourceRoot":"","sources":["auth.ts"],"names":[],"mappings":";;;;;AAAA,oFAA2C;AAE3C,kBAAe,GAAG,EAAE;IAClB,eAAK,CAAC,KAAK,CAAC,GAAG,EAAE;QACf,eAAK,CAAC,IAAI,CAAC,OAAO,EAAE,sBAAsB,CAAC,CAAC;QAC5C,eAAK,CAAC,IAAI,CAAC,UAAU,EAAE,yBAAyB,CAAC,CAAC;QAClD,eAAK,CAAC,MAAM,CAAC,QAAQ,EAAE,uBAAuB,CAAC,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;IACvE,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;AACpB,CAAC,CAAC","sourcesContent":["import Route from \"@ioc:Adonis/Core/Route\";\r\n\r\nexport default () => {\r\n  Route.group(() => {\r\n    Route.post(\"login\", \"AuthController.login\");\r\n    Route.post(\"register\", \"AuthController.register\");\r\n    Route.delete(\"logout\", \"AuthController.logout\").middleware([\"auth\"]);\r\n  }).prefix(\"auth\");\r\n};\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"bab196fb6c1bfd2dcd4ee48575e0046ee9a5de9b","contentHash":"e5dd8a973a7d9121534521292ebe56d18bff743ff204c72ecfe2acda23530c3b"},"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\start\\Routes\\documentations.ts":{"path":"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\start\\Routes\\documentations.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":16},"end":{"line":6,"column":83}},"4":{"start":{"line":7,"column":13},"end":{"line":7,"column":26}},"5":{"start":{"line":8,"column":15},"end":{"line":8,"column":30}},"6":{"start":{"line":9,"column":15},"end":{"line":9,"column":30}},"7":{"start":{"line":10,"column":0},"end":{"line":15,"column":2}},"8":{"start":{"line":11,"column":4},"end":{"line":14,"column":7}},"9":{"start":{"line":12,"column":21},"end":{"line":12,"column":52}},"10":{"start":{"line":13,"column":8},"end":{"line":13,"column":90}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":18},"end":{"line":10,"column":19}},"loc":{"start":{"line":10,"column":24},"end":{"line":15,"column":1}},"line":10},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":32},"end":{"line":11,"column":33}},"loc":{"start":{"line":11,"column":46},"end":{"line":14,"column":5}},"line":11}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":0},"f":{"0":1,"1":1,"2":0},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"documentations.js","sourceRoot":"","sources":["documentations.ts"],"names":[],"mappings":";;;;;AAAA,oFAA2C;AAC3C,2BAA8B;AAC9B,+BAA4B;AAC5B,+BAAiC;AAGjC,kBAAe,GAAG,EAAE;IAClB,eAAK,CAAC,GAAG,CAAC,MAAM,EAAE,KAAK,EAAE,EAAuB,EAAE,EAAE;QAClD,MAAM,IAAI,GAAG,gBAAS,CAAC,aAAQ,CAAC,CAAC;QACjC,OAAO,MAAM,IAAI,CAAC,WAAI,CAAC,SAAS,EAAE,IAAI,EAAE,IAAI,EAAE,eAAe,EAAE,SAAS,CAAC,CAAC,CAAC;IAC7E,CAAC,CAAC,CAAC;AACL,CAAC,CAAC","sourcesContent":["import Route from \"@ioc:Adonis/Core/Route\";\r\nimport { readFile } from \"fs\";\r\nimport { join } from \"path\";\r\nimport { promisify } from \"util\";\r\nimport { HttpContextContract } from \"@ioc:Adonis/Core/HttpContext\";\r\n\r\nexport default () => {\r\n  Route.get(\"spec\", async ({}: HttpContextContract) => {\r\n    const read = promisify(readFile);\r\n    return await read(join(__dirname, \"..\", \"..\", \"documentation\", \"api.yml\"));\r\n  });\r\n};\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"148277c4bbc6edf9b0f9eaa9e3c1536bbb05e3cb","contentHash":"7e5db6eb5447dc51844e7cdc60a532850d9226f6d55e475a31192a50c0557cfa"},"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\start\\Routes\\factories.ts":{"path":"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\start\\Routes\\factories.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":16},"end":{"line":6,"column":83}},"4":{"start":{"line":7,"column":0},"end":{"line":17,"column":2}},"5":{"start":{"line":8,"column":4},"end":{"line":16,"column":27}},"6":{"start":{"line":9,"column":8},"end":{"line":9,"column":80}},"7":{"start":{"line":10,"column":8},"end":{"line":10,"column":88}},"8":{"start":{"line":11,"column":8},"end":{"line":11,"column":69}},"9":{"start":{"line":12,"column":8},"end":{"line":12,"column":67}},"10":{"start":{"line":13,"column":8},"end":{"line":13,"column":69}},"11":{"start":{"line":14,"column":8},"end":{"line":14,"column":71}},"12":{"start":{"line":15,"column":8},"end":{"line":15,"column":77}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":7,"column":18},"end":{"line":7,"column":19}},"loc":{"start":{"line":7,"column":24},"end":{"line":17,"column":1}},"line":7},"2":{"name":"(anonymous_2)","decl":{"start":{"line":8,"column":26},"end":{"line":8,"column":27}},"loc":{"start":{"line":8,"column":32},"end":{"line":16,"column":5}},"line":8}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1},"f":{"0":1,"1":1,"2":1},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"factories.js","sourceRoot":"","sources":["factories.ts"],"names":[],"mappings":";;;;;AAAA,oFAA2C;AAE3C,kBAAe,GAAG,EAAE;IAClB,eAAK,CAAC,KAAK,CAAC,GAAG,EAAE;QACf,eAAK,CAAC,IAAI,CAAC,cAAc,EAAE,iCAAiC,CAAC,CAAC;QAC9D,eAAK,CAAC,IAAI,CAAC,kBAAkB,EAAE,qCAAqC,CAAC,CAAC;QACtE,eAAK,CAAC,IAAI,CAAC,QAAQ,EAAE,4BAA4B,CAAC,CAAC;QACnD,eAAK,CAAC,IAAI,CAAC,OAAO,EAAE,2BAA2B,CAAC,CAAC;QACjD,eAAK,CAAC,IAAI,CAAC,QAAQ,EAAE,4BAA4B,CAAC,CAAC;QACnD,eAAK,CAAC,IAAI,CAAC,SAAS,EAAE,6BAA6B,CAAC,CAAC;QACrD,eAAK,CAAC,IAAI,CAAC,YAAY,EAAE,gCAAgC,CAAC,CAAC;IAC7D,CAAC,CAAC,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;AACzB,CAAC,CAAC","sourcesContent":["import Route from \"@ioc:Adonis/Core/Route\";\r\n\r\nexport default () => {\r\n  Route.group(() => {\r\n    Route.post(\"bike-drivers\", \"FactoriesController.bikeDrivers\");\r\n    Route.post(\"tricycle-drivers\", \"FactoriesController.tricycleDrivers\");\r\n    Route.post(\"riders\", \"FactoriesController.riders\");\r\n    Route.post(\"users\", \"FactoriesController.users\");\r\n    Route.post(\"orders\", \"FactoriesController.orders\");\r\n    Route.post(\"reviews\", \"FactoriesController.reviews\");\r\n    Route.post(\"healthtips\", \"FactoriesController.healthTips\");\r\n  }).prefix(\"factories\");\r\n};\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"491735475c0a754551cee4fa7fbef7277b4c4705","contentHash":"141cbe7a562893d66576e6c861c3b03bb7c6c7c2c449df40d9d4a420819cd009"},"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\start\\Routes\\images.ts":{"path":"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\start\\Routes\\images.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":16},"end":{"line":6,"column":83}},"4":{"start":{"line":7,"column":0},"end":{"line":15,"column":2}},"5":{"start":{"line":8,"column":4},"end":{"line":14,"column":7}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":7,"column":18},"end":{"line":7,"column":19}},"loc":{"start":{"line":7,"column":24},"end":{"line":15,"column":1}},"line":7}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1},"f":{"0":1,"1":1},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"images.js","sourceRoot":"","sources":["images.ts"],"names":[],"mappings":";;;;;AAAA,oFAA2C;AAE3C,kBAAe,GAAG,EAAE;IAClB,eAAK,CAAC,QAAQ,CAAC,QAAQ,EAAE,kBAAkB,CAAC;SACzC,OAAO,EAAE;SACT,UAAU,CAAC;QACV,KAAK,EAAE,CAAC,MAAM,EAAG;QACjB,OAAO,EAAE,CAAC,MAAM,CAAC;QACjB,MAAM,EAAE,CAAC,MAAM,CAAC;KACjB,CAAC,CAAC;AACP,CAAC,CAAC","sourcesContent":["import Route from \"@ioc:Adonis/Core/Route\";\r\n\r\nexport default () => {\r\n  Route.resource(\"images\", \"ImagesController\")\r\n    .apiOnly()\r\n    .middleware({\r\n      store: [\"auth\", ],\r\n      destroy: [\"auth\"],\r\n      update: [\"auth\"],\r\n    });\r\n};\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b0122bb47126d57e12c9e1366de307ee217ee531","contentHash":"8e215d83146ace2a9ae5c5c31d57d6953cd366d280032f76f462450d16008964"},"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\start\\Routes\\tokens.ts":{"path":"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\start\\Routes\\tokens.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":16},"end":{"line":6,"column":83}},"4":{"start":{"line":7,"column":0},"end":{"line":14,"column":2}},"5":{"start":{"line":8,"column":4},"end":{"line":13,"column":7}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":7,"column":18},"end":{"line":7,"column":19}},"loc":{"start":{"line":7,"column":24},"end":{"line":14,"column":1}},"line":7}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1},"f":{"0":1,"1":1},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"tokens.js","sourceRoot":"","sources":["tokens.ts"],"names":[],"mappings":";;;;;AAAA,oFAA2C;AAE3C,kBAAe,GAAG,EAAE;IAElB,eAAK,CAAC,QAAQ,CAAC,QAAQ,EAAE,8BAA8B,CAAC;SACrD,IAAI,CAAC,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;SACzB,UAAU,CAAC;QACV,KAAK,EAAE,CAAC,MAAM,EAAE,WAAW,CAAC;QAC5B,MAAM,EAAE,CAAC,MAAM,EAAE,WAAW,CAAC;KAC9B,CAAC,CAAC;AACP,CAAC,CAAC","sourcesContent":["import Route from \"@ioc:Adonis/Core/Route\";\r\n\r\nexport default () => {\r\n  //Notification token\r\n  Route.resource(\"tokens\", \"NotificationTokensController\")\r\n    .only([\"store\", \"update\"])\r\n    .middleware({\r\n      store: [\"auth\", \"acl:admin\"],\r\n      update: [\"auth\", \"acl:admin\"],\r\n    });\r\n};\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"39cd0e20d40f90c7321917179cb978bbd0be2df2","contentHash":"025b789c5d678d3a8529bb806f0a4adafc9564f362d01944c85674df7cb22bfb"},"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\start\\Routes\\trips.ts":{"path":"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\start\\Routes\\trips.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":16},"end":{"line":6,"column":83}},"4":{"start":{"line":7,"column":0},"end":{"line":19,"column":2}},"5":{"start":{"line":8,"column":4},"end":{"line":15,"column":28}},"6":{"start":{"line":9,"column":8},"end":{"line":9,"column":71}},"7":{"start":{"line":10,"column":8},"end":{"line":10,"column":79}},"8":{"start":{"line":11,"column":8},"end":{"line":11,"column":79}},"9":{"start":{"line":12,"column":8},"end":{"line":12,"column":79}},"10":{"start":{"line":13,"column":8},"end":{"line":13,"column":77}},"11":{"start":{"line":14,"column":8},"end":{"line":14,"column":83}},"12":{"start":{"line":16,"column":4},"end":{"line":18,"column":44}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":7,"column":18},"end":{"line":7,"column":19}},"loc":{"start":{"line":7,"column":24},"end":{"line":19,"column":1}},"line":7},"2":{"name":"(anonymous_2)","decl":{"start":{"line":8,"column":26},"end":{"line":8,"column":27}},"loc":{"start":{"line":8,"column":32},"end":{"line":15,"column":5}},"line":8}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1},"f":{"0":1,"1":1,"2":1},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"trips.js","sourceRoot":"","sources":["trips.ts"],"names":[],"mappings":";;;;;AAAA,oFAA2C;AAE3C,kBAAe,GAAG,EAAE;IAChB,eAAK,CAAC,KAAK,CAAC,GAAG,EAAE;QACb,eAAK,CAAC,IAAI,CAAC,YAAY,EAAE,0BAA0B,CAAC,CAAA;QACpD,eAAK,CAAC,IAAI,CAAC,kBAAkB,EAAE,4BAA4B,CAAC,CAAA;QAC5D,eAAK,CAAC,IAAI,CAAC,kBAAkB,EAAE,4BAA4B,CAAC,CAAA;QAC5D,eAAK,CAAC,IAAI,CAAC,kBAAkB,EAAE,4BAA4B,CAAC,CAAA;QAC5D,eAAK,CAAC,IAAI,CAAC,iBAAiB,EAAE,2BAA2B,CAAC,CAAA;QAC1D,eAAK,CAAC,IAAI,CAAC,oBAAoB,EAAE,8BAA8B,CAAC,CAAA;IACpE,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;IACxB,eAAK,CAAC,QAAQ,CAAC,OAAO,EAAE,iBAAiB,CAAC;SACrC,OAAO,EAAE;SACT,IAAI,CAAC,CAAC,OAAO,EAAE,SAAS,EAAE,MAAM,CAAC,CAAC,CAAA;AAC3C,CAAC,CAAA","sourcesContent":["import Route from '@ioc:Adonis/Core/Route';\r\n\r\nexport default () => {\r\n    Route.group(() => {\r\n        Route.post('trips/book', 'TripsController.bookTrip')\r\n        Route.post('trips/:id/accept', 'TripsController.acceptTrip')\r\n        Route.post('trips/:id/reject', 'TripsController.rejectTrip')\r\n        Route.post('trips/:id/cancel', 'TripsController.cancelTrip')\r\n        Route.post('trips/:id/start', 'TripsController.startTrip')\r\n        Route.post('trips/:id/complete', 'TripsController.completeTrip')\r\n    }).middleware(['auth']);\r\n    Route.resource('trips', 'TripsController')\r\n        .apiOnly()\r\n        .only(['index', 'destroy', 'show'])\r\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"226252a7c97b20e1fd43edd102f7107bda0346a1","contentHash":"e37c564b9292b995935aef5cc64ee12f8899376142fc8d1a9fb7cfad793858dc"},"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\start\\Routes\\riders.ts":{"path":"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\start\\Routes\\riders.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":16},"end":{"line":6,"column":83}},"4":{"start":{"line":7,"column":0},"end":{"line":15,"column":2}},"5":{"start":{"line":8,"column":4},"end":{"line":14,"column":24}},"6":{"start":{"line":9,"column":8},"end":{"line":10,"column":28}},"7":{"start":{"line":11,"column":8},"end":{"line":11,"column":67}},"8":{"start":{"line":12,"column":8},"end":{"line":12,"column":60}},"9":{"start":{"line":13,"column":8},"end":{"line":13,"column":59}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":7,"column":18},"end":{"line":7,"column":19}},"loc":{"start":{"line":7,"column":24},"end":{"line":15,"column":1}},"line":7},"2":{"name":"(anonymous_2)","decl":{"start":{"line":8,"column":26},"end":{"line":8,"column":27}},"loc":{"start":{"line":8,"column":32},"end":{"line":14,"column":5}},"line":8}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1},"f":{"0":1,"1":1,"2":1},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"riders.js","sourceRoot":"","sources":["riders.ts"],"names":[],"mappings":";;;;;AAAA,oFAA2C;AAE3C,kBAAe,GAAG,EAAE;IAChB,eAAK,CAAC,KAAK,CAAC,GAAG,EAAE;QACb,eAAK,CAAC,GAAG,CAAC,kBAAkB,EAAE,8BAA8B,CAAC;aACxD,UAAU,CAAC,EAAE,CAAC,CAAA;QACnB,eAAK,CAAC,GAAG,CAAC,KAAK,EAAE,8BAA8B,CAAC,CAAA;QAChD,eAAK,CAAC,GAAG,CAAC,KAAK,EAAE,uBAAuB,CAAC,CAAA;QACzC,eAAK,CAAC,GAAG,CAAC,GAAG,EAAE,wBAAwB,CAAC,CAAA;IAC5C,CAAC,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAA;AACvB,CAAC,CAAA","sourcesContent":["import Route from \"@ioc:Adonis/Core/Route\";\r\n\r\nexport default () => {\r\n    Route.group(() => {\r\n        Route.put(':id/change-photo', 'RidersController.changePhoto')\r\n            .middleware([])\r\n        Route.put(':id', 'RidersController.updateRider')\r\n        Route.get(':id', 'RidersController.show')\r\n        Route.get('/', 'RidersController.index')\r\n    }).prefix('riders')\r\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c3e6d0c8e74e35d7244a9d908c0b2a56efb6b4f2","contentHash":"647488a16d498b7c6577998026d4aa86f06a86371c80d132c1d301fe5da50776"},"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\start\\Routes\\drivers.ts":{"path":"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\start\\Routes\\drivers.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":16},"end":{"line":6,"column":83}},"4":{"start":{"line":7,"column":0},"end":{"line":29,"column":2}},"5":{"start":{"line":8,"column":4},"end":{"line":28,"column":25}},"6":{"start":{"line":9,"column":8},"end":{"line":9,"column":85}},"7":{"start":{"line":10,"column":8},"end":{"line":10,"column":91}},"8":{"start":{"line":11,"column":8},"end":{"line":11,"column":77}},"9":{"start":{"line":12,"column":8},"end":{"line":12,"column":83}},"10":{"start":{"line":13,"column":8},"end":{"line":13,"column":64}},"11":{"start":{"line":14,"column":8},"end":{"line":14,"column":72}},"12":{"start":{"line":15,"column":8},"end":{"line":15,"column":70}},"13":{"start":{"line":16,"column":8},"end":{"line":16,"column":92}},"14":{"start":{"line":17,"column":8},"end":{"line":17,"column":94}},"15":{"start":{"line":18,"column":8},"end":{"line":19,"column":28}},"16":{"start":{"line":20,"column":8},"end":{"line":25,"column":32}},"17":{"start":{"line":21,"column":12},"end":{"line":21,"column":73}},"18":{"start":{"line":22,"column":12},"end":{"line":22,"column":90}},"19":{"start":{"line":23,"column":12},"end":{"line":23,"column":79}},"20":{"start":{"line":24,"column":12},"end":{"line":24,"column":83}},"21":{"start":{"line":26,"column":8},"end":{"line":26,"column":61}},"22":{"start":{"line":27,"column":8},"end":{"line":27,"column":60}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":7,"column":18},"end":{"line":7,"column":19}},"loc":{"start":{"line":7,"column":24},"end":{"line":29,"column":1}},"line":7},"2":{"name":"(anonymous_2)","decl":{"start":{"line":8,"column":26},"end":{"line":8,"column":27}},"loc":{"start":{"line":8,"column":32},"end":{"line":28,"column":5}},"line":8},"3":{"name":"(anonymous_3)","decl":{"start":{"line":20,"column":30},"end":{"line":20,"column":31}},"loc":{"start":{"line":20,"column":36},"end":{"line":25,"column":9}},"line":20}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1},"f":{"0":1,"1":1,"2":1,"3":1},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"drivers.js","sourceRoot":"","sources":["drivers.ts"],"names":[],"mappings":";;;;;AAAA,oFAA2C;AAE3C,kBAAe,GAAG,EAAE;IAEhB,eAAK,CAAC,KAAK,CAAC,GAAG,EAAE;QACb,eAAK,CAAC,GAAG,CAAC,kBAAkB,EAAE,mCAAmC,CAAC,CAAA;QAClE,eAAK,CAAC,GAAG,CAAC,qBAAqB,EAAE,sCAAsC,CAAC,CAAA;QACxE,eAAK,CAAC,GAAG,CAAC,cAAc,EAAE,+BAA+B,CAAC,CAAA;QAC1D,eAAK,CAAC,GAAG,CAAC,iBAAiB,EAAE,kCAAkC,CAAC,CAAA;QAChE,eAAK,CAAC,GAAG,CAAC,OAAO,EAAE,yBAAyB,CAAC,CAAA;QAC7C,eAAK,CAAC,GAAG,CAAC,WAAW,EAAE,6BAA6B,CAAC,CAAA;QACrD,eAAK,CAAC,GAAG,CAAC,UAAU,EAAE,4BAA4B,CAAC,CAAA;QACnD,eAAK,CAAC,GAAG,CAAC,WAAW,EAAE,4BAA4B,CAAC,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;QAC1E,eAAK,CAAC,GAAG,CAAC,YAAY,EAAE,6BAA6B,CAAC,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;QAC5E,eAAK,CAAC,GAAG,CAAC,kBAAkB,EAAE,+BAA+B,CAAC;aACzD,UAAU,CAAC,EAAE,CAAC,CAAA;QACnB,eAAK,CAAC,KAAK,CAAC,GAAG,EAAE;YACb,eAAK,CAAC,GAAG,CAAC,KAAK,EAAE,gCAAgC,CAAC,CAAC;YACnD,eAAK,CAAC,GAAG,CAAC,mBAAmB,EAAE,mCAAmC,CAAC,CAAC;YACpE,eAAK,CAAC,GAAG,CAAC,aAAa,EAAE,8BAA8B,CAAC,CAAC;YACzD,eAAK,CAAC,GAAG,CAAC,aAAa,EAAE,kCAAkC,CAAC,CAAC;QACjE,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,CAAC,CAAA;QACvB,eAAK,CAAC,GAAG,CAAC,KAAK,EAAE,wBAAwB,CAAC,CAAA;QAC1C,eAAK,CAAC,GAAG,CAAC,GAAG,EAAE,yBAAyB,CAAC,CAAA;IAC7C,CAAC,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,CAAA;AACxB,CAAC,CAAA","sourcesContent":["import Route from \"@ioc:Adonis/Core/Route\";\r\n\r\nexport default () => {\r\n\r\n    Route.group(() => {\r\n        Route.get('tricycles/online', 'DriversController.tricyclesOnline')\r\n        Route.get('tricycles/intransit', 'DriversController.tricyclesIntransit')\r\n        Route.get('bikes/online', 'DriversController.bikesOnline')\r\n        Route.get('bikes/intransit', 'DriversController.bikesIntransit')\r\n        Route.get('bikes', 'DriversController.bikes')\r\n        Route.get('tricycles', 'DriversController.tricycles')\r\n        Route.get('vehicles', 'DriversController.vehicles')\r\n        Route.put('toggle-on', 'DriversController.switchOn').middleware(['auth']);\r\n        Route.put('toggle-off', 'DriversController.switchOff').middleware(['auth']);\r\n        Route.put(':id/change-photo', 'DriversController.changePhoto')\r\n            .middleware([])\r\n        Route.group(() => {\r\n            Route.put(':id', 'DriversController.updateDriver');\r\n            Route.put(':id/personal-data', 'DriversController.addPersonalData');\r\n            Route.put(':id/address', 'DriversController.addAddress');\r\n            Route.put(':id/vehicle', 'DriversController.addVehicleData');\r\n        }).middleware(['auth'])\r\n        Route.get(':id', 'DriversController.show')\r\n        Route.get('/', 'DriversController.index')\r\n    }).prefix('drivers')\r\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"3cc88da569c99627adb0a8bb74c34a42cd39970a","contentHash":"9a99ba1544d7a19a53a321dfcb7d1388f976d721982879d1f17f18d2afb3a545"},"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\start\\Routes\\transcations.ts":{"path":"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\start\\Routes\\transcations.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":16},"end":{"line":6,"column":83}},"4":{"start":{"line":7,"column":0},"end":{"line":12,"column":2}},"5":{"start":{"line":8,"column":4},"end":{"line":11,"column":30}},"6":{"start":{"line":9,"column":8},"end":{"line":10,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":7,"column":18},"end":{"line":7,"column":19}},"loc":{"start":{"line":7,"column":24},"end":{"line":12,"column":1}},"line":7},"2":{"name":"(anonymous_2)","decl":{"start":{"line":8,"column":26},"end":{"line":8,"column":27}},"loc":{"start":{"line":8,"column":32},"end":{"line":11,"column":5}},"line":8}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1},"f":{"0":1,"1":1,"2":1},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"transcations.js","sourceRoot":"","sources":["transcations.ts"],"names":[],"mappings":";;;;;AAAA,oFAA2C;AAE3C,kBAAe,GAAG,EAAE;IAChB,eAAK,CAAC,KAAK,CAAC,GAAG,EAAE;QACb,eAAK,CAAC,IAAI,CAAC,YAAY,EAAE,mCAAmC,CAAC;aACxD,UAAU,CAAC,CAAC,MAAM,CAAC,CAAC,CAAA;IAC7B,CAAC,CAAC,CAAC,MAAM,CAAC,cAAc,CAAC,CAAA;AAC7B,CAAC,CAAA","sourcesContent":["import Route from '@ioc:Adonis/Core/Route';\r\n\r\nexport default () => {\r\n    Route.group(() => {\r\n        Route.post('initialize', 'TransactionsController.initialize')\r\n            .middleware(['auth'])\r\n    }).prefix('transactions')\r\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"956b3faa6eb7a27cb579137e263df4b0f06d9187","contentHash":"e9f964c030a9d3ee5c8786612a302893d09672b1171f990ec4065ca93f676fcc"},"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\start\\kernel.ts":{"path":"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\start\\kernel.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":17},"end":{"line":6,"column":85}},"4":{"start":{"line":7,"column":0},"end":{"line":9,"column":3}},"5":{"start":{"line":10,"column":0},"end":{"line":13,"column":3}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1},"f":{"0":1},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"kernel.js","sourceRoot":"","sources":["kernel.ts"],"names":[],"mappings":";;;;;AAWA,sFAA4C;AAW5C,gBAAM,CAAC,UAAU,CAAC,QAAQ,CAAC;IACzB,kCAAkC;CACnC,CAAC,CAAA;AAkBF,gBAAM,CAAC,UAAU,CAAC,aAAa,CAAC;IAC9B,IAAI,EAAE,qBAAqB;IAC3B,GAAG,EAAE,oBAAoB;CAC1B,CAAC,CAAA","sourcesContent":["/*\n|--------------------------------------------------------------------------\n| Application middleware\n|--------------------------------------------------------------------------\n|\n| This file is used to define middleware for HTTP requests. You can register\n| middleware as a `closure` or an IoC container binding. The bindings are\n| preferred, since they keep this file clean.\n|\n*/\n\nimport Server from '@ioc:Adonis/Core/Server'\n\n/*\n|--------------------------------------------------------------------------\n| Global middleware\n|--------------------------------------------------------------------------\n|\n| An array of global middleware, that will be executed in the order they\n| are defined for every HTTP requests.\n|\n*/\nServer.middleware.register([\n  'Adonis/Core/BodyParserMiddleware',\n])\n\n/*\n|--------------------------------------------------------------------------\n| Named middleware\n|--------------------------------------------------------------------------\n|\n| Named middleware are defined as key-value pair. The value is the namespace\n| or middleware function and key is the alias. Later you can use these\n| alias on individual routes. For example:\n|\n| { auth: 'App/Auth/Middleware' }\n|\n| and then use it as follows\n|\n| Route.get('dashboard', 'UserController.dashboard').middleware('auth')\n|\n*/\nServer.middleware.registerNamed({\n  auth: \"App/Middleware/Auth\",\n  acl: \"App/Middleware/Acl\",\n})\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"aa3df28e7695e7bfd11c399daa623c90710ebb9a","contentHash":"369d3ca082ba536deb867ee80d627f7a7c54e103392bd2d56cc21fc59572386a"},"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\start\\events.ts":{"path":"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\start\\events.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":16},"end":{"line":6,"column":83}},"4":{"start":{"line":7,"column":0},"end":{"line":7,"column":94}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":90}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":75}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":82}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":75}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1},"f":{"0":1},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"events.js","sourceRoot":"","sources":["events.ts"],"names":[],"mappings":";;;;;AAAA,oFAA2C;AAI3C,eAAK,CAAC,EAAE,CAAC,+BAA+B,EAAE,wCAAwC,CAAC,CAAA;AACnF,eAAK,CAAC,EAAE,CAAC,yBAAyB,EAAE,0CAA0C,CAAC,CAAC;AAChF,eAAK,CAAC,EAAE,CAAC,eAAe,EAAE,qCAAqC,CAAC,CAAC;AACjE,eAAK,CAAC,EAAE,CAAC,qBAAqB,EAAE,sCAAsC,CAAC,CAAC;AACxE,eAAK,CAAC,EAAE,CAAC,eAAe,EAAE,qCAAqC,CAAC,CAAC","sourcesContent":["import Event from \"@ioc:Adonis/Core/Event\";\r\n// import Database from \"@ioc:Adonis/Lucid/Database\";\r\n\r\n// Event.on('db:query', Database.prettyPrint);\r\nEvent.on('iterate:trip:request:matching', 'DemandSupplyMatching.onIterateMatching')\r\nEvent.on('trip:maximum:rejections', 'DemandSupplyMatching.onMaximumRejections');\r\nEvent.on('trip:accepted', 'DemandSupplyMatching.onTripAccepted');\r\nEvent.on('trip:driver:matched', 'DemandSupplyMatching.onDriverMatched');\r\nEvent.on('trip:canceled', 'DemandSupplyMatching.onTripCanceled');\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"49f01b6f3559fe571aed90581a95474d4346adea","contentHash":"9c88b2a4769120ccc00715c6ffaf061a5d681aabbb69f9b636e99fe48df1c026"},"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\start\\validationRules.ts":{"path":"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\start\\validationRules.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":20},"end":{"line":3,"column":74}},"2":{"start":{"line":4,"column":0},"end":{"line":8,"column":3}},"3":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"4":{"start":{"line":6,"column":8},"end":{"line":6,"column":131}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":44},"end":{"line":4,"column":45}},"loc":{"start":{"line":4,"column":110},"end":{"line":8,"column":1}},"line":4}},"branchMap":{"0":{"loc":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},{"start":{"line":5,"column":4},"end":{"line":7,"column":5}}],"line":5}},"s":{"0":1,"1":1,"2":1,"3":2,"4":0},"f":{"0":2},"b":{"0":[0,2]},"inputSourceMap":{"version":3,"file":"validationRules.js","sourceRoot":"","sources":["validationRules.ts"],"names":[],"mappings":";;AAAA,2EAAuD;AAEvD,qBAAS,CAAC,IAAI,CACV,eAAe,EACf,CACI,KAAa,EACb,CAAC,EACD,EAAE,OAAO,EAAE,sBAAsB,EAAE,aAAa,EAAE,EACpD,EAAE;IAEA,IAAI,KAAK,GAAG,EAAE,EAAE;QACZ,aAAa,CAAC,MAAM,CAChB,OAAO,EACP,eAAe,EACf,kDAAkD,EAClD,sBAAsB,CACzB,CAAC;KACL;AACL,CAAC,CACJ,CAAC","sourcesContent":["import { validator } from \"@ioc:Adonis/Core/Validator\";\r\n\r\nvalidator.rule(\r\n    \"notLessThan50\",\r\n    (\r\n        value: number,\r\n        _,\r\n        { pointer, arrayExpressionPointer, errorReporter }\r\n    ) => {\r\n\r\n        if (value < 50) {\r\n            errorReporter.report(\r\n                pointer,\r\n                \"notLessThan50\",\r\n                \"You can't add amount less than 50 in your wallet\",\r\n                arrayExpressionPointer\r\n            );\r\n        }\r\n    }\r\n);"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"208ecc0b905c7b1dfdd2bb3090fe17015267dc4a","contentHash":"9a956d25c4fc231f037bb459b22011089a57a6db8e2b2701ce707bac0a80c85a"},"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\app\\Exceptions\\Handler.ts":{"path":"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\app\\Exceptions\\Handler.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":17},"end":{"line":6,"column":85}},"4":{"start":{"line":7,"column":31},"end":{"line":7,"column":113}},"5":{"start":{"line":10,"column":8},"end":{"line":10,"column":32}},"6":{"start":{"line":13,"column":0},"end":{"line":13,"column":35}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":18},"end":{"line":11,"column":5}},"line":9}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":1,"6":1},"f":{"0":2,"1":1},"b":{"0":[1,1,1],"1":[0,2],"2":[2,2]},"inputSourceMap":{"version":3,"file":"Handler.js","sourceRoot":"","sources":["Handler.ts"],"names":[],"mappings":";;;;;AAeA,sFAA4C;AAC5C,kHAAwE;AAExE,MAAqB,gBAAiB,SAAQ,8BAAoB;IAChE;QACE,KAAK,CAAC,gBAAM,CAAC,CAAA;IACf,CAAC;CACF;AAJD,mCAIC","sourcesContent":["/*\n|--------------------------------------------------------------------------\n| Http Exception Handler\n|--------------------------------------------------------------------------\n|\n| AdonisJs will forward all exceptions occurred during an HTTP request to\n| the following class. You can learn more about exception handling by\n| reading docs.\n|\n| The exception handler extends a base `HttpExceptionHandler` which is not\n| mandatory, however it can do lot of heavy lifting to handle the errors\n| properly.\n|\n*/\n\nimport Logger from '@ioc:Adonis/Core/Logger'\nimport HttpExceptionHandler from '@ioc:Adonis/Core/HttpExceptionHandler'\n\nexport default class ExceptionHandler extends HttpExceptionHandler {\n  constructor () {\n    super(Logger)\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ea2c9a0ba129f7f1813ba39e62af7c6f1dc3474c","contentHash":"de2c85a241af8ea0000f45116e613990306447a18588829698059921b0e29d00"},"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\start\\socket.ts":{"path":"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\start\\socket.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":20},"end":{"line":6,"column":92}},"4":{"start":{"line":7,"column":0},"end":{"line":12,"column":3}},"5":{"start":{"line":8,"column":4},"end":{"line":8,"column":44}},"6":{"start":{"line":9,"column":4},"end":{"line":9,"column":36}},"7":{"start":{"line":10,"column":4},"end":{"line":10,"column":100}},"8":{"start":{"line":11,"column":4},"end":{"line":11,"column":33}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":7,"column":26},"end":{"line":7,"column":27}},"loc":{"start":{"line":7,"column":38},"end":{"line":12,"column":1}},"line":7}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0},"f":{"0":1,"1":0},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1]},"inputSourceMap":{"version":3,"file":"socket.js","sourceRoot":"","sources":["socket.ts"],"names":[],"mappings":";;;;;AAAA,6FAA+C;AAE/C,mBAAS,CAAC,KAAK,CAAC,CAAC,MAAM,EAAE,EAAE;IACvB,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,EAAE,KAAK,EAAE,OAAO,EAAE,CAAC,CAAA;IAEvC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,CAAA;IAC/B,mBAAS,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,MAAM,CAAC,EAAE,EAAE,IAAI,EAAE,cAAc,MAAM,CAAC,EAAE,EAAE,EAAE,CAAC,CAAA;IACrF,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,MAAM,CAAC,EAAE,CAAC,CAAA;AAChC,CAAC,CAAC,CAAA","sourcesContent":["import Websocket from 'App/Services/Websocket';\r\n\r\nWebsocket.start((socket) => {\r\n    socket.emit('news', { hello: 'world' })\r\n\r\n    console.log(socket.request.url)\r\n    Websocket.getIo().emit(socket.id, { id: socket.id, text: `Your id is ${socket.id}` })\r\n    socket.emit('id', socket.id)\r\n})\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d825cc81f82228a4cc8f44aaea0d97d96c178dfe","contentHash":"7157385c3d78560d068ce0963bbddba34e4ad54caea6b1d43131f36d307ddc7b"},"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\app\\Services\\Websocket.ts":{"path":"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\app\\Services\\Websocket.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":20},"end":{"line":6,"column":40}},"4":{"start":{"line":7,"column":17},"end":{"line":7,"column":85}},"5":{"start":{"line":10,"column":8},"end":{"line":10,"column":68}},"6":{"start":{"line":11,"column":8},"end":{"line":11,"column":43}},"7":{"start":{"line":14,"column":8},"end":{"line":14,"column":23}},"8":{"start":{"line":17,"column":0},"end":{"line":17,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":20},"end":{"line":12,"column":5}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":12},"end":{"line":15,"column":5}},"line":13}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":1},"f":{"0":1,"1":1,"2":0},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"Websocket.js","sourceRoot":"","sources":["Websocket.ts"],"names":[],"mappings":";;;;;AAAA,yCAA2C;AAC3C,sFAAkD;AAGlD,MAAM,SAAS;IAGJ,KAAK,CAAC,QAAkC;QAC3C,IAAI,CAAC,EAAE,GAAG,IAAI,kBAAM,CAAC,gBAAY,CAAC,QAAS,CAAC,CAAC;QAC7C,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,YAAY,EAAE,QAAQ,CAAC,CAAC;IACvC,CAAC;IACM,KAAK;QACR,OAAO,IAAI,CAAC,EAAE,CAAC;IACnB,CAAC;CACJ;AAED,kBAAe,IAAI,SAAS,EAAE,CAAC","sourcesContent":["import { Server, Socket } from 'socket.io';\r\nimport AdonisServer from '@ioc:Adonis/Core/Server'\r\n\r\n\r\nclass Websocket {\r\n    private io: Server;\r\n\r\n    public start(callback: (socket: Socket) => void) {\r\n        this.io = new Server(AdonisServer.instance!);\r\n        this.io.on('connection', callback);\r\n    }\r\n    public getIo(): Server {\r\n        return this.io;\r\n    }\r\n}\r\n\r\nexport default new Websocket();"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"5208c5c9669063c49e4b043e7ae377f42dc662a1","contentHash":"a604933efab5ed5546e7dc072f34fa93e3cdb6538046a8df32fba5415713b195"},"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\app\\Services\\UtilService.ts":{"path":"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\app\\Services\\UtilService.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":20},"end":{"line":6,"column":74}},"4":{"start":{"line":7,"column":16},"end":{"line":7,"column":58}},"5":{"start":{"line":8,"column":23},"end":{"line":8,"column":65}},"6":{"start":{"line":9,"column":17},"end":{"line":9,"column":51}},"7":{"start":{"line":10,"column":15},"end":{"line":10,"column":80}},"8":{"start":{"line":11,"column":16},"end":{"line":11,"column":82}},"9":{"start":{"line":12,"column":17},"end":{"line":12,"column":34}},"10":{"start":{"line":15,"column":8},"end":{"line":21,"column":11}},"11":{"start":{"line":24,"column":8},"end":{"line":32,"column":9}},"12":{"start":{"line":25,"column":28},"end":{"line":25,"column":41}},"13":{"start":{"line":26,"column":29},"end":{"line":26,"column":45}},"14":{"start":{"line":27,"column":50},"end":{"line":27,"column":115}},"15":{"start":{"line":28,"column":12},"end":{"line":28,"column":49}},"16":{"start":{"line":31,"column":12},"end":{"line":31,"column":24}},"17":{"start":{"line":35,"column":8},"end":{"line":37,"column":9}},"18":{"start":{"line":36,"column":12},"end":{"line":36,"column":51}},"19":{"start":{"line":38,"column":8},"end":{"line":44,"column":9}},"20":{"start":{"line":39,"column":24},"end":{"line":39,"column":26}},"21":{"start":{"line":40,"column":12},"end":{"line":42,"column":15}},"22":{"start":{"line":41,"column":16},"end":{"line":41,"column":64}},"23":{"start":{"line":43,"column":12},"end":{"line":43,"column":23}},"24":{"start":{"line":45,"column":8},"end":{"line":45,"column":76}},"25":{"start":{"line":48,"column":21},"end":{"line":48,"column":41}},"26":{"start":{"line":49,"column":8},"end":{"line":49,"column":54}},"27":{"start":{"line":50,"column":8},"end":{"line":50,"column":35}},"28":{"start":{"line":51,"column":8},"end":{"line":51,"column":45}},"29":{"start":{"line":52,"column":8},"end":{"line":52,"column":28}},"30":{"start":{"line":53,"column":22},"end":{"line":53,"column":43}},"31":{"start":{"line":54,"column":8},"end":{"line":54,"column":43}},"32":{"start":{"line":55,"column":8},"end":{"line":55,"column":41}},"33":{"start":{"line":56,"column":8},"end":{"line":56,"column":48}},"34":{"start":{"line":57,"column":8},"end":{"line":57,"column":36}},"35":{"start":{"line":58,"column":56},"end":{"line":58,"column":60}},"36":{"start":{"line":59,"column":8},"end":{"line":59,"column":62}},"37":{"start":{"line":62,"column":0},"end":{"line":62,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":4},"end":{"line":14,"column":5}},"loc":{"start":{"line":14,"column":52},"end":{"line":22,"column":5}},"line":14},"2":{"name":"(anonymous_2)","decl":{"start":{"line":23,"column":4},"end":{"line":23,"column":5}},"loc":{"start":{"line":23,"column":35},"end":{"line":33,"column":5}},"line":23},"3":{"name":"(anonymous_3)","decl":{"start":{"line":34,"column":4},"end":{"line":34,"column":5}},"loc":{"start":{"line":34,"column":21},"end":{"line":46,"column":5}},"line":34},"4":{"name":"(anonymous_4)","decl":{"start":{"line":40,"column":37},"end":{"line":40,"column":38}},"loc":{"start":{"line":40,"column":44},"end":{"line":42,"column":13}},"line":40},"5":{"name":"(anonymous_5)","decl":{"start":{"line":47,"column":4},"end":{"line":47,"column":5}},"loc":{"start":{"line":47,"column":22},"end":{"line":60,"column":5}},"line":47}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":35,"column":8},"end":{"line":37,"column":9}},"type":"if","locations":[{"start":{"line":35,"column":8},"end":{"line":37,"column":9}},{"start":{"line":35,"column":8},"end":{"line":37,"column":9}}],"line":35},"4":{"loc":{"start":{"line":38,"column":8},"end":{"line":44,"column":9}},"type":"if","locations":[{"start":{"line":38,"column":8},"end":{"line":44,"column":9}},{"start":{"line":38,"column":8},"end":{"line":44,"column":9}}],"line":38}},"s":{"0":1,"1":4,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":6,"26":6,"27":6,"28":6,"29":6,"30":6,"31":6,"32":6,"33":6,"34":6,"35":6,"36":6,"37":1},"f":{"0":4,"1":0,"2":0,"3":0,"4":0,"5":6},"b":{"0":[1,1,1],"1":[3,1],"2":[4,4],"3":[0,0],"4":[0,0]},"inputSourceMap":{"version":3,"file":"UtilService.js","sourceRoot":"","sources":["UtilService.ts"],"names":[],"mappings":";;;;;AACA,2EAA2D;AAC3D,2DAAqC;AACrC,kEAA0C;AAC1C,oDAAuB;AACvB,iFAAmC;AACnC,mFAAqC;AACrC,mCAAgC;AAEhC,MAAM,WAAW;IACN,eAAe,CAAC,EAAE,OAAO,EAAE,MAAM,EAAuB,EAAE,SAAiB;QAC9E,OAAO,OAAO,CAAC,QAAQ,CAAC;YACpB,MAAM,EAAE,kBAAM,CAAC,MAAM,CAAC;gBAClB,EAAE,EAAE,kBAAM,CAAC,MAAM,CAAC,CAAC,iBAAK,CAAC,MAAM,CAAC,EAAE,KAAK,EAAE,SAAS,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;aACxE,CAAC;YACF,IAAI,EAAE,EAAE,EAAE,EAAE,MAAM,CAAC,EAAE,EAAE;YACvB,QAAQ,EAAR,gBAAQ;SACX,CAAC,CAAA;IACN,CAAC;IACM,KAAK,CAAC,SAAS,CAAC,KAAU,EAAE,MAAc;QAC7C,IAAI;YACA,MAAM,OAAO,GAAG,KAAK,CAAC,OAAiB,CAAC;YACxC,MAAM,QAAQ,GAAG,KAAK,CAAC,UAAU,CAAC;YAClC,MAAM,EAAE,YAAY,EAAE,MAAM,EAAE,GAAG,EAAE,GAAG,MAAM,sBAAY,CAAC,SAAS,CAC9D,OAAO,EACP,QAAQ,EACR,MAAM,CACT,CAAC;YACF,OAAO,EAAE,YAAY,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;SACxC;QAAC,OAAO,KAAK,EAAE;YACZ,MAAM,KAAK,CAAC;SACf;IACL,CAAC;IACM,WAAW,CAAC,GAAoB;QACnC,IAAI,OAAO,GAAG,KAAK,QAAQ,EAAE;YACzB,OAAO,gBAAC,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;SAC3B;QACD,IAAI,OAAO,GAAG,KAAK,QAAQ,EAAE;YACzB,MAAM,GAAG,GAAG,EAAE,CAAC;YACf,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;gBAC3B,GAAG,CAAC,gBAAC,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC;YACrC,CAAC,CAAC,CAAA;YACF,OAAO,GAAG,CAAC;SACd;QACD,MAAM,IAAI,SAAS,CAAC,8CAA8C,CAAC,CAAC;IACxE,CAAC;IACM,KAAK,CAAC,SAAS;QAClB,MAAM,IAAI,GAAG,IAAI,cAAI,EAAE,CAAC;QACxB,IAAI,CAAC,KAAK,GAAG,eAAM,EAAE,GAAG,YAAY,CAAC;QACrC,IAAI,CAAC,QAAQ,GAAG,UAAU,CAAC;QAC3B,IAAI,CAAC,WAAW,GAAG,eAAM,EAAE,CAAC;QAC5B,IAAI,CAAC,IAAI,GAAG,OAAO,CAAC;QAEpB,MAAM,KAAK,GAAG,IAAI,eAAK,EAAE,CAAC;QAC1B,KAAK,CAAC,SAAS,GAAG,gBAAgB,CAAC;QACnC,KAAK,CAAC,QAAQ,GAAG,eAAe,CAAC;QAEjC,MAAM,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACxC,MAAM,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAA;QAC3B,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,OAAO,EAAE,EAAE,GAAG,IAAI,CAAC;QACrD,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,UAAU,EAAE,CAAC;IAE1D,CAAC;CA8BJ;AACD,kBAAe,IAAI,WAAW,EAAE,CAAC","sourcesContent":["import { HttpContextContract } from '@ioc:Adonis/Core/HttpContext';\r\nimport { schema, rules } from '@ioc:Adonis/Core/Validator';\r\nimport { messages } from \"App/Utils\";\r\nimport ImageService from './ImageService';\r\nimport _ from 'lodash';\r\nimport User from 'App/Models/User';\r\nimport Rider from 'App/Models/Rider';\r\nimport { nanoid } from 'nanoid';\r\n\r\nclass UtilService {\r\n    public validateIdParam({ request, params }: HttpContextContract, tableName: string) {\r\n        return request.validate({\r\n            schema: schema.create({\r\n                id: schema.number([rules.exists({ table: tableName, column: 'id' })])\r\n            }),\r\n            data: { id: params.id },\r\n            messages\r\n        })\r\n    }\r\n    public async savePhoto(photo: any, folder: string) {\r\n        try {\r\n            const tmpPath = photo.tmpPath as string;\r\n            const fileName = photo.clientName;\r\n            const { thumbnailUrl, fileId, url } = await ImageService.saveImage(\r\n                tmpPath,\r\n                fileName,\r\n                folder\r\n            );\r\n            return { thumbnailUrl, fileId, url };\r\n        } catch (error) {\r\n            throw error;\r\n        }\r\n    }\r\n    public toSnakeCase(arg: string | object) {\r\n        if (typeof arg === 'string') {\r\n            return _.snakeCase(arg);\r\n        }\r\n        if (typeof arg === 'object') {\r\n            const obj = {};\r\n            Object.keys(arg).forEach(key => {\r\n                obj[_.snakeCase(key)] = arg[key];\r\n            })\r\n            return obj;\r\n        }\r\n        throw new TypeError('Can only accept a string or object data type');\r\n    }\r\n    public async fakeRider() {\r\n        const user = new User();\r\n        user.email = nanoid() + '@gmail.com';\r\n        user.password = 'password';\r\n        user.phoneNumber = nanoid();\r\n        user.role = 'rider';\r\n\r\n        const rider = new Rider();\r\n        rider.firstName = 'test_firstname';\r\n        rider.lastName = 'test_lastname';\r\n        // console.log('transaction', trx)\r\n        await user.related('rider').save(rider);\r\n        await user.preload('rider')\r\n        const { role, email, rider: { id: riderId } } = user;\r\n        return { email, role, riderId, password: 'password' };\r\n\r\n    }\r\n    // public searchNews(page:number,limit:number,searchTerm) {\r\n    //     const sql =\r\n    //   \"to_tsvector(news.title) || to_tsvector(news.description) @@ to_tsquery(?)\";\r\n    //     return News.query()\r\n    //         .whereRaw(sql, searchTerm)\r\n    //         .preload('coverImage')\r\n    //         .preload('likes', query => query.preload('liker'))\r\n    //         .withCount('comments')\r\n    //         .withCount('likes')\r\n    //         .preload('comments', query => query.preload('commentor'))\r\n    //         .orderBy('updated_at','desc')\r\n    //         .paginate(page, limit);\r\n    // }\r\n    // public searchUsers(page: number, limit: number, searchTerm) { \r\n    //      const sql =\r\n    //   \"to_tsvector(profiles.first_name) || to_tsvector(profiles.last_name) @@ to_tsquery(?)\";\r\n    //     return User.query()\r\n    //     .preload('profile')\r\n    //         .whereHas('profile', profile => {\r\n    //             profile.preload('photo')\r\n    //             profile.whereRaw(sql, searchTerm);\r\n    //     })\r\n    //     .withCount('comments')\r\n    //     .withCount('likes')\r\n    //     .withCount('suggestions')\r\n    //     .orderBy('updated_at','desc')\r\n    //     .paginate(page, limit);\r\n\r\n    // }\r\n}\r\nexport default new UtilService();"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"9f3a4e78467ae61d28d378c4aa2ea7cd15a81f43","contentHash":"ecf3cb02fa9548e011b52ef8e8aa95843d34948a44e61de7592719c119764228"},"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\app\\Utils\\index.ts":{"path":"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\app\\Utils\\index.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":160}},"2":{"start":{"line":4,"column":0},"end":{"line":15,"column":2}},"3":{"start":{"line":16,"column":0},"end":{"line":18,"column":2}},"4":{"start":{"line":19,"column":0},"end":{"line":19,"column":40}},"5":{"start":{"line":20,"column":0},"end":{"line":20,"column":53}},"6":{"start":{"line":21,"column":0},"end":{"line":21,"column":63}},"7":{"start":{"line":22,"column":0},"end":{"line":22,"column":57}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"index.js","sourceRoot":"","sources":["index.ts"],"names":[],"mappings":";;;AAAa,QAAA,QAAQ,GAAG;IACpB,QAAQ,EAAE,uBAAuB;IACjC,KAAK,EAAE,wCAAwC;IAC/C,MAAM,EAAE,oCAAoC;IAC5C,MAAM,EAAE,yCAAyC;IACjD,MAAM,EAAE,gCAAgC;IACxC,SAAS,EAAE,6DAA6D;IACxE,IAAI,EAAE,6DAA6D;IACnE,IAAI,EAAE,8CAA8C;IACpD,MAAM,EAAE,4CAA4C;IACpD,QAAQ,EAAE,kEAAkE;CAC/E,CAAC;AAEW,QAAA,SAAS,GAAG;IACrB,KAAK,EAAE,EAAE;CACZ,CAAA;AAEY,QAAA,YAAY,GAAG,gBAAgB,CAAC;AAChC,QAAA,eAAe,GAAG,0BAA0B,CAAC;AAC7C,QAAA,uBAAuB,GAAG,4BAA4B,CAAC;AACvD,QAAA,oBAAoB,GAAG,yBAAyB,CAAC","sourcesContent":["export const messages = {\r\n    required: \"{{field}} is required\",\r\n    email: \"Please enter a valid {{field}} address\",\r\n    exists: \"Item with {{field}} does not exist\",\r\n    unique: \"User with such {{field}} already exists\",\r\n    mobile: \"Please enter a valid {{field}}\",\r\n    minLength: \"The cart must have a minimum of {{options.minLength}} items\",\r\n    enum: \"The value of {{field}} must be one of {{ options.choices }}\",\r\n    size: \"The file size must be under {{options.size}}\",\r\n    number: 'The {{field}} param/field must be a number',\r\n    extnames: \"The file must have one of {{ options.extnames }} extension names\",\r\n};\r\n\r\nexport const CONSTANTS = {\r\n    LIMIT: 10\r\n}\r\n\r\nexport const USERS_FOLDER = 'saferide/users';\r\nexport const CARRIAGE_FOLDER = 'saferide/carriage/photos';\r\nexport const DRIVERS_DOCUMENT_FOLDER = 'saferide/drivers/documents';\r\nexport const IMAGE_GALLERY_FOLDER = 'saferide/gallery/photos';\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"96bb1fd9ca8bc5d652296783495230f51ce8cb02","contentHash":"8c6d29ffaf0f3213e7832bc12246f458a85025f7c40d0dd9fadebe8fc7a42589"},"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\app\\Services\\ImageService.ts":{"path":"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\app\\Services\\ImageService.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":19},"end":{"line":6,"column":84}},"4":{"start":{"line":7,"column":19},"end":{"line":7,"column":55}},"5":{"start":{"line":8,"column":15},"end":{"line":8,"column":30}},"6":{"start":{"line":9,"column":13},"end":{"line":9,"column":43}},"7":{"start":{"line":12,"column":8},"end":{"line":16,"column":11}},"8":{"start":{"line":19,"column":53},"end":{"line":19,"column":57}},"9":{"start":{"line":20,"column":8},"end":{"line":27,"column":11}},"10":{"start":{"line":21,"column":12},"end":{"line":26,"column":15}},"11":{"start":{"line":22,"column":16},"end":{"line":24,"column":17}},"12":{"start":{"line":23,"column":20},"end":{"line":23,"column":34}},"13":{"start":{"line":25,"column":16},"end":{"line":25,"column":32}},"14":{"start":{"line":30,"column":8},"end":{"line":36,"column":11}},"15":{"start":{"line":31,"column":12},"end":{"line":35,"column":15}},"16":{"start":{"line":32,"column":16},"end":{"line":33,"column":34}},"17":{"start":{"line":33,"column":20},"end":{"line":33,"column":34}},"18":{"start":{"line":34,"column":16},"end":{"line":34,"column":32}},"19":{"start":{"line":40,"column":8},"end":{"line":58,"column":9}},"20":{"start":{"line":41,"column":29},"end":{"line":41,"column":68}},"21":{"start":{"line":42,"column":27},"end":{"line":42,"column":64}},"22":{"start":{"line":43,"column":29},"end":{"line":43,"column":36}},"23":{"start":{"line":44,"column":29},"end":{"line":44,"column":53}},"24":{"start":{"line":45,"column":12},"end":{"line":45,"column":35}},"25":{"start":{"line":46,"column":25},"end":{"line":51,"column":13}},"26":{"start":{"line":52,"column":27},"end":{"line":52,"column":55}},"27":{"start":{"line":53,"column":50},"end":{"line":53,"column":56}},"28":{"start":{"line":54,"column":12},"end":{"line":54,"column":124}},"29":{"start":{"line":57,"column":12},"end":{"line":57,"column":24}},"30":{"start":{"line":61,"column":8},"end":{"line":67,"column":9}},"31":{"start":{"line":62,"column":29},"end":{"line":62,"column":76}},"32":{"start":{"line":62,"column":51},"end":{"line":62,"column":75}},"33":{"start":{"line":63,"column":12},"end":{"line":63,"column":40}},"34":{"start":{"line":66,"column":12},"end":{"line":66,"column":24}},"35":{"start":{"line":70,"column":0},"end":{"line":70,"column":37}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":18},"end":{"line":17,"column":5}},"line":11},"2":{"name":"(anonymous_2)","decl":{"start":{"line":18,"column":4},"end":{"line":18,"column":5}},"loc":{"start":{"line":18,"column":22},"end":{"line":28,"column":5}},"line":18},"3":{"name":"(anonymous_3)","decl":{"start":{"line":20,"column":27},"end":{"line":20,"column":28}},"loc":{"start":{"line":20,"column":48},"end":{"line":27,"column":9}},"line":20},"4":{"name":"(anonymous_4)","decl":{"start":{"line":21,"column":85},"end":{"line":21,"column":86}},"loc":{"start":{"line":21,"column":104},"end":{"line":26,"column":13}},"line":21},"5":{"name":"(anonymous_5)","decl":{"start":{"line":29,"column":4},"end":{"line":29,"column":5}},"loc":{"start":{"line":29,"column":24},"end":{"line":37,"column":5}},"line":29},"6":{"name":"(anonymous_6)","decl":{"start":{"line":30,"column":27},"end":{"line":30,"column":28}},"loc":{"start":{"line":30,"column":48},"end":{"line":36,"column":9}},"line":30},"7":{"name":"(anonymous_7)","decl":{"start":{"line":31,"column":45},"end":{"line":31,"column":46}},"loc":{"start":{"line":31,"column":64},"end":{"line":35,"column":13}},"line":31},"8":{"name":"(anonymous_8)","decl":{"start":{"line":38,"column":4},"end":{"line":38,"column":5}},"loc":{"start":{"line":38,"column":53},"end":{"line":59,"column":5}},"line":38},"9":{"name":"(anonymous_9)","decl":{"start":{"line":60,"column":4},"end":{"line":60,"column":5}},"loc":{"start":{"line":60,"column":32},"end":{"line":68,"column":5}},"line":60},"10":{"name":"(anonymous_10)","decl":{"start":{"line":62,"column":41},"end":{"line":62,"column":42}},"loc":{"start":{"line":62,"column":51},"end":{"line":62,"column":75}},"line":62}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":22,"column":16},"end":{"line":24,"column":17}},"type":"if","locations":[{"start":{"line":22,"column":16},"end":{"line":24,"column":17}},{"start":{"line":22,"column":16},"end":{"line":24,"column":17}}],"line":22},"4":{"loc":{"start":{"line":32,"column":16},"end":{"line":33,"column":34}},"type":"if","locations":[{"start":{"line":32,"column":16},"end":{"line":33,"column":34}},{"start":{"line":32,"column":16},"end":{"line":33,"column":34}}],"line":32},"5":{"loc":{"start":{"line":54,"column":54},"end":{"line":54,"column":121}},"type":"cond-expr","locations":[{"start":{"line":54,"column":101},"end":{"line":54,"column":107}},{"start":{"line":54,"column":110},"end":{"line":54,"column":121}}],"line":54},"6":{"loc":{"start":{"line":54,"column":54},"end":{"line":54,"column":98}},"type":"binary-expr","locations":[{"start":{"line":54,"column":54},"end":{"line":54,"column":81}},{"start":{"line":54,"column":85},"end":{"line":54,"column":98}}],"line":54}},"s":{"0":1,"1":3,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":1},"f":{"0":3,"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"b":{"0":[1,1,1],"1":[1,2],"2":[3,3],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},"inputSourceMap":{"version":3,"file":"ImageService.js","sourceRoot":"","sources":["ImageService.ts"],"names":[],"mappings":";;;;;AAAA,qFAA6C;AAC7C,wDAA+B;AAG/B,+BAAgC;AAChC,4CAAmB;AAGnB,MAAM,YAAY;IAGhB;QACE,IAAI,CAAC,QAAQ,GAAG,IAAI,kBAAQ,CAAC;YAC3B,SAAS,EAAE,kBAAc,CAAC,QAAQ,CAAC,SAAS;YAC5C,UAAU,EAAE,kBAAc,CAAC,QAAQ,CAAC,UAAU;YAC9C,WAAW,EAAE,yBAAyB,GAAG,kBAAc,CAAC,QAAQ,CAAC,EAAE;SACpE,CAAC,CAAA;IACJ,CAAC;IAEM,WAAW,CAAC,IAAU;QAC3B,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE,GAAG,IAAI,CAAA;QACjD,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;YACrC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAClB,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,IAAI,CAAC,EAAE,EAClD,CAAC,KAAK,EAAE,MAAM,EAAE,EAAE;gBAChB,IAAI,KAAK,EAAE;oBACT,MAAM,CAAC,KAAK,CAAC,CAAA;iBACd;gBAED,OAAO,CAAC,MAAM,CAAC,CAAA;YACjB,CAAC,CACF,CAAA;QACH,CAAC,CAAC,CAAA;IACJ,CAAC;IACM,WAAW,CAAC,MAAc;QAC/B,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;YACrC,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,KAAK,EAAE,MAAM,EAAE,EAAE;gBACjD,IAAI,KAAK;oBAAE,MAAM,CAAC,KAAK,CAAC,CAAA;gBACxB,OAAO,CAAC,MAAM,CAAC,CAAA;YACjB,CAAC,CAAC,CAAA;QACJ,CAAC,CAAC,CAAA;IACJ,CAAC;IACM,KAAK,CAAC,SAAS,CAAC,OAAe,EAAE,QAAgB,EAAE,MAAM,EAAE,IAAa;;QAC7E,IAAI;YACF,MAAM,QAAQ,GAAG,gBAAS,CAAC,YAAE,CAAC,QAAQ,CAAC,CAAA;YACvC,MAAM,MAAM,GAAG,gBAAS,CAAC,YAAE,CAAC,MAAM,CAAC,CAAA;YACnC,MAAM,QAAQ,GAAG,OAAO,CAAA;YACxB,MAAM,QAAQ,GAAG,MAAM,QAAQ,CAAC,QAAQ,CAAC,CAAA;YACzC,MAAM,MAAM,CAAC,QAAQ,CAAC,CAAA;YACtB,MAAM,IAAI,GAAS;gBACjB,QAAQ;gBACR,QAAQ,EAAE,QAAQ;gBAClB,MAAM;gBACN,IAAI;aACL,CAAA;YACD,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;YAC5C,MAAM,EAAE,YAAY,EAAE,MAAM,EAAE,GAAG,EAAE,GAAG,MAAM,CAAC;YAC7C,OAAO,EAAE,YAAY,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,QAAE,MAAM,CAAC,IAAI,0CAAE,IAAI,CAAC,EAAE,CAAC,EAAE,CAAA;SAClE;QAAC,OAAO,KAAK,EAAE;YACd,MAAM,KAAK,CAAC;SACb;IACH,CAAC;IACM,KAAK,CAAC,YAAY,CAAC,OAAiB;QACzC,IAAI;YACF,MAAM,QAAQ,GAAG,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,CAAA;YAChE,MAAM,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAA;SAC5B;QAAC,OAAO,KAAK,EAAE;YACd,MAAM,KAAK,CAAC;SACb;IACH,CAAC;CACF;AAED,kBAAe,IAAI,YAAY,EAAE,CAAC","sourcesContent":["import ImagekitConfig from 'Config/imagekit';\r\nimport ImageKit from 'imagekit'\r\nimport File from 'Contracts/file'\r\nimport UploadedImage from 'Contracts/uploadedImage'\r\nimport { promisify } from 'util'\r\nimport fs from 'fs'\r\n\r\n\r\nclass ImageService {\r\n  private uploader: ImageKit\r\n\r\n  constructor() {\r\n    this.uploader = new ImageKit({\r\n      publicKey: ImagekitConfig.imageKit.publicKey,\r\n      privateKey: ImagekitConfig.imageKit.privateKey,\r\n      urlEndpoint: 'https://ik.imagekit.io/' + ImagekitConfig.imageKit.id\r\n    })\r\n  }\r\n\r\n  public uploadImage(file: File): Promise<UploadedImage> {\r\n    const { fileName, filePath, folder, tags } = file\r\n    return new Promise((resolve, reject) => {\r\n      this.uploader.upload(\r\n        { file: filePath, fileName, folder, tags: [tags] },\r\n        (error, result) => {\r\n          if (error) {\r\n            reject(error)\r\n          }\r\n\r\n          resolve(result)\r\n        }\r\n      )\r\n    })\r\n  }\r\n  public deleteImage(fileId: string) {\r\n    return new Promise((resolve, reject) => {\r\n      this.uploader.deleteFile(fileId, (error, result) => {\r\n        if (error) reject(error)\r\n        resolve(result)\r\n      })\r\n    })\r\n  }\r\n  public async saveImage(tmpPath: string, fileName: string, folder, tags?: string) {\r\n    try {\r\n      const readFile = promisify(fs.readFile)\r\n      const unlink = promisify(fs.unlink)\r\n      const filePath = tmpPath\r\n      const fileRead = await readFile(filePath)\r\n      await unlink(filePath)\r\n      const file: File = {\r\n        fileName,\r\n        filePath: fileRead,\r\n        folder,\r\n        tags\r\n      }\r\n      const result = await this.uploadImage(file);\r\n      const { thumbnailUrl, fileId, url } = result;\r\n      return { thumbnailUrl, fileId, url, tags: result.tags?.join('') }\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n  public async deleteImages(fileIds: string[]) {\r\n    try {\r\n      const promises = fileIds.map(fileId => this.deleteImage(fileId))\r\n      await Promise.all(promises)\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n}\r\n\r\nexport default new ImageService();"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c786c111880e490a3206e951caff171e7cccaf30","contentHash":"98be9ab2dfff32e24fd798112c39170ff0f79290bd4d95f9451103452856acd4"},"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\app\\Models\\User.ts":{"path":"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\app\\Models\\User.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"14":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":62}},"16":{"start":{"line":16,"column":16},"end":{"line":16,"column":32}},"17":{"start":{"line":17,"column":15},"end":{"line":17,"column":81}},"18":{"start":{"line":18,"column":14},"end":{"line":18,"column":63}},"19":{"start":{"line":19,"column":16},"end":{"line":19,"column":51}},"20":{"start":{"line":20,"column":17},"end":{"line":20,"column":53}},"21":{"start":{"line":23,"column":8},"end":{"line":25,"column":9}},"22":{"start":{"line":24,"column":12},"end":{"line":24,"column":69}},"23":{"start":{"line":28,"column":0},"end":{"line":31,"column":33}},"24":{"start":{"line":32,"column":0},"end":{"line":35,"column":36}},"25":{"start":{"line":36,"column":0},"end":{"line":39,"column":42}},"26":{"start":{"line":40,"column":0},"end":{"line":43,"column":35}},"27":{"start":{"line":44,"column":0},"end":{"line":47,"column":39}},"28":{"start":{"line":48,"column":0},"end":{"line":51,"column":46}},"29":{"start":{"line":52,"column":0},"end":{"line":55,"column":36}},"30":{"start":{"line":53,"column":23},"end":{"line":53,"column":38}},"31":{"start":{"line":56,"column":0},"end":{"line":59,"column":37}},"32":{"start":{"line":57,"column":23},"end":{"line":57,"column":39}},"33":{"start":{"line":60,"column":0},"end":{"line":63,"column":40}},"34":{"start":{"line":64,"column":0},"end":{"line":67,"column":40}},"35":{"start":{"line":68,"column":0},"end":{"line":73,"column":31}},"36":{"start":{"line":74,"column":0},"end":{"line":74,"column":23}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":22,"column":4},"end":{"line":22,"column":5}},"loc":{"start":{"line":22,"column":36},"end":{"line":26,"column":5}},"line":22},"4":{"name":"(anonymous_4)","decl":{"start":{"line":53,"column":17},"end":{"line":53,"column":18}},"loc":{"start":{"line":53,"column":23},"end":{"line":53,"column":38}},"line":53},"5":{"name":"(anonymous_5)","decl":{"start":{"line":57,"column":17},"end":{"line":57,"column":18}},"loc":{"start":{"line":57,"column":23},"end":{"line":57,"column":39}},"line":57}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"14":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"15":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"16":{"loc":{"start":{"line":23,"column":8},"end":{"line":25,"column":9}},"type":"if","locations":[{"start":{"line":23,"column":8},"end":{"line":25,"column":9}},{"start":{"line":23,"column":8},"end":{"line":25,"column":9}}],"line":23},"17":{"loc":{"start":{"line":54,"column":30},"end":{"line":54,"column":124}},"type":"cond-expr","locations":[{"start":{"line":54,"column":113},"end":{"line":54,"column":115}},{"start":{"line":54,"column":118},"end":{"line":54,"column":124}}],"line":54},"18":{"loc":{"start":{"line":54,"column":43},"end":{"line":54,"column":94}},"type":"binary-expr","locations":[{"start":{"line":54,"column":43},"end":{"line":54,"column":78}},{"start":{"line":54,"column":82},"end":{"line":54,"column":94}}],"line":54},"19":{"loc":{"start":{"line":58,"column":30},"end":{"line":58,"column":124}},"type":"cond-expr","locations":[{"start":{"line":58,"column":113},"end":{"line":58,"column":115}},{"start":{"line":58,"column":118},"end":{"line":58,"column":124}}],"line":58},"20":{"loc":{"start":{"line":58,"column":43},"end":{"line":58,"column":94}},"type":"binary-expr","locations":[{"start":{"line":58,"column":43},"end":{"line":58,"column":78}},{"start":{"line":58,"column":82},"end":{"line":58,"column":94}}],"line":58},"21":{"loc":{"start":{"line":62,"column":30},"end":{"line":62,"column":132}},"type":"cond-expr","locations":[{"start":{"line":62,"column":121},"end":{"line":62,"column":123}},{"start":{"line":62,"column":126},"end":{"line":62,"column":132}}],"line":62},"22":{"loc":{"start":{"line":62,"column":43},"end":{"line":62,"column":102}},"type":"binary-expr","locations":[{"start":{"line":62,"column":43},"end":{"line":62,"column":82}},{"start":{"line":62,"column":86},"end":{"line":62,"column":102}}],"line":62},"23":{"loc":{"start":{"line":66,"column":30},"end":{"line":66,"column":132}},"type":"cond-expr","locations":[{"start":{"line":66,"column":121},"end":{"line":66,"column":123}},{"start":{"line":66,"column":126},"end":{"line":66,"column":132}}],"line":66},"24":{"loc":{"start":{"line":66,"column":43},"end":{"line":66,"column":102}},"type":"binary-expr","locations":[{"start":{"line":66,"column":43},"end":{"line":66,"column":82}},{"start":{"line":66,"column":86},"end":{"line":66,"column":102}}],"line":66}},"s":{"0":1,"1":11,"2":11,"3":11,"4":11,"5":0,"6":0,"7":0,"8":0,"9":11,"10":1,"11":13,"12":13,"13":1,"14":3,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":6,"22":6,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":19,"31":1,"32":5,"33":1,"34":1,"35":1,"36":1},"f":{"0":11,"1":13,"2":3,"3":6,"4":19,"5":5},"b":{"0":[1,1,1],"1":[0,11],"2":[1,10],"3":[11,0],"4":[11,11],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[11,11,1],"10":[1,1,1],"11":[13,0],"12":[13,13],"13":[1,1,1],"14":[2,1],"15":[3,3],"16":[6,0],"17":[0,1],"18":[1,0],"19":[0,1],"20":[1,0],"21":[1,0],"22":[1,1],"23":[1,0],"24":[1,1]},"inputSourceMap":{"version":3,"file":"User.js","sourceRoot":"","sources":["User.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,iCAAgC;AAChC,kFAAwC;AACxC,gEAM8B;AAC9B,oDAA2B;AAC3B,sDAA6B;AAE7B,MAAqB,IAAK,SAAQ,eAAS;IAgClC,MAAM,CAAC,KAAK,CAAC,YAAY,CAAC,IAAU;QACzC,IAAI,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE;YACxB,IAAI,CAAC,QAAQ,GAAG,MAAM,cAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAA;SAC/C;IACH,CAAC;CACF;AAnCC;IADC,YAAM,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;;gCACX;AAGjB;IADC,YAAM,EAAE;;mCACW;AAGpB;IADC,YAAM,EAAE;;yCACiB;AAG1B;IADC,YAAM,EAAE;;kCACW;AAGpB;IADC,YAAM,CAAC,EAAE,WAAW,EAAE,IAAI,EAAE,CAAC;;sCACP;AAGvB;IADC,YAAM,CAAC,EAAE,WAAW,EAAE,IAAI,EAAE,CAAC;;6CACC;AAG/B;IADC,YAAM,CAAC,GAAG,EAAE,CAAC,eAAK,EAAE,EAAE,WAAW,EAAE,SAAS,EAAE,CAAC;kDAClC,YAAM,oBAAN,YAAM;mCAAe;AAGnC;IADC,YAAM,CAAC,GAAG,EAAE,CAAC,gBAAM,EAAE,EAAE,WAAW,EAAE,SAAS,EAAE,CAAC;kDAClC,YAAM,oBAAN,YAAM;oCAAgB;AAGrC;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACpB,gBAAQ,oBAAR,gBAAQ;uCAAA;AAG1B;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACtC,gBAAQ,oBAAR,gBAAQ;uCAAA;AAG1B;IADC,gBAAU,EAAE;;qCAC0B,IAAI;;8BAI1C;AApCH,uBAqCC","sourcesContent":["import { DateTime } from 'luxon'\nimport Hash from '@ioc:Adonis/Core/Hash'\nimport {\n  column,\n  beforeSave,\n  BaseModel,\n  hasOne,\n  HasOne,\n} from '@ioc:Adonis/Lucid/Orm'\nimport Rider from './Rider'\nimport Driver from './Driver'\n\nexport default class User extends BaseModel {\n  @column({ isPrimary: true })\n  public id: number\n\n  @column()\n  public email: string\n\n  @column()\n  public phoneNumber: string\n\n  @column()\n  public role: string;\n\n  @column({ serializeAs: null })\n  public password: string\n\n  @column({ serializeAs: null })\n  public rememberMeToken?: string\n\n  @hasOne(() => Rider, { serializeAs: 'profile' })\n  public rider: HasOne<typeof Rider>;\n\n  @hasOne(() => Driver, { serializeAs: 'profile' })\n  public driver: HasOne<typeof Driver>;\n\n  @column.dateTime({ autoCreate: true })\n  public createdAt: DateTime\n\n  @column.dateTime({ autoCreate: true, autoUpdate: true })\n  public updatedAt: DateTime\n\n  @beforeSave()\n  public static async hashPassword(user: User) {\n    if (user.$dirty.password) {\n      user.password = await Hash.make(user.password)\n    }\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"5cd32c0b307743f2bb5399f67de4a865c51db532","contentHash":"e4671543a3f0d3d0dfc8c094f1467f94c0e5c5c19786acfc059c37fe0c3282ea"},"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\app\\Models\\Rider.ts":{"path":"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\app\\Models\\Rider.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"14":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":62}},"16":{"start":{"line":16,"column":16},"end":{"line":16,"column":32}},"17":{"start":{"line":17,"column":14},"end":{"line":17,"column":63}},"18":{"start":{"line":18,"column":23},"end":{"line":18,"column":65}},"19":{"start":{"line":19,"column":15},"end":{"line":19,"column":49}},"20":{"start":{"line":22,"column":0},"end":{"line":25,"column":34}},"21":{"start":{"line":26,"column":0},"end":{"line":29,"column":38}},"22":{"start":{"line":30,"column":0},"end":{"line":33,"column":41}},"23":{"start":{"line":34,"column":0},"end":{"line":37,"column":40}},"24":{"start":{"line":38,"column":0},"end":{"line":41,"column":39}},"25":{"start":{"line":42,"column":0},"end":{"line":45,"column":40}},"26":{"start":{"line":46,"column":0},"end":{"line":49,"column":35}},"27":{"start":{"line":50,"column":0},"end":{"line":53,"column":46}},"28":{"start":{"line":51,"column":23},"end":{"line":51,"column":45}},"29":{"start":{"line":54,"column":0},"end":{"line":57,"column":40}},"30":{"start":{"line":55,"column":26},"end":{"line":55,"column":40}},"31":{"start":{"line":58,"column":0},"end":{"line":61,"column":41}},"32":{"start":{"line":62,"column":0},"end":{"line":65,"column":41}},"33":{"start":{"line":66,"column":0},"end":{"line":66,"column":24}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":51,"column":17},"end":{"line":51,"column":18}},"loc":{"start":{"line":51,"column":23},"end":{"line":51,"column":45}},"line":51},"4":{"name":"(anonymous_4)","decl":{"start":{"line":55,"column":20},"end":{"line":55,"column":21}},"loc":{"start":{"line":55,"column":26},"end":{"line":55,"column":40}},"line":55}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"14":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"15":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"16":{"loc":{"start":{"line":52,"column":30},"end":{"line":52,"column":124}},"type":"cond-expr","locations":[{"start":{"line":52,"column":113},"end":{"line":52,"column":115}},{"start":{"line":52,"column":118},"end":{"line":52,"column":124}}],"line":52},"17":{"loc":{"start":{"line":52,"column":43},"end":{"line":52,"column":94}},"type":"binary-expr","locations":[{"start":{"line":52,"column":43},"end":{"line":52,"column":78}},{"start":{"line":52,"column":82},"end":{"line":52,"column":94}}],"line":52},"18":{"loc":{"start":{"line":56,"column":30},"end":{"line":56,"column":130}},"type":"cond-expr","locations":[{"start":{"line":56,"column":119},"end":{"line":56,"column":121}},{"start":{"line":56,"column":124},"end":{"line":56,"column":130}}],"line":56},"19":{"loc":{"start":{"line":56,"column":43},"end":{"line":56,"column":100}},"type":"binary-expr","locations":[{"start":{"line":56,"column":43},"end":{"line":56,"column":81}},{"start":{"line":56,"column":85},"end":{"line":56,"column":100}}],"line":56},"20":{"loc":{"start":{"line":60,"column":30},"end":{"line":60,"column":132}},"type":"cond-expr","locations":[{"start":{"line":60,"column":121},"end":{"line":60,"column":123}},{"start":{"line":60,"column":126},"end":{"line":60,"column":132}}],"line":60},"21":{"loc":{"start":{"line":60,"column":43},"end":{"line":60,"column":102}},"type":"binary-expr","locations":[{"start":{"line":60,"column":43},"end":{"line":60,"column":82}},{"start":{"line":60,"column":86},"end":{"line":60,"column":102}}],"line":60},"22":{"loc":{"start":{"line":64,"column":30},"end":{"line":64,"column":132}},"type":"cond-expr","locations":[{"start":{"line":64,"column":121},"end":{"line":64,"column":123}},{"start":{"line":64,"column":126},"end":{"line":64,"column":132}}],"line":64},"23":{"loc":{"start":{"line":64,"column":43},"end":{"line":64,"column":102}},"type":"binary-expr","locations":[{"start":{"line":64,"column":43},"end":{"line":64,"column":82}},{"start":{"line":64,"column":86},"end":{"line":64,"column":102}}],"line":64}},"s":{"0":1,"1":11,"2":11,"3":11,"4":11,"5":0,"6":0,"7":0,"8":0,"9":11,"10":1,"11":11,"12":11,"13":1,"14":2,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":0,"29":1,"30":0,"31":1,"32":1,"33":1},"f":{"0":11,"1":11,"2":2,"3":0,"4":0},"b":{"0":[1,1,1],"1":[0,11],"2":[0,11],"3":[11,0],"4":[11,11],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[11,11,0],"10":[1,1,1],"11":[11,0],"12":[11,11],"13":[1,1,1],"14":[2,0],"15":[2,2],"16":[0,1],"17":[1,0],"18":[0,1],"19":[1,0],"20":[1,0],"21":[1,1],"22":[1,0],"23":[1,1]},"inputSourceMap":{"version":3,"file":"Rider.js","sourceRoot":"","sources":["Rider.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,iCAAgC;AAChC,gEAA+F;AAC/F,kEAA0C;AAC1C,kDAA0B;AAE1B,MAAqB,KAAM,SAAQ,eAAS;CAiC3C;AA/BC;IADC,YAAM,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;;iCACX;AAGjB;IADC,YAAM,CAAC,EAAE,WAAW,EAAE,IAAI,EAAE,CAAC;;qCACR;AAGtB;IADC,YAAM,EAAE;;wCACiB;AAG1B;IADC,YAAM,EAAE;;uCACgB;AAGzB;IADC,YAAM,EAAE;;sCACe;AAGxB;IADC,YAAM,EAAE;;uCACgB;AAGzB;IADC,YAAM,EAAE;;kCACU;AAGnB;IADC,YAAM,CAAC,GAAG,EAAE,CAAC,sBAAY,CAAC;kDACJ,YAAM,oBAAN,YAAM;6CAAsB;AAGnD;IADC,eAAS,CAAC,GAAG,EAAE,CAAC,cAAI,CAAC;kDACL,eAAS,oBAAT,eAAS;uCAAc;AAGxC;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACpB,gBAAQ,oBAAR,gBAAQ;wCAAA;AAG1B;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACtC,gBAAQ,oBAAR,gBAAQ;wCAAA;AAhC5B,wBAiCC","sourcesContent":["import { DateTime } from 'luxon'\nimport { BaseModel, BelongsTo, belongsTo, column, HasOne, hasOne } from '@ioc:Adonis/Lucid/Orm'\nimport ProfileImage from './ProfileImage';\nimport User from './User';\n\nexport default class Rider extends BaseModel {\n  @column({ isPrimary: true })\n  public id: number\n\n  @column({ serializeAs: null })\n  public userId: number;\n\n  @column()\n  public firstName?: string;\n\n  @column()\n  public lastName?: string;\n\n  @column()\n  public address?: string;\n\n  @column()\n  public fullName?: string;\n\n  @column()\n  public bvn: string;\n\n  @hasOne(() => ProfileImage)\n  public profilePicture: HasOne<typeof ProfileImage>;\n\n  @belongsTo(() => User)\n  public userData: BelongsTo<typeof User>;\n\n  @column.dateTime({ autoCreate: true })\n  public createdAt: DateTime\n\n  @column.dateTime({ autoCreate: true, autoUpdate: true })\n  public updatedAt: DateTime\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8ecb84897e2d0e01ed056fc35aa9f75e9f7377b4","contentHash":"eb4f784086c9b652c7ec4224d56cd8cecef1091b0fd840daca4ea9ed170a7140"},"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\app\\Models\\ProfileImage.ts":{"path":"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\app\\Models\\ProfileImage.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"14":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":62}},"16":{"start":{"line":16,"column":16},"end":{"line":16,"column":32}},"17":{"start":{"line":17,"column":14},"end":{"line":17,"column":63}},"18":{"start":{"line":18,"column":16},"end":{"line":18,"column":51}},"19":{"start":{"line":19,"column":17},"end":{"line":19,"column":53}},"20":{"start":{"line":22,"column":0},"end":{"line":25,"column":41}},"21":{"start":{"line":26,"column":0},"end":{"line":29,"column":42}},"22":{"start":{"line":30,"column":0},"end":{"line":33,"column":45}},"23":{"start":{"line":34,"column":0},"end":{"line":37,"column":51}},"24":{"start":{"line":38,"column":0},"end":{"line":41,"column":47}},"25":{"start":{"line":42,"column":0},"end":{"line":45,"column":46}},"26":{"start":{"line":46,"column":0},"end":{"line":49,"column":44}},"27":{"start":{"line":47,"column":26},"end":{"line":47,"column":41}},"28":{"start":{"line":50,"column":0},"end":{"line":53,"column":45}},"29":{"start":{"line":51,"column":26},"end":{"line":51,"column":42}},"30":{"start":{"line":54,"column":0},"end":{"line":57,"column":48}},"31":{"start":{"line":58,"column":0},"end":{"line":61,"column":48}},"32":{"start":{"line":62,"column":0},"end":{"line":62,"column":31}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":47,"column":20},"end":{"line":47,"column":21}},"loc":{"start":{"line":47,"column":26},"end":{"line":47,"column":41}},"line":47},"4":{"name":"(anonymous_4)","decl":{"start":{"line":51,"column":20},"end":{"line":51,"column":21}},"loc":{"start":{"line":51,"column":26},"end":{"line":51,"column":42}},"line":51}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"14":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"15":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"16":{"loc":{"start":{"line":48,"column":30},"end":{"line":48,"column":130}},"type":"cond-expr","locations":[{"start":{"line":48,"column":119},"end":{"line":48,"column":121}},{"start":{"line":48,"column":124},"end":{"line":48,"column":130}}],"line":48},"17":{"loc":{"start":{"line":48,"column":43},"end":{"line":48,"column":100}},"type":"binary-expr","locations":[{"start":{"line":48,"column":43},"end":{"line":48,"column":81}},{"start":{"line":48,"column":85},"end":{"line":48,"column":100}}],"line":48},"18":{"loc":{"start":{"line":52,"column":30},"end":{"line":52,"column":130}},"type":"cond-expr","locations":[{"start":{"line":52,"column":119},"end":{"line":52,"column":121}},{"start":{"line":52,"column":124},"end":{"line":52,"column":130}}],"line":52},"19":{"loc":{"start":{"line":52,"column":43},"end":{"line":52,"column":100}},"type":"binary-expr","locations":[{"start":{"line":52,"column":43},"end":{"line":52,"column":81}},{"start":{"line":52,"column":85},"end":{"line":52,"column":100}}],"line":52},"20":{"loc":{"start":{"line":56,"column":30},"end":{"line":56,"column":132}},"type":"cond-expr","locations":[{"start":{"line":56,"column":121},"end":{"line":56,"column":123}},{"start":{"line":56,"column":126},"end":{"line":56,"column":132}}],"line":56},"21":{"loc":{"start":{"line":56,"column":43},"end":{"line":56,"column":102}},"type":"binary-expr","locations":[{"start":{"line":56,"column":43},"end":{"line":56,"column":82}},{"start":{"line":56,"column":86},"end":{"line":56,"column":102}}],"line":56},"22":{"loc":{"start":{"line":60,"column":30},"end":{"line":60,"column":132}},"type":"cond-expr","locations":[{"start":{"line":60,"column":121},"end":{"line":60,"column":123}},{"start":{"line":60,"column":126},"end":{"line":60,"column":132}}],"line":60},"23":{"loc":{"start":{"line":60,"column":43},"end":{"line":60,"column":102}},"type":"binary-expr","locations":[{"start":{"line":60,"column":43},"end":{"line":60,"column":82}},{"start":{"line":60,"column":86},"end":{"line":60,"column":102}}],"line":60}},"s":{"0":1,"1":10,"2":10,"3":10,"4":10,"5":0,"6":0,"7":0,"8":0,"9":10,"10":1,"11":10,"12":10,"13":1,"14":2,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":0,"28":1,"29":0,"30":1,"31":1,"32":1},"f":{"0":10,"1":10,"2":2,"3":0,"4":0},"b":{"0":[1,1,1],"1":[0,10],"2":[0,10],"3":[10,0],"4":[10,10],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[10,10,0],"10":[1,1,1],"11":[10,0],"12":[10,10],"13":[1,1,1],"14":[2,0],"15":[2,2],"16":[0,1],"17":[1,0],"18":[0,1],"19":[1,0],"20":[1,0],"21":[1,1],"22":[1,0],"23":[1,1]},"inputSourceMap":{"version":3,"file":"ProfileImage.js","sourceRoot":"","sources":["ProfileImage.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,iCAAgC;AAChC,gEAA+E;AAC/E,oDAA4B;AAC5B,sDAA8B;AAE9B,MAAqB,YAAa,SAAQ,eAAS;CA8BlD;AA5BC;IADC,YAAM,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;;wCACX;AAGjB;IADC,YAAM,EAAE;;yCACU;AAGnB;IADC,YAAM,EAAE;;4CACa;AAGtB;IADC,YAAM,EAAE;;kDACoB;AAG7B;IADC,YAAM,CAAC,EAAC,WAAW,EAAC,IAAI,EAAC,CAAC;;8CACF;AAGzB;IADC,YAAM,CAAC,EAAC,WAAW,EAAC,IAAI,EAAC,CAAC;;6CACH;AAGxB;IADC,eAAS,CAAC,GAAG,EAAE,CAAC,eAAK,CAAC;kDACT,eAAS,oBAAT,eAAS;2CAAe;AAGtC;IADC,eAAS,CAAC,GAAG,EAAE,CAAC,gBAAM,CAAC;kDACT,eAAS,oBAAT,eAAS;4CAAgB;AAGxC;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACpB,gBAAQ,oBAAR,gBAAQ;+CAAA;AAG1B;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACtC,gBAAQ,oBAAR,gBAAQ;+CAAA;AA7B5B,+BA8BC","sourcesContent":["import { DateTime } from 'luxon'\nimport { BaseModel, BelongsTo, belongsTo, column } from '@ioc:Adonis/Lucid/Orm'\nimport Rider from './Rider';\nimport Driver from './Driver';\n\nexport default class ProfileImage extends BaseModel {\n  @column({ isPrimary: true })\n  public id: number\n\n  @column()\n  public url: string;\n\n  @column()\n  public fileId: string;\n\n  @column()\n  public thumbnailUrl?: string;\n\n  @column({serializeAs:null})\n  public driverId?: number;\n\n  @column({serializeAs:null})\n  public riderId?: number;\n\n  @belongsTo(() => Rider)\n  public rider: BelongsTo<typeof Rider>;\n\n  @belongsTo(() => Driver)\n  public driver: BelongsTo<typeof Driver>;\n\n  @column.dateTime({ autoCreate: true })\n  public createdAt: DateTime\n\n  @column.dateTime({ autoCreate: true, autoUpdate: true })\n  public updatedAt: DateTime\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"97b8ef7d3f97c6f09cbfa5f8d2ef669eb9d51846","contentHash":"5040ad923dc69c0e516b4b40c7f40af41a1e6532c5b69519f9d22e4d15426dce"},"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\app\\Models\\Driver.ts":{"path":"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\app\\Models\\Driver.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"14":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":62}},"16":{"start":{"line":16,"column":16},"end":{"line":16,"column":32}},"17":{"start":{"line":17,"column":14},"end":{"line":17,"column":63}},"18":{"start":{"line":18,"column":16},"end":{"line":18,"column":51}},"19":{"start":{"line":19,"column":18},"end":{"line":19,"column":55}},"20":{"start":{"line":20,"column":18},"end":{"line":20,"column":55}},"21":{"start":{"line":21,"column":23},"end":{"line":21,"column":65}},"22":{"start":{"line":22,"column":15},"end":{"line":22,"column":49}},"23":{"start":{"line":25,"column":0},"end":{"line":28,"column":35}},"24":{"start":{"line":29,"column":0},"end":{"line":32,"column":42}},"25":{"start":{"line":33,"column":0},"end":{"line":36,"column":41}},"26":{"start":{"line":37,"column":0},"end":{"line":40,"column":41}},"27":{"start":{"line":41,"column":0},"end":{"line":44,"column":36}},"28":{"start":{"line":45,"column":0},"end":{"line":48,"column":41}},"29":{"start":{"line":49,"column":0},"end":{"line":52,"column":42}},"30":{"start":{"line":53,"column":0},"end":{"line":56,"column":39}},"31":{"start":{"line":57,"column":0},"end":{"line":60,"column":42}},"32":{"start":{"line":58,"column":24},"end":{"line":58,"column":39}},"33":{"start":{"line":61,"column":0},"end":{"line":64,"column":40}},"34":{"start":{"line":62,"column":23},"end":{"line":62,"column":40}},"35":{"start":{"line":65,"column":0},"end":{"line":68,"column":40}},"36":{"start":{"line":66,"column":23},"end":{"line":66,"column":40}},"37":{"start":{"line":69,"column":0},"end":{"line":72,"column":47}},"38":{"start":{"line":70,"column":23},"end":{"line":70,"column":45}},"39":{"start":{"line":73,"column":0},"end":{"line":76,"column":41}},"40":{"start":{"line":74,"column":26},"end":{"line":74,"column":40}},"41":{"start":{"line":77,"column":0},"end":{"line":80,"column":42}},"42":{"start":{"line":81,"column":0},"end":{"line":84,"column":42}},"43":{"start":{"line":85,"column":0},"end":{"line":85,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":58,"column":18},"end":{"line":58,"column":19}},"loc":{"start":{"line":58,"column":24},"end":{"line":58,"column":39}},"line":58},"4":{"name":"(anonymous_4)","decl":{"start":{"line":62,"column":17},"end":{"line":62,"column":18}},"loc":{"start":{"line":62,"column":23},"end":{"line":62,"column":40}},"line":62},"5":{"name":"(anonymous_5)","decl":{"start":{"line":66,"column":17},"end":{"line":66,"column":18}},"loc":{"start":{"line":66,"column":23},"end":{"line":66,"column":40}},"line":66},"6":{"name":"(anonymous_6)","decl":{"start":{"line":70,"column":17},"end":{"line":70,"column":18}},"loc":{"start":{"line":70,"column":23},"end":{"line":70,"column":45}},"line":70},"7":{"name":"(anonymous_7)","decl":{"start":{"line":74,"column":20},"end":{"line":74,"column":21}},"loc":{"start":{"line":74,"column":26},"end":{"line":74,"column":40}},"line":74}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"14":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"15":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"16":{"loc":{"start":{"line":59,"column":30},"end":{"line":59,"column":126}},"type":"cond-expr","locations":[{"start":{"line":59,"column":115},"end":{"line":59,"column":117}},{"start":{"line":59,"column":120},"end":{"line":59,"column":126}}],"line":59},"17":{"loc":{"start":{"line":59,"column":43},"end":{"line":59,"column":96}},"type":"binary-expr","locations":[{"start":{"line":59,"column":43},"end":{"line":59,"column":79}},{"start":{"line":59,"column":83},"end":{"line":59,"column":96}}],"line":59},"18":{"loc":{"start":{"line":63,"column":30},"end":{"line":63,"column":124}},"type":"cond-expr","locations":[{"start":{"line":63,"column":113},"end":{"line":63,"column":115}},{"start":{"line":63,"column":118},"end":{"line":63,"column":124}}],"line":63},"19":{"loc":{"start":{"line":63,"column":43},"end":{"line":63,"column":94}},"type":"binary-expr","locations":[{"start":{"line":63,"column":43},"end":{"line":63,"column":78}},{"start":{"line":63,"column":82},"end":{"line":63,"column":94}}],"line":63},"20":{"loc":{"start":{"line":67,"column":30},"end":{"line":67,"column":124}},"type":"cond-expr","locations":[{"start":{"line":67,"column":113},"end":{"line":67,"column":115}},{"start":{"line":67,"column":118},"end":{"line":67,"column":124}}],"line":67},"21":{"loc":{"start":{"line":67,"column":43},"end":{"line":67,"column":94}},"type":"binary-expr","locations":[{"start":{"line":67,"column":43},"end":{"line":67,"column":78}},{"start":{"line":67,"column":82},"end":{"line":67,"column":94}}],"line":67},"22":{"loc":{"start":{"line":71,"column":30},"end":{"line":71,"column":124}},"type":"cond-expr","locations":[{"start":{"line":71,"column":113},"end":{"line":71,"column":115}},{"start":{"line":71,"column":118},"end":{"line":71,"column":124}}],"line":71},"23":{"loc":{"start":{"line":71,"column":43},"end":{"line":71,"column":94}},"type":"binary-expr","locations":[{"start":{"line":71,"column":43},"end":{"line":71,"column":78}},{"start":{"line":71,"column":82},"end":{"line":71,"column":94}}],"line":71},"24":{"loc":{"start":{"line":75,"column":30},"end":{"line":75,"column":130}},"type":"cond-expr","locations":[{"start":{"line":75,"column":119},"end":{"line":75,"column":121}},{"start":{"line":75,"column":124},"end":{"line":75,"column":130}}],"line":75},"25":{"loc":{"start":{"line":75,"column":43},"end":{"line":75,"column":100}},"type":"binary-expr","locations":[{"start":{"line":75,"column":43},"end":{"line":75,"column":81}},{"start":{"line":75,"column":85},"end":{"line":75,"column":100}}],"line":75},"26":{"loc":{"start":{"line":79,"column":30},"end":{"line":79,"column":132}},"type":"cond-expr","locations":[{"start":{"line":79,"column":121},"end":{"line":79,"column":123}},{"start":{"line":79,"column":126},"end":{"line":79,"column":132}}],"line":79},"27":{"loc":{"start":{"line":79,"column":43},"end":{"line":79,"column":102}},"type":"binary-expr","locations":[{"start":{"line":79,"column":43},"end":{"line":79,"column":82}},{"start":{"line":79,"column":86},"end":{"line":79,"column":102}}],"line":79},"28":{"loc":{"start":{"line":83,"column":30},"end":{"line":83,"column":132}},"type":"cond-expr","locations":[{"start":{"line":83,"column":121},"end":{"line":83,"column":123}},{"start":{"line":83,"column":126},"end":{"line":83,"column":132}}],"line":83},"29":{"loc":{"start":{"line":83,"column":43},"end":{"line":83,"column":102}},"type":"binary-expr","locations":[{"start":{"line":83,"column":43},"end":{"line":83,"column":82}},{"start":{"line":83,"column":86},"end":{"line":83,"column":102}}],"line":83}},"s":{"0":1,"1":15,"2":15,"3":15,"4":15,"5":0,"6":0,"7":0,"8":0,"9":15,"10":1,"11":15,"12":15,"13":1,"14":5,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":0,"33":1,"34":0,"35":1,"36":0,"37":1,"38":0,"39":1,"40":0,"41":1,"42":1,"43":1},"f":{"0":15,"1":15,"2":5,"3":0,"4":0,"5":0,"6":0,"7":0},"b":{"0":[1,1,1],"1":[0,15],"2":[0,15],"3":[15,0],"4":[15,15],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[15,15,0],"10":[1,1,1],"11":[15,0],"12":[15,15],"13":[1,1,1],"14":[5,0],"15":[5,5],"16":[0,1],"17":[1,0],"18":[0,1],"19":[1,0],"20":[0,1],"21":[1,0],"22":[0,1],"23":[1,0],"24":[0,1],"25":[1,0],"26":[1,0],"27":[1,1],"28":[1,0],"29":[1,1]},"inputSourceMap":{"version":3,"file":"Driver.js","sourceRoot":"","sources":["Driver.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,iCAAgC;AAChC,gEAAiH;AACjH,oDAA4B;AAC5B,wDAAgC;AAChC,wDAAgC;AAEhC,kEAA0C;AAC1C,kDAA0B;AAE1B,MAAqB,MAAO,SAAQ,eAAS;CA2D5C;AAzDC;IADC,YAAM,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;;kCACX;AAGjB;IADC,YAAM,CAAC,EAAE,WAAW,EAAE,IAAI,EAAE,CAAC;;yCACJ;AAG1B;IADC,YAAM,CAAC,EAAE,WAAW,EAAE,IAAI,EAAE,CAAC;;wCACL;AAGzB;IADC,YAAM,EAAE;;wCACgB;AAGzB;IADC,YAAM,EAAE;;mCACU;AAGnB;IADC,YAAM,EAAE;;wCACgB;AAGzB;IADC,YAAM,EAAE;;yCACiB;AAG1B;IADC,YAAM,CAAC,EAAE,WAAW,EAAE,IAAI,EAAE,CAAC;;sCACR;AAGtB;IADC,aAAO,CAAC,GAAG,EAAE,CAAC,eAAK,CAAC;kDACH,aAAO,oBAAP,aAAO;yCAAe;AAGxC;IADC,YAAM,CAAC,GAAG,EAAE,CAAC,iBAAO,CAAC;kDACN,YAAM,oBAAN,YAAM;uCAAiB;AAGvC;IADC,YAAM,CAAC,GAAG,EAAE,CAAC,iBAAO,CAAC;kDACN,YAAM,oBAAN,YAAM;uCAAiB;AAGvC;IADC,YAAM,CAAC,GAAG,EAAE,CAAC,sBAAY,CAAC;kDACJ,YAAM,oBAAN,YAAM;8CAAsB;AAGnD;IADC,eAAS,CAAC,GAAG,EAAE,CAAC,cAAI,CAAC;kDACL,eAAS,oBAAT,eAAS;wCAAc;AAGxC;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACpB,gBAAQ,oBAAR,gBAAQ;yCAAA;AAG1B;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACtC,gBAAQ,oBAAR,gBAAQ;yCAAA;AA5C5B,yBA2DC","sourcesContent":["import { DateTime } from 'luxon'\nimport { BaseModel, BelongsTo, belongsTo, column, HasMany, hasMany, HasOne, hasOne } from '@ioc:Adonis/Lucid/Orm'\nimport Image from './Image';\nimport Address from './Address';\nimport Vehicle from './Vehicle';\n// import { CherryPick } from \"@ioc:Adonis/Lucid/Model\";\nimport ProfileImage from './ProfileImage';\nimport User from './User';\n\nexport default class Driver extends BaseModel {\n  @column({ isPrimary: true })\n  public id: number\n\n  @column({ serializeAs: null })\n  public firstName?: string;\n\n  @column({ serializeAs: null })\n  public lastName?: string;\n\n  @column()\n  public fullName?: string;\n\n  @column()\n  public bvn: string;\n\n  @column()\n  public verified: boolean;\n\n  @column()\n  public suspended: boolean;\n\n  @column({ serializeAs: null })\n  public userId: number;\n\n  @hasMany(() => Image)\n  public documents: HasMany<typeof Image>;\n\n  @hasOne(() => Address)\n  public address: HasOne<typeof Address>;\n\n  @hasOne(() => Vehicle)\n  public vehicle: HasOne<typeof Vehicle>;\n\n  @hasOne(() => ProfileImage)\n  public profilePicture: HasOne<typeof ProfileImage>;\n\n  @belongsTo(() => User)\n  public userData: BelongsTo<typeof User>;\n\n  @column.dateTime({ autoCreate: true })\n  public createdAt: DateTime\n\n  @column.dateTime({ autoCreate: true, autoUpdate: true })\n  public updatedAt: DateTime\n\n  // public serialize(cheryPick?: CherryPick) {\n  //   try {\n  //     // console.log('this', this)\n  //     return {\n  //       ...this.serializeAttributes(cheryPick?.fields, false),\n  //       ...this.serializeRelations(cheryPick?.relations, false),\n  //       ...this.serializeComputed(cheryPick?.fields),\n  //     };\n  //   } catch (error) {\n  //     console.log('error', error.response)\n  //     throw error\n  //   }\n  // }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"5706b2575c79b8386e4060dd3a64db6e33316697","contentHash":"63503514da4924e0d36b7e97fd5259015c599f3a26aa87e5c8cd6ed1028e582a"},"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\app\\Models\\Image.ts":{"path":"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\app\\Models\\Image.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":12,"column":0},"end":{"line":12,"column":62}},"14":{"start":{"line":13,"column":16},"end":{"line":13,"column":32}},"15":{"start":{"line":14,"column":14},"end":{"line":14,"column":63}},"16":{"start":{"line":17,"column":0},"end":{"line":20,"column":34}},"17":{"start":{"line":21,"column":0},"end":{"line":24,"column":35}},"18":{"start":{"line":25,"column":0},"end":{"line":28,"column":38}},"19":{"start":{"line":29,"column":0},"end":{"line":32,"column":40}},"20":{"start":{"line":33,"column":0},"end":{"line":36,"column":49}},"21":{"start":{"line":37,"column":0},"end":{"line":40,"column":44}},"22":{"start":{"line":41,"column":0},"end":{"line":44,"column":43}},"23":{"start":{"line":45,"column":0},"end":{"line":48,"column":44}},"24":{"start":{"line":49,"column":0},"end":{"line":52,"column":41}},"25":{"start":{"line":53,"column":0},"end":{"line":56,"column":41}},"26":{"start":{"line":57,"column":0},"end":{"line":57,"column":24}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":51,"column":30},"end":{"line":51,"column":132}},"type":"cond-expr","locations":[{"start":{"line":51,"column":121},"end":{"line":51,"column":123}},{"start":{"line":51,"column":126},"end":{"line":51,"column":132}}],"line":51},"14":{"loc":{"start":{"line":51,"column":43},"end":{"line":51,"column":102}},"type":"binary-expr","locations":[{"start":{"line":51,"column":43},"end":{"line":51,"column":82}},{"start":{"line":51,"column":86},"end":{"line":51,"column":102}}],"line":51},"15":{"loc":{"start":{"line":55,"column":30},"end":{"line":55,"column":132}},"type":"cond-expr","locations":[{"start":{"line":55,"column":121},"end":{"line":55,"column":123}},{"start":{"line":55,"column":126},"end":{"line":55,"column":132}}],"line":55},"16":{"loc":{"start":{"line":55,"column":43},"end":{"line":55,"column":102}},"type":"binary-expr","locations":[{"start":{"line":55,"column":43},"end":{"line":55,"column":82}},{"start":{"line":55,"column":86},"end":{"line":55,"column":102}}],"line":55}},"s":{"0":1,"1":10,"2":10,"3":10,"4":10,"5":0,"6":0,"7":0,"8":0,"9":10,"10":1,"11":10,"12":10,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1},"f":{"0":10,"1":10},"b":{"0":[1,1,1],"1":[0,10],"2":[0,10],"3":[10,0],"4":[10,10],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[10,10,0],"10":[1,1,1],"11":[10,0],"12":[10,10],"13":[1,0],"14":[1,1],"15":[1,0],"16":[1,1]},"inputSourceMap":{"version":3,"file":"Image.js","sourceRoot":"","sources":["Image.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,iCAAgC;AAChC,gEAAyD;AAEzD,MAAqB,KAAM,SAAQ,eAAS;CA8B3C;AA5BC;IADC,YAAM,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;;iCACX;AAGjB;IADC,YAAM,EAAE;;kCACU;AAGnB;IADC,YAAM,EAAE;;qCACa;AAGtB;IADC,YAAM,CAAC,EAAE,WAAW,EAAE,IAAI,EAAE,CAAC;;uCACN;AAGxB;IADC,YAAM,EAAE;;gDACwB;AAGjC;IADC,YAAM,EAAE;;2CACoB;AAG7B;IADC,YAAM,EAAE;;0CACmB;AAG5B;IADC,YAAM,EAAE;;2CACoB;AAG7B;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACpB,gBAAQ,oBAAR,gBAAQ;wCAAA;AAG1B;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACtC,gBAAQ,oBAAR,gBAAQ;wCAAA;AA7B5B,wBA8BC","sourcesContent":["import { DateTime } from 'luxon'\nimport { BaseModel, column } from '@ioc:Adonis/Lucid/Orm'\n\nexport default class Image extends BaseModel {\n  @column({ isPrimary: true })\n  public id: number\n\n  @column()\n  public url: string;\n\n  @column()\n  public fileId: string;\n\n  @column({ serializeAs: null })\n  public driverId: number;\n\n  @column()\n  public tripVehicleSpecId: number;\n\n  @column()\n  public thumbnailUrl?: string;\n\n  @column()\n  public description?: string;\n\n  @column()\n  public documentType?: string;\n\n  @column.dateTime({ autoCreate: true })\n  public createdAt: DateTime\n\n  @column.dateTime({ autoCreate: true, autoUpdate: true })\n  public updatedAt: DateTime\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f6f3e6497f71f69739a3e6af89f3bfa2a629bca2","contentHash":"36ac8835f6a387459582f1822226d8c3a9ba0aa0e681d966b8257bdb1d24778f"},"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\app\\Models\\Address.ts":{"path":"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\app\\Models\\Address.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":12,"column":0},"end":{"line":12,"column":62}},"14":{"start":{"line":13,"column":16},"end":{"line":13,"column":32}},"15":{"start":{"line":14,"column":14},"end":{"line":14,"column":63}},"16":{"start":{"line":17,"column":0},"end":{"line":20,"column":36}},"17":{"start":{"line":21,"column":0},"end":{"line":24,"column":39}},"18":{"start":{"line":25,"column":0},"end":{"line":28,"column":37}},"19":{"start":{"line":29,"column":0},"end":{"line":32,"column":45}},"20":{"start":{"line":33,"column":0},"end":{"line":36,"column":42}},"21":{"start":{"line":37,"column":0},"end":{"line":40,"column":43}},"22":{"start":{"line":41,"column":0},"end":{"line":44,"column":43}},"23":{"start":{"line":45,"column":0},"end":{"line":45,"column":26}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":39,"column":30},"end":{"line":39,"column":132}},"type":"cond-expr","locations":[{"start":{"line":39,"column":121},"end":{"line":39,"column":123}},{"start":{"line":39,"column":126},"end":{"line":39,"column":132}}],"line":39},"14":{"loc":{"start":{"line":39,"column":43},"end":{"line":39,"column":102}},"type":"binary-expr","locations":[{"start":{"line":39,"column":43},"end":{"line":39,"column":82}},{"start":{"line":39,"column":86},"end":{"line":39,"column":102}}],"line":39},"15":{"loc":{"start":{"line":43,"column":30},"end":{"line":43,"column":132}},"type":"cond-expr","locations":[{"start":{"line":43,"column":121},"end":{"line":43,"column":123}},{"start":{"line":43,"column":126},"end":{"line":43,"column":132}}],"line":43},"16":{"loc":{"start":{"line":43,"column":43},"end":{"line":43,"column":102}},"type":"binary-expr","locations":[{"start":{"line":43,"column":43},"end":{"line":43,"column":82}},{"start":{"line":43,"column":86},"end":{"line":43,"column":102}}],"line":43}},"s":{"0":1,"1":7,"2":7,"3":7,"4":7,"5":0,"6":0,"7":0,"8":0,"9":7,"10":1,"11":7,"12":7,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1},"f":{"0":7,"1":7},"b":{"0":[1,1,1],"1":[0,7],"2":[0,7],"3":[7,0],"4":[7,7],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[7,7,0],"10":[1,1,1],"11":[7,0],"12":[7,7],"13":[1,0],"14":[1,1],"15":[1,0],"16":[1,1]},"inputSourceMap":{"version":3,"file":"Address.js","sourceRoot":"","sources":["Address.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,iCAAgC;AAChC,gEAAyD;AAEzD,MAAqB,OAAQ,SAAQ,eAAS;CAqB7C;AAnBC;IADC,YAAM,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;;mCACX;AAGjB;IADC,YAAM,EAAE;;sCACY;AAGrB;IADC,YAAM,EAAE;;oCACU;AAGnB;IADC,YAAM,EAAE;;4CACkB;AAG3B;IADC,YAAM,CAAC,EAAE,WAAW,EAAE,IAAI,EAAE,CAAC;;yCACN;AAGxB;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACpB,gBAAQ,oBAAR,gBAAQ;0CAAA;AAG1B;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACtC,gBAAQ,oBAAR,gBAAQ;0CAAA;AApB5B,0BAqBC","sourcesContent":["import { DateTime } from 'luxon'\nimport { BaseModel, column } from '@ioc:Adonis/Lucid/Orm'\n\nexport default class Address extends BaseModel {\n  @column({ isPrimary: true })\n  public id: number\n\n  @column()\n  public state: string;\n\n  @column()\n  public lga: string;\n\n  @column()\n  public homeAddress: string;\n\n  @column({ serializeAs: null })\n  public driverId: number;\n\n  @column.dateTime({ autoCreate: true })\n  public createdAt: DateTime\n\n  @column.dateTime({ autoCreate: true, autoUpdate: true })\n  public updatedAt: DateTime\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6a059944c6692f67f22fca57b37dbba083bcc5ab","contentHash":"d76e94233c03bcf8fef6101e13a0b24c46470433dff4976529e4bbbd11187d9c"},"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\app\\Models\\Vehicle.ts":{"path":"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\app\\Models\\Vehicle.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"14":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":62}},"16":{"start":{"line":16,"column":16},"end":{"line":16,"column":32}},"17":{"start":{"line":17,"column":14},"end":{"line":17,"column":63}},"18":{"start":{"line":18,"column":17},"end":{"line":18,"column":53}},"19":{"start":{"line":21,"column":0},"end":{"line":24,"column":36}},"20":{"start":{"line":25,"column":0},"end":{"line":28,"column":45}},"21":{"start":{"line":29,"column":0},"end":{"line":32,"column":45}},"22":{"start":{"line":33,"column":0},"end":{"line":36,"column":45}},"23":{"start":{"line":37,"column":0},"end":{"line":40,"column":42}},"24":{"start":{"line":41,"column":0},"end":{"line":44,"column":39}},"25":{"start":{"line":45,"column":0},"end":{"line":48,"column":39}},"26":{"start":{"line":46,"column":26},"end":{"line":46,"column":42}},"27":{"start":{"line":49,"column":0},"end":{"line":52,"column":43}},"28":{"start":{"line":53,"column":0},"end":{"line":56,"column":43}},"29":{"start":{"line":57,"column":0},"end":{"line":57,"column":26}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":46,"column":20},"end":{"line":46,"column":21}},"loc":{"start":{"line":46,"column":26},"end":{"line":46,"column":42}},"line":46}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"14":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"15":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"16":{"loc":{"start":{"line":47,"column":30},"end":{"line":47,"column":130}},"type":"cond-expr","locations":[{"start":{"line":47,"column":119},"end":{"line":47,"column":121}},{"start":{"line":47,"column":124},"end":{"line":47,"column":130}}],"line":47},"17":{"loc":{"start":{"line":47,"column":43},"end":{"line":47,"column":100}},"type":"binary-expr","locations":[{"start":{"line":47,"column":43},"end":{"line":47,"column":81}},{"start":{"line":47,"column":85},"end":{"line":47,"column":100}}],"line":47},"18":{"loc":{"start":{"line":51,"column":30},"end":{"line":51,"column":132}},"type":"cond-expr","locations":[{"start":{"line":51,"column":121},"end":{"line":51,"column":123}},{"start":{"line":51,"column":126},"end":{"line":51,"column":132}}],"line":51},"19":{"loc":{"start":{"line":51,"column":43},"end":{"line":51,"column":102}},"type":"binary-expr","locations":[{"start":{"line":51,"column":43},"end":{"line":51,"column":82}},{"start":{"line":51,"column":86},"end":{"line":51,"column":102}}],"line":51},"20":{"loc":{"start":{"line":55,"column":30},"end":{"line":55,"column":132}},"type":"cond-expr","locations":[{"start":{"line":55,"column":121},"end":{"line":55,"column":123}},{"start":{"line":55,"column":126},"end":{"line":55,"column":132}}],"line":55},"21":{"loc":{"start":{"line":55,"column":43},"end":{"line":55,"column":102}},"type":"binary-expr","locations":[{"start":{"line":55,"column":43},"end":{"line":55,"column":82}},{"start":{"line":55,"column":86},"end":{"line":55,"column":102}}],"line":55}},"s":{"0":1,"1":9,"2":9,"3":9,"4":9,"5":0,"6":0,"7":0,"8":0,"9":9,"10":1,"11":9,"12":9,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":0,"27":1,"28":1,"29":1},"f":{"0":9,"1":9,"2":1,"3":0},"b":{"0":[1,1,1],"1":[0,9],"2":[0,9],"3":[9,0],"4":[9,9],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[9,9,0],"10":[1,1,1],"11":[9,0],"12":[9,9],"13":[1,1,1],"14":[1,0],"15":[1,1],"16":[0,1],"17":[1,0],"18":[1,0],"19":[1,1],"20":[1,0],"21":[1,1]},"inputSourceMap":{"version":3,"file":"Vehicle.js","sourceRoot":"","sources":["Vehicle.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,iCAAgC;AAChC,gEAA+E;AAC/E,sDAA8B;AAE9B,MAAqB,OAAQ,SAAQ,eAAS;CA2B7C;AAzBC;IADC,YAAM,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;;mCACX;AAGjB;IADC,YAAM,EAAE;;4CACkB;AAG3B;IADC,YAAM,EAAE;;4CACkB;AAG3B;IADC,YAAM,EAAE;;4CACkB;AAG3B;IADC,YAAM,CAAC,EAAE,WAAW,EAAE,IAAI,EAAE,CAAC;;yCACN;AAGxB;IADC,YAAM,EAAE;;sCACY;AAGrB;IADC,eAAS,CAAC,GAAG,EAAE,CAAC,gBAAM,CAAC;kDACV,eAAS,oBAAT,eAAS;sCAAgB;AAGvC;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACpB,gBAAQ,oBAAR,gBAAQ;0CAAA;AAG1B;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACtC,gBAAQ,oBAAR,gBAAQ;0CAAA;AA1B5B,0BA2BC","sourcesContent":["import { DateTime } from 'luxon'\nimport { BaseModel, BelongsTo, belongsTo, column } from '@ioc:Adonis/Lucid/Orm'\nimport Driver from './Driver';\n\nexport default class Vehicle extends BaseModel {\n  @column({ isPrimary: true })\n  public id: number\n\n  @column()\n  public vehicleType: string;\n\n  @column()\n  public modelNumber: string;\n\n  @column()\n  public plateNumber: string;\n\n  @column({ serializeAs: null })\n  public driverId: number;\n\n  @column()\n  public color: string;\n\n  @belongsTo(() => Driver)\n  public owner: BelongsTo<typeof Driver>;\n\n  @column.dateTime({ autoCreate: true })\n  public createdAt: DateTime\n\n  @column.dateTime({ autoCreate: true, autoUpdate: true })\n  public updatedAt: DateTime\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"84ada496da13d30070a91e8ccb328502bc74a415","contentHash":"4ba2bf659503a4ebf67a6df1b99c86486b03b7da3c934d48f8cb3d94bb3c6b2b"},"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\app\\Services\\PaystackService.ts":{"path":"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\app\\Services\\PaystackService.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":19},"end":{"line":6,"column":84}},"4":{"start":{"line":7,"column":16},"end":{"line":7,"column":49}},"5":{"start":{"line":8,"column":31},"end":{"line":8,"column":116}},"6":{"start":{"line":11,"column":8},"end":{"line":11,"column":50}},"7":{"start":{"line":12,"column":8},"end":{"line":17,"column":11}},"8":{"start":{"line":20,"column":8},"end":{"line":21,"column":37}},"9":{"start":{"line":24,"column":8},"end":{"line":25,"column":37}},"10":{"start":{"line":28,"column":29},"end":{"line":28,"column":34}},"11":{"start":{"line":29,"column":8},"end":{"line":31,"column":9}},"12":{"start":{"line":30,"column":12},"end":{"line":30,"column":93}},"13":{"start":{"line":32,"column":8},"end":{"line":32,"column":87}},"14":{"start":{"line":35,"column":8},"end":{"line":40,"column":35}},"15":{"start":{"line":43,"column":8},"end":{"line":45,"column":35}},"16":{"start":{"line":48,"column":0},"end":{"line":48,"column":40}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":18},"end":{"line":18,"column":5}},"line":10},"2":{"name":"(anonymous_2)","decl":{"start":{"line":19,"column":4},"end":{"line":19,"column":5}},"loc":{"start":{"line":19,"column":35},"end":{"line":22,"column":5}},"line":19},"3":{"name":"(anonymous_3)","decl":{"start":{"line":23,"column":4},"end":{"line":23,"column":5}},"loc":{"start":{"line":23,"column":22},"end":{"line":26,"column":5}},"line":23},"4":{"name":"(anonymous_4)","decl":{"start":{"line":27,"column":4},"end":{"line":27,"column":5}},"loc":{"start":{"line":27,"column":23},"end":{"line":33,"column":5}},"line":27},"5":{"name":"(anonymous_5)","decl":{"start":{"line":34,"column":4},"end":{"line":34,"column":5}},"loc":{"start":{"line":34,"column":25},"end":{"line":41,"column":5}},"line":34},"6":{"name":"(anonymous_6)","decl":{"start":{"line":42,"column":4},"end":{"line":42,"column":5}},"loc":{"start":{"line":42,"column":27},"end":{"line":46,"column":5}},"line":42}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":29,"column":8},"end":{"line":31,"column":9}},"type":"if","locations":[{"start":{"line":29,"column":8},"end":{"line":31,"column":9}},{"start":{"line":29,"column":8},"end":{"line":31,"column":9}}],"line":29},"4":{"loc":{"start":{"line":29,"column":12},"end":{"line":29,"column":37}},"type":"binary-expr","locations":[{"start":{"line":29,"column":12},"end":{"line":29,"column":20}},{"start":{"line":29,"column":24},"end":{"line":29,"column":37}}],"line":29}},"s":{"0":1,"1":3,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":2,"9":1,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":1},"f":{"0":3,"1":1,"2":2,"3":1,"4":0,"5":1,"6":0},"b":{"0":[1,1,1],"1":[2,1],"2":[3,3],"3":[0,0],"4":[0,0]},"inputSourceMap":{"version":3,"file":"PaystackService.js","sourceRoot":"","sources":["PaystackService.ts"],"names":[],"mappings":";;;;;AAAA,qFAA6C;AAC7C,kDAA6C;AAG7C,qHAAuE;AAEvE,MAAM,eAAe;IAGjB;QADiB,YAAO,GAAG,0BAA0B,CAAC;QAElD,IAAI,CAAC,MAAM,GAAG,eAAK,CAAC,MAAM,CAAC;YACvB,OAAO,EAAE,IAAI,CAAC,OAAO;YACrB,OAAO,EAAE;gBACL,aAAa,EAAE,UAAU,kBAAc,CAAC,UAAU,EAAE;aACvD;SACJ,CAAC,CAAC;IACP,CAAC;IACM,qBAAqB,CAAC,OAAoB;QAC7C,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,wBAAwB,EAAE,EAAE,GAAG,OAAO,EAAE,MAAM,EAAE,OAAO,CAAC,MAAM,GAAG,GAAG,EAAE,CAAC;aAC1F,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IACjC,CAAC;IACM,MAAM,CAAC,SAAiB;QAC3B,OAAO,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,qBAAqB,GAAG,SAAS,CAAC;aACpD,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IACjC,CAAC;IACO,WAAW,CAAC,KAAK;QACrB,MAAM,EAAE,QAAQ,EAAE,GAAG,KAAK,CAAC;QAC3B,IAAI,QAAQ,IAAI,QAAQ,CAAC,IAAI,EAAE;YAC3B,MAAM,IAAI,8BAAoB,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC;SAC1E;QACD,MAAM,IAAI,8BAAoB,CAAC,QAAQ,CAAC,UAAU,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAA;IACxE,CAAC;IACM,KAAK,CAAC,OAAe,EAAE,IAAY;QACtC,OAAO,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE;YAC3B,MAAM,EAAE;gBACJ,OAAO;gBACP,IAAI;aACP;SACJ,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IAC/B,CAAC;IACM,MAAM,CAAC,cAAsB;QAChC,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE;YAC9B,WAAW,EAAE,cAAc;SAC9B,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IAC/B,CAAC;CACJ;AAED,kBAAe,IAAI,eAAe,EAAE,CAAC","sourcesContent":["import PaystackConfig from \"Config/paystack\";\r\nimport axios, { AxiosInstance } from \"axios\";\r\nimport InitPayload from \"Contracts/paystack/InitPayload\";\r\nimport InitResponse from \"Contracts/paystack/InitResponse\";\r\nimport CustomErrorException from \"App/Exceptions/CustomErrorException\";\r\n\r\nclass PaystackService {\r\n    private readonly client: AxiosInstance;\r\n    private readonly baseUrl = \"https://api.paystack.co/\";\r\n    constructor() {\r\n        this.client = axios.create({\r\n            baseURL: this.baseUrl,\r\n            headers: {\r\n                authorization: `Bearer ${PaystackConfig.privateKey}`,\r\n            },\r\n        });\r\n    }\r\n    public initializeTransaction(payload: InitPayload): Promise<InitResponse | any> {\r\n        return this.client.post(\"transaction/initialize\", { ...payload, amount: payload.amount * 100 })\r\n            .catch(this.handleError);\r\n    }\r\n    public verify(reference: string): Promise<any> {\r\n        return this.client.get(\"transaction/verify/\" + reference)\r\n            .catch(this.handleError);\r\n    }\r\n    private handleError(error) {\r\n        const { response } = error;\r\n        if (response && response.data) {\r\n            throw new CustomErrorException(response.data.message, response.status);\r\n        }\r\n        throw new CustomErrorException(response.statusText, response.status)\r\n    }\r\n    public codes(perPage: number, page: number): Promise<any> {\r\n        return this.client.get(\"bank\", {\r\n            params: {\r\n                perPage,\r\n                page,\r\n            },\r\n        }).catch(this.handleError);\r\n    }\r\n    public refund(transactionRef: string): Promise<any> {\r\n        return this.client.post(\"refund\", {\r\n            transaction: transactionRef\r\n        }).catch(this.handleError);\r\n    }\r\n}\r\n\r\nexport default new PaystackService();\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f319454d79b01e1303e7098d6781c2664dd299ad","contentHash":"4c02b0d6a460a10dcce18475fcc360a1796fff51b67d7c88c542700c01252fb6"},"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\app\\Exceptions\\CustomErrorException.ts":{"path":"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\app\\Exceptions\\CustomErrorException.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":16},"end":{"line":3,"column":42}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":29}},"3":{"start":{"line":9,"column":8},"end":{"line":11,"column":78}},"4":{"start":{"line":14,"column":0},"end":{"line":14,"column":39}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":31},"end":{"line":7,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":38},"end":{"line":12,"column":5}},"line":8}},"branchMap":{},"s":{"0":1,"1":1,"2":0,"3":0,"4":1},"f":{"0":0,"1":0},"b":{},"inputSourceMap":{"version":3,"file":"CustomErrorException.js","sourceRoot":"","sources":["CustomErrorException.ts"],"names":[],"mappings":";;AAAA,2CAA4C;AAI5C,MAAqB,oBAAqB,SAAQ,iBAAS;IACtD,YAAY,OAAe,EAAC,IAAW;QACxC,KAAK,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;IACvB,CAAC;IACM,KAAK,CAAC,MAAM,CAAC,KAAW,EAAE,EAAE,QAAQ,EAAuB;QAChE,QAAQ;aACL,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC;aACpB,IAAI,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,OAAO,EAAE,KAAK,CAAC,OAAO,EAAE,IAAI,EAAE,KAAK,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC;IACtE,CAAC;CACF;AATD,uCASC","sourcesContent":["import { Exception } from \"@poppinss/utils\";\nimport { HttpContextContract } from \"@ioc:Adonis/Core/HttpContext\";\n\n\nexport default class CustomErrorException extends Exception {\n     constructor(message: string,code:number) {\n    super(message, code);\n  }\n  public async handle(error: this, { response }: HttpContextContract) {\n    response\n      .status(error.status)\n      .json({ errors: [{ message: error.message, name: error.name }] });\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e67c9478de8c124e300cc315f59d1553f397192c","contentHash":"d83b10f785c6b65746bfa356ee26596f9b84db51c6caae843f93e5d62fdd5354"},"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\app\\Models\\Transaction.ts":{"path":"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\app\\Models\\Transaction.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"14":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":62}},"16":{"start":{"line":16,"column":16},"end":{"line":16,"column":32}},"17":{"start":{"line":17,"column":14},"end":{"line":17,"column":63}},"18":{"start":{"line":18,"column":16},"end":{"line":18,"column":51}},"19":{"start":{"line":19,"column":17},"end":{"line":19,"column":53}},"20":{"start":{"line":22,"column":0},"end":{"line":25,"column":40}},"21":{"start":{"line":26,"column":0},"end":{"line":29,"column":53}},"22":{"start":{"line":30,"column":0},"end":{"line":33,"column":53}},"23":{"start":{"line":34,"column":0},"end":{"line":37,"column":52}},"24":{"start":{"line":38,"column":0},"end":{"line":41,"column":52}},"25":{"start":{"line":42,"column":0},"end":{"line":45,"column":45}},"26":{"start":{"line":46,"column":0},"end":{"line":49,"column":46}},"27":{"start":{"line":50,"column":0},"end":{"line":53,"column":43}},"28":{"start":{"line":51,"column":26},"end":{"line":51,"column":41}},"29":{"start":{"line":54,"column":0},"end":{"line":57,"column":44}},"30":{"start":{"line":55,"column":26},"end":{"line":55,"column":42}},"31":{"start":{"line":58,"column":0},"end":{"line":61,"column":47}},"32":{"start":{"line":62,"column":0},"end":{"line":65,"column":47}},"33":{"start":{"line":66,"column":0},"end":{"line":66,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":51,"column":20},"end":{"line":51,"column":21}},"loc":{"start":{"line":51,"column":26},"end":{"line":51,"column":41}},"line":51},"4":{"name":"(anonymous_4)","decl":{"start":{"line":55,"column":20},"end":{"line":55,"column":21}},"loc":{"start":{"line":55,"column":26},"end":{"line":55,"column":42}},"line":55}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"14":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"15":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"16":{"loc":{"start":{"line":52,"column":30},"end":{"line":52,"column":130}},"type":"cond-expr","locations":[{"start":{"line":52,"column":119},"end":{"line":52,"column":121}},{"start":{"line":52,"column":124},"end":{"line":52,"column":130}}],"line":52},"17":{"loc":{"start":{"line":52,"column":43},"end":{"line":52,"column":100}},"type":"binary-expr","locations":[{"start":{"line":52,"column":43},"end":{"line":52,"column":81}},{"start":{"line":52,"column":85},"end":{"line":52,"column":100}}],"line":52},"18":{"loc":{"start":{"line":56,"column":30},"end":{"line":56,"column":130}},"type":"cond-expr","locations":[{"start":{"line":56,"column":119},"end":{"line":56,"column":121}},{"start":{"line":56,"column":124},"end":{"line":56,"column":130}}],"line":56},"19":{"loc":{"start":{"line":56,"column":43},"end":{"line":56,"column":100}},"type":"binary-expr","locations":[{"start":{"line":56,"column":43},"end":{"line":56,"column":81}},{"start":{"line":56,"column":85},"end":{"line":56,"column":100}}],"line":56},"20":{"loc":{"start":{"line":60,"column":30},"end":{"line":60,"column":132}},"type":"cond-expr","locations":[{"start":{"line":60,"column":121},"end":{"line":60,"column":123}},{"start":{"line":60,"column":126},"end":{"line":60,"column":132}}],"line":60},"21":{"loc":{"start":{"line":60,"column":43},"end":{"line":60,"column":102}},"type":"binary-expr","locations":[{"start":{"line":60,"column":43},"end":{"line":60,"column":82}},{"start":{"line":60,"column":86},"end":{"line":60,"column":102}}],"line":60},"22":{"loc":{"start":{"line":64,"column":30},"end":{"line":64,"column":132}},"type":"cond-expr","locations":[{"start":{"line":64,"column":121},"end":{"line":64,"column":123}},{"start":{"line":64,"column":126},"end":{"line":64,"column":132}}],"line":64},"23":{"loc":{"start":{"line":64,"column":43},"end":{"line":64,"column":102}},"type":"binary-expr","locations":[{"start":{"line":64,"column":43},"end":{"line":64,"column":82}},{"start":{"line":64,"column":86},"end":{"line":64,"column":102}}],"line":64}},"s":{"0":1,"1":11,"2":11,"3":11,"4":11,"5":0,"6":0,"7":0,"8":0,"9":11,"10":1,"11":11,"12":11,"13":1,"14":2,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":9,"29":1,"30":0,"31":1,"32":1,"33":1},"f":{"0":11,"1":11,"2":2,"3":9,"4":0},"b":{"0":[1,1,1],"1":[0,11],"2":[0,11],"3":[11,0],"4":[11,11],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[11,11,0],"10":[1,1,1],"11":[11,0],"12":[11,11],"13":[1,1,1],"14":[2,0],"15":[2,2],"16":[0,1],"17":[1,0],"18":[0,1],"19":[1,0],"20":[1,0],"21":[1,1],"22":[1,0],"23":[1,1]},"inputSourceMap":{"version":3,"file":"Transaction.js","sourceRoot":"","sources":["Transaction.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,iCAAgC;AAChC,gEAA+E;AAC/E,oDAA4B;AAC5B,sDAA8B;AAE9B,MAAqB,WAAY,SAAQ,eAAS;CAiCjD;AA/BC;IADC,YAAM,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;;uCACX;AAGjB;IADC,YAAM,EAAE;;oDACuB;AAGhC;IADC,YAAM,EAAE;;oDACuB;AAGhC;IADC,YAAM,EAAE;;mDACsB;AAG/B;IADC,YAAM,EAAE;;mDACsB;AAG/B;IADC,YAAM,EAAE;;4CACc;AAGvB;IADC,YAAM,EAAE;;6CACe;AAGxB;IADC,eAAS,CAAC,GAAG,EAAE,CAAC,eAAK,CAAC;kDACT,eAAS,oBAAT,eAAS;0CAAe;AAGtC;IADC,eAAS,CAAC,GAAG,EAAE,CAAC,gBAAM,CAAC;kDACT,eAAS,oBAAT,eAAS;2CAAgB;AAGxC;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACpB,gBAAQ,oBAAR,gBAAQ;8CAAA;AAG1B;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACtC,gBAAQ,oBAAR,gBAAQ;8CAAA;AAhC5B,8BAiCC","sourcesContent":["import { DateTime } from 'luxon'\r\nimport { BaseModel, BelongsTo, belongsTo, column } from '@ioc:Adonis/Lucid/Orm'\r\nimport Rider from './Rider';\r\nimport Driver from './Driver';\r\n\r\nexport default class Transaction extends BaseModel {\r\n  @column({ isPrimary: true })\r\n  public id: number\r\n\r\n  @column()\r\n  public amountDeposited?: number;\r\n\r\n  @column()\r\n  public amountWithdrawn?: number;\r\n\r\n  @column()\r\n  public amountRemitted?: number;\r\n\r\n  @column()\r\n  public transactionRef?: string;\r\n\r\n  @column()\r\n  public riderId: number;\r\n\r\n  @column()\r\n  public driverId: number;\r\n\r\n  @belongsTo(() => Rider)\r\n  public rider: BelongsTo<typeof Rider>;\r\n\r\n  @belongsTo(() => Driver)\r\n  public driver: BelongsTo<typeof Driver>;\r\n\r\n  @column.dateTime({ autoCreate: true })\r\n  public createdAt: DateTime\r\n\r\n  @column.dateTime({ autoCreate: true, autoUpdate: true })\r\n  public updatedAt: DateTime\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"91b1c6afea0a6ee6c9db48b014988d9dd8c8d902","contentHash":"5d09869921d8e7489441802d49179c4ad7bbed9c6aaa24cf7aa61769e1500eb1"},"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\app\\Services\\TransactionService.ts":{"path":"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\app\\Services\\TransactionService.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":5,"column":8},"end":{"line":14,"column":9}},"2":{"start":{"line":7,"column":16},"end":{"line":7,"column":42}},"3":{"start":{"line":8,"column":16},"end":{"line":8,"column":42}},"4":{"start":{"line":10,"column":16},"end":{"line":10,"column":41}},"5":{"start":{"line":11,"column":16},"end":{"line":11,"column":42}},"6":{"start":{"line":13,"column":16},"end":{"line":13,"column":42}},"7":{"start":{"line":17,"column":0},"end":{"line":17,"column":43}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":4},"end":{"line":4,"column":5}},"loc":{"start":{"line":4,"column":43},"end":{"line":15,"column":5}},"line":4}},"branchMap":{"0":{"loc":{"start":{"line":5,"column":8},"end":{"line":14,"column":9}},"type":"switch","locations":[{"start":{"line":6,"column":12},"end":{"line":8,"column":42}},{"start":{"line":9,"column":12},"end":{"line":11,"column":42}},{"start":{"line":12,"column":12},"end":{"line":13,"column":42}}],"line":5}},"s":{"0":1,"1":5,"2":0,"3":0,"4":5,"5":5,"6":0,"7":1},"f":{"0":5},"b":{"0":[0,5,0]},"inputSourceMap":{"version":3,"file":"TransactionService.js","sourceRoot":"","sources":["TransactionService.ts"],"names":[],"mappings":";;AAEA,MAAM,kBAAkB;IACb,eAAe,CAAC,WAAwB,EAAE,IAAY,EAAE,EAAU;QACrE,QAAQ,IAAI,EAAE;YACV,KAAK,QAAQ;gBACT,WAAW,CAAC,QAAQ,GAAG,EAAE,CAAC;gBAC1B,OAAO,WAAW,CAAC,IAAI,EAAE,CAAC;YAC9B,KAAK,OAAO;gBACR,WAAW,CAAC,OAAO,GAAG,EAAE,CAAC;gBACzB,OAAO,WAAW,CAAC,IAAI,EAAE,CAAC;YAC9B;gBACI,OAAO,WAAW,CAAC,IAAI,EAAE,CAAC;SACjC;IACL,CAAC;CACJ;AACD,kBAAe,IAAI,kBAAkB,EAAE,CAAC","sourcesContent":["import Transaction from \"App/Models/Transaction\";\r\n\r\nclass TransactionService {\r\n    public saveTransaction(transaction: Transaction, role: string, id: number) {\r\n        switch (role) {\r\n            case 'driver':\r\n                transaction.driverId = id;\r\n                return transaction.save();\r\n            case 'rider':\r\n                transaction.riderId = id;\r\n                return transaction.save();\r\n            default:\r\n                return transaction.save();\r\n        }\r\n    }\r\n}\r\nexport default new TransactionService();"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"332bd051ca25045a6de5f74931edfcbef89a4266","contentHash":"caedb938c4916222430a3c4fcb295d5436b8d85b4e8e12838110ed33a07de7b8"},"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\app\\Services\\validators\\TransactionValidator.ts":{"path":"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\app\\Services\\validators\\TransactionValidator.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":20},"end":{"line":3,"column":74}},"2":{"start":{"line":4,"column":16},"end":{"line":4,"column":58}},"3":{"start":{"line":5,"column":20},"end":{"line":5,"column":74}},"4":{"start":{"line":8,"column":8},"end":{"line":16,"column":11}},"5":{"start":{"line":19,"column":0},"end":{"line":19,"column":45}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":4},"end":{"line":7,"column":5}},"loc":{"start":{"line":7,"column":23},"end":{"line":17,"column":5}},"line":7}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":2,"5":1},"f":{"0":2},"b":{},"inputSourceMap":{"version":3,"file":"TransactionValidator.js","sourceRoot":"","sources":["TransactionValidator.ts"],"names":[],"mappings":";;AAAA,2EAA2D;AAC3D,2DAAqC;AACrC,2EAAuD;AAEvD,MAAM,oBAAoB;IAEf,UAAU,CAAC,MAAc;QAC5B,OAAO,qBAAS,CAAC,QAAQ,CAAC;YACtB,MAAM,EAAE,kBAAM,CAAC,MAAM,CAAC;gBAClB,MAAM,EAAE,kBAAM,CAAC,MAAM,CAAC;oBAClB,iBAAK,CAAC,aAAa,EAAE;iBACxB,CAAC;aACL,CAAC;YACF,QAAQ,EAAR,gBAAQ;YACR,IAAI,EAAE,EAAE,MAAM,EAAE;SACnB,CAAC,CAAA;IACN,CAAC;CACJ;AAED,kBAAe,IAAI,oBAAoB,EAAE,CAAC","sourcesContent":["import { schema, rules } from '@ioc:Adonis/Core/Validator';\r\nimport { messages } from \"App/Utils\";\r\nimport { validator } from \"@ioc:Adonis/Core/Validator\";\r\n\r\nclass TransactionValidator {\r\n\r\n    public initialize(amount: number) {\r\n        return validator.validate({\r\n            schema: schema.create({\r\n                amount: schema.number([\r\n                    rules.notLessThan50()\r\n                ])\r\n            }),\r\n            messages,\r\n            data: { amount }\r\n        })\r\n    }\r\n}\r\n\r\nexport default new TransactionValidator();"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"9415821a901e1eded486e6ecd015b97855f07427","contentHash":"88c66410106da30d89077ee200caab2d2503bf9dd5a615f52b37bcf574cffbac"},"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\app\\Models\\Wallet.ts":{"path":"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\app\\Models\\Wallet.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"14":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":62}},"16":{"start":{"line":16,"column":16},"end":{"line":16,"column":32}},"17":{"start":{"line":17,"column":14},"end":{"line":17,"column":63}},"18":{"start":{"line":18,"column":16},"end":{"line":18,"column":51}},"19":{"start":{"line":19,"column":15},"end":{"line":19,"column":49}},"20":{"start":{"line":22,"column":8},"end":{"line":22,"column":38}},"21":{"start":{"line":25,"column":8},"end":{"line":25,"column":70}},"22":{"start":{"line":26,"column":8},"end":{"line":26,"column":100}},"23":{"start":{"line":27,"column":8},"end":{"line":27,"column":27}},"24":{"start":{"line":30,"column":8},"end":{"line":30,"column":31}},"25":{"start":{"line":31,"column":8},"end":{"line":31,"column":27}},"26":{"start":{"line":34,"column":0},"end":{"line":37,"column":35}},"27":{"start":{"line":38,"column":0},"end":{"line":41,"column":40}},"28":{"start":{"line":42,"column":0},"end":{"line":45,"column":40}},"29":{"start":{"line":46,"column":0},"end":{"line":49,"column":39}},"30":{"start":{"line":50,"column":0},"end":{"line":53,"column":50}},"31":{"start":{"line":54,"column":0},"end":{"line":57,"column":38}},"32":{"start":{"line":55,"column":26},"end":{"line":55,"column":41}},"33":{"start":{"line":58,"column":0},"end":{"line":61,"column":37}},"34":{"start":{"line":59,"column":26},"end":{"line":59,"column":40}},"35":{"start":{"line":62,"column":0},"end":{"line":65,"column":42}},"36":{"start":{"line":66,"column":0},"end":{"line":69,"column":42}},"37":{"start":{"line":70,"column":0},"end":{"line":70,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":21,"column":4},"end":{"line":21,"column":5}},"loc":{"start":{"line":21,"column":33},"end":{"line":23,"column":5}},"line":21},"4":{"name":"(anonymous_4)","decl":{"start":{"line":24,"column":4},"end":{"line":24,"column":5}},"loc":{"start":{"line":24,"column":21},"end":{"line":28,"column":5}},"line":24},"5":{"name":"(anonymous_5)","decl":{"start":{"line":29,"column":4},"end":{"line":29,"column":5}},"loc":{"start":{"line":29,"column":24},"end":{"line":32,"column":5}},"line":29},"6":{"name":"(anonymous_6)","decl":{"start":{"line":55,"column":20},"end":{"line":55,"column":21}},"loc":{"start":{"line":55,"column":26},"end":{"line":55,"column":41}},"line":55},"7":{"name":"(anonymous_7)","decl":{"start":{"line":59,"column":20},"end":{"line":59,"column":21}},"loc":{"start":{"line":59,"column":26},"end":{"line":59,"column":40}},"line":59}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"14":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"15":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"16":{"loc":{"start":{"line":25,"column":8},"end":{"line":25,"column":69}},"type":"cond-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":45}},{"start":{"line":25,"column":48},"end":{"line":25,"column":69}}],"line":25},"17":{"loc":{"start":{"line":26,"column":8},"end":{"line":26,"column":99}},"type":"cond-expr","locations":[{"start":{"line":26,"column":33},"end":{"line":26,"column":65}},{"start":{"line":26,"column":68},"end":{"line":26,"column":99}}],"line":26},"18":{"loc":{"start":{"line":56,"column":30},"end":{"line":56,"column":130}},"type":"cond-expr","locations":[{"start":{"line":56,"column":119},"end":{"line":56,"column":121}},{"start":{"line":56,"column":124},"end":{"line":56,"column":130}}],"line":56},"19":{"loc":{"start":{"line":56,"column":43},"end":{"line":56,"column":100}},"type":"binary-expr","locations":[{"start":{"line":56,"column":43},"end":{"line":56,"column":81}},{"start":{"line":56,"column":85},"end":{"line":56,"column":100}}],"line":56},"20":{"loc":{"start":{"line":60,"column":30},"end":{"line":60,"column":130}},"type":"cond-expr","locations":[{"start":{"line":60,"column":119},"end":{"line":60,"column":121}},{"start":{"line":60,"column":124},"end":{"line":60,"column":130}}],"line":60},"21":{"loc":{"start":{"line":60,"column":43},"end":{"line":60,"column":100}},"type":"binary-expr","locations":[{"start":{"line":60,"column":43},"end":{"line":60,"column":81}},{"start":{"line":60,"column":85},"end":{"line":60,"column":100}}],"line":60},"22":{"loc":{"start":{"line":64,"column":30},"end":{"line":64,"column":132}},"type":"cond-expr","locations":[{"start":{"line":64,"column":121},"end":{"line":64,"column":123}},{"start":{"line":64,"column":126},"end":{"line":64,"column":132}}],"line":64},"23":{"loc":{"start":{"line":64,"column":43},"end":{"line":64,"column":102}},"type":"binary-expr","locations":[{"start":{"line":64,"column":43},"end":{"line":64,"column":82}},{"start":{"line":64,"column":86},"end":{"line":64,"column":102}}],"line":64},"24":{"loc":{"start":{"line":68,"column":30},"end":{"line":68,"column":132}},"type":"cond-expr","locations":[{"start":{"line":68,"column":121},"end":{"line":68,"column":123}},{"start":{"line":68,"column":126},"end":{"line":68,"column":132}}],"line":68},"25":{"loc":{"start":{"line":68,"column":43},"end":{"line":68,"column":102}},"type":"binary-expr","locations":[{"start":{"line":68,"column":43},"end":{"line":68,"column":82}},{"start":{"line":68,"column":86},"end":{"line":68,"column":102}}],"line":68}},"s":{"0":1,"1":9,"2":9,"3":9,"4":9,"5":0,"6":0,"7":0,"8":0,"9":9,"10":1,"11":9,"12":9,"13":1,"14":2,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":2,"22":2,"23":2,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":0,"33":1,"34":0,"35":1,"36":1,"37":1},"f":{"0":9,"1":9,"2":2,"3":1,"4":2,"5":1,"6":0,"7":0},"b":{"0":[1,1,1],"1":[0,9],"2":[0,9],"3":[9,0],"4":[9,9],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[9,9,0],"10":[1,1,1],"11":[9,0],"12":[9,9],"13":[1,1,1],"14":[2,0],"15":[2,2],"16":[1,1],"17":[1,1],"18":[0,1],"19":[1,0],"20":[0,1],"21":[1,0],"22":[1,0],"23":[1,1],"24":[1,0],"25":[1,1]},"inputSourceMap":{"version":3,"file":"Wallet.js","sourceRoot":"","sources":["Wallet.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,iCAAgC;AAChC,gEAA+E;AAC/E,oDAA4B;AAC5B,kDAA0B;AAE1B,MAAqB,MAAO,SAAQ,eAAS;IA4BpC,oBAAoB,CAAC,MAAM;QAChC,OAAO,IAAI,CAAC,OAAO,IAAI,MAAM,CAAC;IAChC,CAAC;IACM,QAAQ,CAAC,MAAM;QACpB,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,IAAI,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;QAC9D,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,IAAI,CAAC,iBAAiB,IAAI,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,iBAAiB,GAAG,MAAM,CAAC;QAC5F,OAAO,IAAI,CAAC,IAAI,EAAE,CAAC;IACrB,CAAC;IACM,WAAW,CAAC,MAAM;QACvB,IAAI,CAAC,OAAO,IAAI,MAAM,CAAC;QACvB,OAAO,IAAI,CAAC,IAAI,EAAE,CAAC;IACrB,CAAC;CACF;AAtCC;IADC,YAAM,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;;kCACX;AAGjB;IADC,YAAM,EAAE;;uCACc;AAGvB;IADC,YAAM,EAAE;;uCACc;AAGvB;IADC,YAAM,EAAE;;sCACa;AAGtB;IADC,YAAM,EAAE;;iDACwB;AAGjC;IADC,eAAS,CAAC,GAAG,EAAE,CAAC,eAAK,CAAC;kDACT,eAAS,oBAAT,eAAS;qCAAe;AAGtC;IADC,eAAS,CAAC,GAAG,EAAE,CAAC,cAAI,CAAC;kDACT,eAAS,oBAAT,eAAS;oCAAc;AAGpC;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACpB,gBAAQ,oBAAR,gBAAQ;yCAAA;AAG1B;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACtC,gBAAQ,oBAAR,gBAAQ;yCAAA;AA1B5B,yBAwCC","sourcesContent":["import { DateTime } from 'luxon'\r\nimport { BaseModel, belongsTo, BelongsTo, column } from '@ioc:Adonis/Lucid/Orm'\r\nimport Rider from './Rider';\r\nimport User from './User';\r\n\r\nexport default class Wallet extends BaseModel {\r\n  @column({ isPrimary: true })\r\n  public id: number\r\n\r\n  @column()\r\n  public balance: number;\r\n\r\n  @column()\r\n  public riderId: number;\r\n\r\n  @column()\r\n  public userId: number;\r\n\r\n  @column()\r\n  public cummulativeAmount: number;\r\n\r\n  @belongsTo(() => Rider)\r\n  public rider: BelongsTo<typeof Rider>;\r\n\r\n  @belongsTo(() => User)\r\n  public user: BelongsTo<typeof User>;\r\n\r\n  @column.dateTime({ autoCreate: true })\r\n  public createdAt: DateTime\r\n\r\n  @column.dateTime({ autoCreate: true, autoUpdate: true })\r\n  public updatedAt: DateTime\r\n\r\n  public hasSufficientBalance(amount): boolean {\r\n    return this.balance >= amount;\r\n  }\r\n  public addMoney(amount): Promise<Wallet> {\r\n    this.balance ? this.balance += amount : this.balance = amount;\r\n    this.cummulativeAmount ? this.cummulativeAmount += amount : this.cummulativeAmount = amount;\r\n    return this.save();\r\n  }\r\n  public removeMoney(amount): Promise<Wallet> {\r\n    this.balance -= amount;\r\n    return this.save();\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e5101068328310c91a838d48f4695272aec294db","contentHash":"787f8a332bbace369f35a6df113ad0b300559d336c600ecdeae52a1bd403ee73"},"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\app\\Controllers\\Http\\AuthController.ts":{"path":"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\app\\Controllers\\Http\\AuthController.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":20},"end":{"line":6,"column":74}},"4":{"start":{"line":7,"column":16},"end":{"line":7,"column":58}},"5":{"start":{"line":8,"column":15},"end":{"line":8,"column":80}},"6":{"start":{"line":9,"column":17},"end":{"line":9,"column":84}},"7":{"start":{"line":10,"column":16},"end":{"line":10,"column":82}},"8":{"start":{"line":14,"column":8},"end":{"line":42,"column":9}},"9":{"start":{"line":15,"column":53},"end":{"line":22,"column":14}},"10":{"start":{"line":23,"column":25},"end":{"line":23,"column":45}},"11":{"start":{"line":24,"column":26},"end":{"line":24,"column":71}},"12":{"start":{"line":25,"column":28},"end":{"line":25,"column":42}},"13":{"start":{"line":26,"column":12},"end":{"line":26,"column":47}},"14":{"start":{"line":27,"column":12},"end":{"line":27,"column":46}},"15":{"start":{"line":28,"column":28},"end":{"line":28,"column":186}},"16":{"start":{"line":29,"column":30},"end":{"line":29,"column":43}},"17":{"start":{"line":30,"column":73},"end":{"line":30,"column":92}},"18":{"start":{"line":31,"column":12},"end":{"line":38,"column":14}},"19":{"start":{"line":41,"column":12},"end":{"line":41,"column":24}},"20":{"start":{"line":46,"column":8},"end":{"line":89,"column":9}},"21":{"start":{"line":47,"column":56},"end":{"line":57,"column":14}},"22":{"start":{"line":58,"column":25},"end":{"line":58,"column":45}},"23":{"start":{"line":59,"column":12},"end":{"line":59,"column":43}},"24":{"start":{"line":60,"column":12},"end":{"line":60,"column":37}},"25":{"start":{"line":61,"column":12},"end":{"line":70,"column":13}},"26":{"start":{"line":62,"column":31},"end":{"line":62,"column":53}},"27":{"start":{"line":63,"column":16},"end":{"line":63,"column":37}},"28":{"start":{"line":64,"column":16},"end":{"line":64,"column":58}},"29":{"start":{"line":67,"column":30},"end":{"line":67,"column":51}},"30":{"start":{"line":68,"column":16},"end":{"line":68,"column":36}},"31":{"start":{"line":69,"column":16},"end":{"line":69,"column":56}},"32":{"start":{"line":71,"column":26},"end":{"line":71,"column":48}},"33":{"start":{"line":72,"column":12},"end":{"line":72,"column":41}},"34":{"start":{"line":73,"column":12},"end":{"line":73,"column":40}},"35":{"start":{"line":74,"column":28},"end":{"line":74,"column":42}},"36":{"start":{"line":75,"column":12},"end":{"line":75,"column":46}},"37":{"start":{"line":76,"column":28},"end":{"line":76,"column":186}},"38":{"start":{"line":77,"column":30},"end":{"line":77,"column":43}},"39":{"start":{"line":78,"column":55},"end":{"line":78,"column":74}},"40":{"start":{"line":79,"column":12},"end":{"line":85,"column":14}},"41":{"start":{"line":88,"column":12},"end":{"line":88,"column":20}},"42":{"start":{"line":92,"column":8},"end":{"line":92,"column":29}},"43":{"start":{"line":95,"column":0},"end":{"line":95,"column":33}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":4},"end":{"line":12,"column":5}},"loc":{"start":{"line":12,"column":35},"end":{"line":43,"column":5}},"line":12},"2":{"name":"(anonymous_2)","decl":{"start":{"line":44,"column":4},"end":{"line":44,"column":5}},"loc":{"start":{"line":44,"column":38},"end":{"line":90,"column":5}},"line":44},"3":{"name":"(anonymous_3)","decl":{"start":{"line":91,"column":4},"end":{"line":91,"column":5}},"loc":{"start":{"line":91,"column":27},"end":{"line":93,"column":5}},"line":91}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":23,"column":25},"end":{"line":23,"column":45}},"type":"binary-expr","locations":[{"start":{"line":23,"column":25},"end":{"line":23,"column":30}},{"start":{"line":23,"column":34},"end":{"line":23,"column":45}}],"line":23},"4":{"loc":{"start":{"line":28,"column":28},"end":{"line":28,"column":186}},"type":"binary-expr","locations":[{"start":{"line":28,"column":29},"end":{"line":28,"column":96}},{"start":{"line":28,"column":102},"end":{"line":28,"column":168}},{"start":{"line":28,"column":173},"end":{"line":28,"column":186}}],"line":28},"5":{"loc":{"start":{"line":28,"column":29},"end":{"line":28,"column":96}},"type":"cond-expr","locations":[{"start":{"line":28,"column":82},"end":{"line":28,"column":88}},{"start":{"line":28,"column":91},"end":{"line":28,"column":96}}],"line":28},"6":{"loc":{"start":{"line":28,"column":29},"end":{"line":28,"column":79}},"type":"binary-expr","locations":[{"start":{"line":28,"column":29},"end":{"line":28,"column":62}},{"start":{"line":28,"column":66},"end":{"line":28,"column":79}}],"line":28},"7":{"loc":{"start":{"line":28,"column":102},"end":{"line":28,"column":168}},"type":"cond-expr","locations":[{"start":{"line":28,"column":154},"end":{"line":28,"column":160}},{"start":{"line":28,"column":163},"end":{"line":28,"column":168}}],"line":28},"8":{"loc":{"start":{"line":28,"column":102},"end":{"line":28,"column":151}},"type":"binary-expr","locations":[{"start":{"line":28,"column":102},"end":{"line":28,"column":134}},{"start":{"line":28,"column":138},"end":{"line":28,"column":151}}],"line":28},"9":{"loc":{"start":{"line":61,"column":12},"end":{"line":70,"column":13}},"type":"if","locations":[{"start":{"line":61,"column":12},"end":{"line":70,"column":13}},{"start":{"line":61,"column":12},"end":{"line":70,"column":13}}],"line":61},"10":{"loc":{"start":{"line":76,"column":28},"end":{"line":76,"column":186}},"type":"binary-expr","locations":[{"start":{"line":76,"column":29},"end":{"line":76,"column":96}},{"start":{"line":76,"column":102},"end":{"line":76,"column":168}},{"start":{"line":76,"column":173},"end":{"line":76,"column":186}}],"line":76},"11":{"loc":{"start":{"line":76,"column":29},"end":{"line":76,"column":96}},"type":"cond-expr","locations":[{"start":{"line":76,"column":82},"end":{"line":76,"column":88}},{"start":{"line":76,"column":91},"end":{"line":76,"column":96}}],"line":76},"12":{"loc":{"start":{"line":76,"column":29},"end":{"line":76,"column":79}},"type":"binary-expr","locations":[{"start":{"line":76,"column":29},"end":{"line":76,"column":62}},{"start":{"line":76,"column":66},"end":{"line":76,"column":79}}],"line":76},"13":{"loc":{"start":{"line":76,"column":102},"end":{"line":76,"column":168}},"type":"cond-expr","locations":[{"start":{"line":76,"column":154},"end":{"line":76,"column":160}},{"start":{"line":76,"column":163},"end":{"line":76,"column":168}}],"line":76},"14":{"loc":{"start":{"line":76,"column":102},"end":{"line":76,"column":151}},"type":"binary-expr","locations":[{"start":{"line":76,"column":102},"end":{"line":76,"column":134}},{"start":{"line":76,"column":138},"end":{"line":76,"column":151}}],"line":76}},"s":{"0":1,"1":3,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":2,"9":2,"10":2,"11":2,"12":2,"13":2,"14":2,"15":2,"16":2,"17":2,"18":2,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":1},"f":{"0":3,"1":2,"2":0,"3":0},"b":{"0":[1,1,1],"1":[3,0],"2":[3,3],"3":[2,0],"4":[2,2,0],"5":[2,0],"6":[2,2],"7":[0,2],"8":[2,2],"9":[0,0],"10":[0,0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0]},"inputSourceMap":{"version":3,"file":"AuthController.js","sourceRoot":"","sources":["AuthController.ts"],"names":[],"mappings":";;;;;AACA,2EAA2D;AAC3D,2DAAqC;AACrC,iFAAmC;AACnC,qFAAuC;AACvC,mFAAqC;AAGrC,MAAqB,cAAc;IAExB,KAAK,CAAC,KAAK,CAAC,EAAE,OAAO,EAAE,IAAI,EAAuB;;QACrD,IAAI;YACA,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,GAAG,MAAM,OAAO,CAAC,QAAQ,CAAC;gBAC5D,MAAM,EAAE,kBAAM,CAAC,MAAM,CAAC;oBAClB,QAAQ,EAAE,kBAAM,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;oBACvC,KAAK,EAAE,kBAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;oBAC7C,WAAW,EAAE,kBAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;iBACtD,CAAC;gBACF,QAAQ,EAAR,gBAAQ;aACX,CAAC,CAAC;YACH,MAAM,IAAI,GAAG,KAAK,IAAI,WAAqB,CAAC;YAC5C,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;YAC5D,MAAM,OAAO,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC;YAC/B,MAAM,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;YACnC,MAAM,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;YAClC,MAAM,OAAO,GAAG,OAAA,KAAK,CAAC,IAAI,CAAC,MAAM,0CAAE,EAAE,YAAI,KAAK,CAAC,IAAI,CAAC,KAAK,0CAAE,EAAE,CAAA,IAAI,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC;YAC/E,MAAM,SAAS,GAAG,OAAO,CAAC,KAAK,CAAC;YAChC,MAAM,EAAE,KAAK,EAAE,SAAS,EAAE,YAAY,EAAE,IAAI,EAAE,UAAU,EAAE,GAAG,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC;YAEjF,OAAO;gBACH,OAAO;gBACP,KAAK,EAAE,SAAS;gBAChB,KAAK,EAAE,SAAS;gBAChB,YAAY;gBACZ,IAAI;gBACJ,UAAU;aACb,CAAC;SACL;QAAC,OAAO,KAAK,EAAE;YACZ,MAAM,KAAK,CAAA;SACd;IACL,CAAC;IACM,KAAK,CAAC,QAAQ,CAAC,EAAE,OAAO,EAAE,IAAI,EAAuB;;QACxD,IAAI;YACA,MAAM,EAAE,QAAQ,EAAE,WAAW,EAAE,QAAQ,EAAE,GAAG,MAAM,OAAO,CAAC,QAAQ,CAAC;gBAC/D,MAAM,EAAE,kBAAM,CAAC,MAAM,CAAC;oBAClB,QAAQ,EAAE,kBAAM,CAAC,OAAO,CAAC,QAAQ,EAAE;oBACnC,WAAW,EAAE,kBAAM,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE;wBACvC,iBAAK,CAAC,MAAM,CAAC,EAAE,KAAK,EAAE,OAAO,EAAE,MAAM,EAAE,cAAc,EAAE,CAAC;wBACxD,iBAAK,CAAC,MAAM,EAAE;qBACjB,CAAC;oBACF,QAAQ,EAAE,kBAAM,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;iBAC1C,CAAC;gBACF,QAAQ,EAAR,gBAAQ;aACX,CAAC,CAAC;YACH,MAAM,IAAI,GAAG,IAAI,cAAI,EAAE,CAAC;YACxB,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;YAC/B,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;YAEzB,IAAI,QAAQ,EAAE;gBACV,MAAM,MAAM,GAAG,IAAI,gBAAM,EAAE,CAAC;gBAC5B,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC;gBACrB,MAAM,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA;aAC5C;iBAAM;gBACH,MAAM,KAAK,GAAG,IAAI,eAAK,EAAE,CAAC;gBAC1B,IAAI,CAAC,IAAI,GAAG,OAAO,CAAC;gBACpB,MAAM,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aAC3C;YACD,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YACrC,MAAM,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;YAC7B,MAAM,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;YAC5B,MAAM,OAAO,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC;YAC/B,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAA;YACjC,MAAM,OAAO,GAAG,OAAA,KAAK,CAAC,IAAI,CAAC,MAAM,0CAAE,EAAE,YAAI,KAAK,CAAC,IAAI,CAAC,KAAK,0CAAE,EAAE,CAAA,IAAI,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC;YAC/E,MAAM,SAAS,GAAG,OAAO,CAAC,KAAK,CAAC;YAChC,MAAM,EAAE,YAAY,EAAE,IAAI,EAAE,UAAU,EAAE,GAAG,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC;YAE/D,OAAO;gBACH,OAAO;gBACP,KAAK,EAAE,SAAS;gBAChB,YAAY;gBACZ,IAAI;gBACJ,UAAU;aACb,CAAC;SACL;QAAC,OAAO,CAAC,EAAE;YACR,MAAM,CAAC,CAAC;SACX;IACL,CAAC;IACM,KAAK,CAAC,MAAM,CAAC,EAAE,IAAI,EAAuB;QAC7C,OAAO,IAAI,CAAC,MAAM,EAAE,CAAC;IACzB,CAAC;CACJ;AAlFD,iCAkFC","sourcesContent":["import { HttpContextContract } from '@ioc:Adonis/Core/HttpContext'\r\nimport { schema, rules } from \"@ioc:Adonis/Core/Validator\";\r\nimport { messages } from \"App/Utils\";\r\nimport User from 'App/Models/User';\r\nimport Driver from 'App/Models/Driver';\r\nimport Rider from 'App/Models/Rider';\r\n\r\n\r\nexport default class AuthController {\r\n\r\n    public async login({ request, auth }: HttpContextContract) {\r\n        try {\r\n            const { password, email, phoneNumber } = await request.validate({\r\n                schema: schema.create({\r\n                    password: schema.string({ trim: true }),\r\n                    email: schema.string.optional({ trim: true }),\r\n                    phoneNumber: schema.string.optional({ trim: true }),\r\n                }),\r\n                messages\r\n            });\r\n            const uids = email || phoneNumber as string;\r\n            const token = await auth.use(\"api\").attempt(uids, password);\r\n            const payload = token.toJSON();\r\n            await token.user.preload('driver');\r\n            await token.user.preload('rider');\r\n            const user_id = token.user.driver?.id || token.user.rider?.id || token.user.id;\r\n            const userToken = payload.token;\r\n            const { email: userEmail, phone_number, role, created_at } = token.user.toJSON();\r\n\r\n            return {\r\n                user_id,\r\n                token: userToken,\r\n                email: userEmail,\r\n                phone_number,\r\n                role,\r\n                created_at\r\n            };\r\n        } catch (error) {\r\n            throw error\r\n        }\r\n    }\r\n    public async register({ request, auth }: HttpContextContract) {\r\n        try {\r\n            const { isDriver, phoneNumber, password } = await request.validate({\r\n                schema: schema.create({\r\n                    isDriver: schema.boolean.optional(),\r\n                    phoneNumber: schema.string({ trim: true }, [\r\n                        rules.unique({ table: 'users', column: \"phone_number\" }),\r\n                        rules.mobile()\r\n                    ]),\r\n                    password: schema.string({ trim: true }),\r\n                }),\r\n                messages\r\n            });\r\n            const user = new User();\r\n            user.phoneNumber = phoneNumber;\r\n            user.password = password;\r\n\r\n            if (isDriver) {\r\n                const driver = new Driver();\r\n                user.role = 'driver';\r\n                await user.related('driver').save(driver)\r\n            } else {\r\n                const rider = new Rider();\r\n                user.role = 'rider';\r\n                await user.related('rider').save(rider);\r\n            }\r\n            const token = await auth.login(user);\r\n            await user.preload('driver');\r\n            await user.preload('rider');\r\n            const payload = token.toJSON();\r\n            console.log('id', user.driver.id)\r\n            const user_id = token.user.driver?.id || token.user.rider?.id || token.user.id;\r\n            const userToken = payload.token;\r\n            const { phone_number, role, created_at } = token.user.toJSON();\r\n\r\n            return {\r\n                user_id,\r\n                token: userToken,\r\n                phone_number,\r\n                role,\r\n                created_at\r\n            };\r\n        } catch (e) {\r\n            throw e;\r\n        }\r\n    }\r\n    public async logout({ auth }: HttpContextContract) {\r\n        return auth.logout();\r\n    }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ac72434dd37998beafd27465f8b45d4a2e52594f","contentHash":"928ab605a6790c2d34aec08f855dd57a983974816251b59dc384c16a771cb20a"},"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\app\\Middleware\\Auth.ts":{"path":"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\app\\Middleware\\Auth.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":21},"end":{"line":3,"column":63}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":35}},"3":{"start":{"line":10,"column":8},"end":{"line":16,"column":9}},"4":{"start":{"line":11,"column":12},"end":{"line":11,"column":39}},"5":{"start":{"line":12,"column":12},"end":{"line":15,"column":13}},"6":{"start":{"line":13,"column":16},"end":{"line":13,"column":42}},"7":{"start":{"line":14,"column":16},"end":{"line":14,"column":28}},"8":{"start":{"line":17,"column":8},"end":{"line":17,"column":140}},"9":{"start":{"line":20,"column":23},"end":{"line":20,"column":71}},"10":{"start":{"line":21,"column":8},"end":{"line":21,"column":46}},"11":{"start":{"line":22,"column":8},"end":{"line":22,"column":21}},"12":{"start":{"line":25,"column":0},"end":{"line":25,"column":33}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":18},"end":{"line":7,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":37},"end":{"line":18,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":19,"column":4},"end":{"line":19,"column":5}},"loc":{"start":{"line":19,"column":47},"end":{"line":23,"column":5}},"line":19}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":12},"end":{"line":15,"column":13}},"type":"if","locations":[{"start":{"line":12,"column":12},"end":{"line":15,"column":13}},{"start":{"line":12,"column":12},"end":{"line":15,"column":13}}],"line":12},"1":{"loc":{"start":{"line":20,"column":23},"end":{"line":20,"column":71}},"type":"cond-expr","locations":[{"start":{"line":20,"column":45},"end":{"line":20,"column":57}},{"start":{"line":20,"column":60},"end":{"line":20,"column":71}}],"line":20}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":1,"10":1,"11":1,"12":1},"f":{"0":1,"1":1,"2":1},"b":{"0":[1,0],"1":[0,1]},"inputSourceMap":{"version":3,"file":"Auth.js","sourceRoot":"","sources":["Auth.ts"],"names":[],"mappings":";;AACA,gEAAyE;AASzE,MAAqB,cAAc;IAAnC;QAIY,eAAU,GAAG,QAAQ,CAAA;IAwDjC,CAAC;IA9CW,KAAK,CAAC,YAAY,CAAE,IAAiC,EAAE,MAAa;QAO5E,IAAI,kBAAsC,CAAA;QAE1C,KAAK,IAAI,KAAK,IAAI,MAAM,EAAE;YACxB,kBAAkB,GAAG,KAAK,CAAA;YAE1B,IAAI,MAAM,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,EAAE;gBAMjC,IAAI,CAAC,YAAY,GAAG,KAAK,CAAA;gBACzB,OAAO,IAAI,CAAA;aACZ;SACF;QAKD,MAAM,IAAI,oCAAuB,CAC/B,qBAAqB,EACrB,uBAAuB,EACvB,kBAAkB,EAClB,IAAI,CAAC,UAAU,CAChB,CAAA;IACH,CAAC;IAKM,KAAK,CAAC,MAAM,CAAE,EAAE,IAAI,EAAuB,EAAE,IAAyB,EAAE,YAAsB;QAKnG,MAAM,MAAM,GAAG,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;QAC/D,MAAM,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,MAAM,CAAC,CAAA;QACrC,MAAM,IAAI,EAAE,CAAA;IACd,CAAC;CACF;AA5DD,iCA4DC","sourcesContent":["import { HttpContextContract } from '@ioc:Adonis/Core/HttpContext'\nimport { AuthenticationException } from '@adonisjs/auth/build/standalone'\n\n/**\n * Auth middleware is meant to restrict un-authenticated access to a given route\n * or a group of routes.\n *\n * You must register this middleware inside `start/kernel.ts` file under the list\n * of named middleware.\n */\nexport default class AuthMiddleware {\n  /**\n  * The URL to redirect to when request is Unauthorized\n  */\n  protected redirectTo = '/login'\n\n  /**\n   * Authenticates the current HTTP request against a custom set of defined\n   * guards.\n   *\n   * The authentication loop stops as soon as the user is authenticated using any\n   * of the mentioned guards and that guard will be used by the rest of the code\n   * during the current request.\n   */\n  protected async authenticate (auth: HttpContextContract['auth'], guards: any[]) {\n    /**\n     * Hold reference to the guard last attempted within the for loop. We pass\n     * the reference of the guard to the \"AuthenticationException\", so that\n     * it can decide the correct response behavior based upon the guard\n     * driver\n     */\n    let guardLastAttempted: string | undefined\n\n    for (let guard of guards) {\n      guardLastAttempted = guard\n\n      if (await auth.use(guard).check()) {\n        /**\n         * Instruct auth to use the given guard as the default guard for\n         * the rest of the request, since the user authenticated\n         * succeeded here\n         */\n        auth.defaultGuard = guard\n        return true\n      }\n    }\n\n    /**\n     * Unable to authenticate using any guard\n     */\n    throw new AuthenticationException(\n      'Unauthorized access',\n      'E_UNAUTHORIZED_ACCESS',\n      guardLastAttempted,\n      this.redirectTo,\n    )\n  }\n\n  /**\n   * Handle request\n   */\n  public async handle ({ auth }: HttpContextContract, next: () => Promise<void>, customGuards: string[]) {\n    /**\n     * Uses the user defined guards or the default guard mentioned in\n     * the config file\n     */\n    const guards = customGuards.length ? customGuards : [auth.name]\n    await this.authenticate(auth, guards)\n    await next()\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"571cfecf102cdb2b264cd4c1d11081b225d08514","contentHash":"65ac44d717356fc0cd8ec988fc16c67e742f8008f2c9a19be78e7ec323fcdc23"},"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\app\\Controllers\\Http\\TransactionsController.ts":{"path":"C:\\Users\\usr\\Documents\\projects\\saferide\\backend\\app\\Controllers\\Http\\TransactionsController.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":22},"end":{"line":6,"column":94}},"4":{"start":{"line":7,"column":26},"end":{"line":7,"column":104}},"5":{"start":{"line":8,"column":29},"end":{"line":8,"column":110}},"6":{"start":{"line":9,"column":31},"end":{"line":9,"column":125}},"7":{"start":{"line":10,"column":17},"end":{"line":10,"column":34}},"8":{"start":{"line":13,"column":34},"end":{"line":13,"column":37}},"9":{"start":{"line":14,"column":27},"end":{"line":14,"column":102}},"10":{"start":{"line":15,"column":21},"end":{"line":15,"column":30}},"11":{"start":{"line":16,"column":8},"end":{"line":16,"column":36}},"12":{"start":{"line":17,"column":22},"end":{"line":17,"column":80}},"13":{"start":{"line":18,"column":63},"end":{"line":18,"column":165}},"14":{"start":{"line":19,"column":28},"end":{"line":19,"column":55}},"15":{"start":{"line":20,"column":8},"end":{"line":20,"column":45}},"16":{"start":{"line":21,"column":8},"end":{"line":21,"column":39}},"17":{"start":{"line":22,"column":8},"end":{"line":22,"column":40}},"18":{"start":{"line":23,"column":8},"end":{"line":23,"column":47}},"19":{"start":{"line":24,"column":8},"end":{"line":24,"column":98}},"20":{"start":{"line":25,"column":8},"end":{"line":25,"column":50}},"21":{"start":{"line":28,"column":0},"end":{"line":28,"column":41}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":4},"end":{"line":12,"column":5}},"loc":{"start":{"line":12,"column":26},"end":{"line":26,"column":5}},"line":12}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":17,"column":22},"end":{"line":17,"column":80}},"type":"cond-expr","locations":[{"start":{"line":17,"column":35},"end":{"line":17,"column":45}},{"start":{"line":17,"column":48},"end":{"line":17,"column":80}}],"line":17}},"s":{"0":1,"1":4,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1},"f":{"0":4,"1":1},"b":{"0":[1,1,1],"1":[4,0],"2":[4,4],"3":[1,0]},"inputSourceMap":{"version":3,"file":"TransactionsController.js","sourceRoot":"","sources":["TransactionsController.ts"],"names":[],"mappings":";;;;;AACA,+FAAiD;AACjD,yGAA2D;AAC3D,+GAAiE;AACjE,8HAAgF;AAChF,mCAAgC;AAEhC,MAAqB,sBAAsB;IAEhC,KAAK,CAAC,UAAU,CAAC,GAAwB;QAC5C,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,GAAG,CAAC;QAC9B,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,8BAAoB,CAAC,UAAU,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,CAAC;QACrF,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;QACvB,MAAM,IAAK,CAAC,OAAO,CAAC,OAAO,CAAC,CAAA;QAC5B,MAAM,KAAK,GAAG,IAAK,CAAC,KAAK,CAAC,CAAC,CAAC,IAAK,CAAC,KAAK,CAAC,CAAC,CAAC,eAAM,EAAE,GAAG,YAAY,CAAC;QAClE,MAAM,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE,WAAW,EAAE,SAAS,EAAE,EAAE,EAAE,GAAG,MAAM,yBAAe,CAAC,qBAAqB,CAAC,EAAE,MAAM,EAAE,KAAK,EAAE,SAAS,EAAE,eAAM,EAAE,EAAE,CAAC,CAAC;QAC3I,MAAM,WAAW,GAAG,IAAI,qBAAW,EAAE,CAAC;QACtC,WAAW,CAAC,eAAe,GAAG,MAAM,CAAC;QACrC,WAAW,CAAC,cAAc,GAAG,CAAC,CAAC;QAC/B,WAAW,CAAC,eAAe,GAAG,CAAC,CAAC;QAChC,WAAW,CAAC,cAAc,GAAG,SAAS,CAAC;QACvC,MAAM,4BAAkB,CAAC,eAAe,CAAC,WAAW,EAAE,IAAK,CAAC,IAAI,EAAE,IAAK,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;QAClF,OAAO,EAAE,WAAW,EAAE,SAAS,EAAE,MAAM,EAAE,CAAA;IAC7C,CAAC;CACJ;AAjBD,yCAiBC","sourcesContent":["import { HttpContextContract } from '@ioc:Adonis/Core/HttpContext'\r\nimport Transaction from 'App/Models/Transaction';\r\nimport PaystackService from 'App/Services/PaystackService';\r\nimport TransactionService from 'App/Services/TransactionService';\r\nimport TransactionValidator from 'App/Services/validators/TransactionValidator';\r\nimport { nanoid } from \"nanoid\";\r\n\r\nexport default class TransactionsController {\r\n\r\n    public async initialize(ctx: HttpContextContract) {\r\n        const { request, auth } = ctx;\r\n        const { amount } = await TransactionValidator.initialize(request.input('amount', 0));\r\n        const user = auth.user;\r\n        await user!.preload('rider')\r\n        const email = user!.email ? user!.email : nanoid() + '@gmail.com';\r\n        const { data: { data: { access_code, reference } } } = await PaystackService.initializeTransaction({ amount, email, reference: nanoid() });\r\n        const transaction = new Transaction();\r\n        transaction.amountDeposited = amount;\r\n        transaction.amountRemitted = 0;\r\n        transaction.amountWithdrawn = 0;\r\n        transaction.transactionRef = reference;\r\n        await TransactionService.saveTransaction(transaction, user!.role, user!.rider.id);\r\n        return { access_code, reference, amount }\r\n    }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"43a40e2d760700a70f36f17c977a0fca541dcd67","contentHash":"3cd2446450a4698b27035e00a4b3632661579b7e4a551f536d5c475e0056a407"}}